globalThis.datascript = {};(function(){
'use strict';var j2=function(a,b,c,d,e){this.Ne=a;this.Hi=b;this.Ji=c;this.we=d;this.jb=e;this.G=2147484416;this.J=0},l2=function(a,b,c){var d=a.Ne,e=a.Hi,f=a.Ji,g=a.we;a=a.jb;var h=f.g?f.g(b,null):f.call(null,b,null);if($APP.p(h))return new j2(d,$APP.Vi.j($APP.zm.g(e,h),g,b),$APP.Vi.j(f,b,g),g+1,a);b=new j2($APP.Vi.j(d,b,c),$APP.Vi.j(e,g,b),$APP.Vi.j(f,b,g),g+1,a);return k2.h?k2.h(b):k2.call(null,b)},k2=function(a){if($APP.de(a.Ne)>a.jb){var b=a.Ne,c=a.Hi,d=a.Ji,e=a.we;a=a.jb;var f=$APP.y(c),g=$APP.C.j(f,
0,null);f=$APP.C.j(f,1,null);return new j2($APP.zm.g(b,f),$APP.zm.g(c,g),$APP.zm.g(d,f),e,a)}return a},m2=function(a,b,c){if(null!=a&&null!=a.Ei)a=a.Ei(a,b,c);else{var d=m2[$APP.ma(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=m2._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("ICache.-get",a);}return a},o2=function(){var a=$APP.Kg(new j2($APP.fg,$APP.vy(),$APP.fg,0,100));if("undefined"===typeof datascript||"undefined"===typeof Xya||"undefined"===typeof n2)n2=
function(b,c,d){this.jb=b;this.Xf=c;this.qk=d;this.G=393216;this.J=0},n2.prototype.W=function(b,c){return new n2(this.jb,this.Xf,c)},n2.prototype.U=function(){return this.qk},n2.prototype.Ei=function(b,c,d){b=$APP.Te.j($APP.r(this.Xf),c,null);return null==b?(d=d.B?d.B():d.call(null),$APP.id(this.Xf,$APP.Vi.j($APP.r(this.Xf),c,d)),d):b},n2.Mc=!0,n2.Ac="datascript.lru/t_datascript$lru38213",n2.Vc=function(b){return $APP.Lc(b,"datascript.lru/t_datascript$lru38213")};return new n2(100,a,$APP.fg)},Yya=
function(a){return $APP.df.j(function(b,c){b.push(c);return b},[],a)},p2=function(a){return a instanceof Array},q2=function(a,b,c,d){for(var e=0,f=$APP.qf(c);;)if(e<=f){c=e+f>>>1;var g=b[c];0>(a.g?a.g(g,d):a.call(null,g,d))?e=c+1:f=c-1}else return e},r2=function(a,b,c,d){for(var e=0,f=$APP.qf(c);;)if(e<=f){c=e+f>>>1;var g=b[c];0<(a.g?a.g(g,d):a.call(null,g,d))?f=c-1:e=c+1}else return e},s2=function(a,b,c){var d=b.length,e=q2(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.g?a.g(b,c):a.call(null,b,c));return d?
e:-1},t2=function(a,b,c){var d=b.length;a=q2(a,b,d-1,c);return a===d?-1:a},u2=function(a,b,c,d,e,f){var g=f.length,h=d-b,n=h+g,k=Array(h+g+(c-e));d-=b;for(var u=0;;)if(u<d)k[u+0]=a[u+b],u+=1;else break;b=g-0;for(g=0;;)if(g<b)k[g+h]=f[g+0],g+=1;else break;c-=e;for(f=0;;)if(f<c)k[f+n]=a[f+e],f+=1;else break;return k},v2=function(a,b,c,d){return u2(a,0,a.length,b,c,d)},w2=function(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,g=Array(f);e=Array(e-f);if(c<=f){for(var h=c-0,n=0;;)if(n<h)g[n+0]=a[n+0],n+=
1;else break;a=f-c;for(h=0;;)if(h<a)g[h+c]=b[h+0],h+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{h=f-0;for(n=0;;)if(n<h)g[n+0]=a[n+0],n+=1;else break;h=c-f;for(n=0;;)if(n<h)e[n+0]=a[n+f],n+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[g,e]},x2=function(a,b,c,d,e,f){d-=c;if(f=d===f-0)for(f=0;;){if(f===d)return!0;var g=b[f+c],h=e[f+0];if(0!==(a.g?a.g(g,h):a.call(null,g,h)))return!1;f+=1}else return f},y2=function(a,b){return $APP.p(a)?$APP.p(b)?
[a,b]:[a]:[b]},z2=function(a,b,c){return $APP.p(a)?$APP.p(b)?$APP.p(c)?[a,b,c]:[a,b]:$APP.p(c)?[a,c]:[a]:$APP.p(b)?$APP.p(c)?[b,c]:[b]:[c]},A2=function(a){if(null!=a&&null!=a.Ih)a=a.Ih(a);else{var b=A2[$APP.ma(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=A2._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw $APP.Bb("INode.node-lim-key",a);}return a},B2=function(a){if(null!=a&&null!=a.Ki)a=a.keys.length;else{var b=B2[$APP.ma(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);
else if(b=B2._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw $APP.Bb("INode.node-len",a);}return a},C2=function(a,b){if(null!=a&&null!=a.Kh)a=a.Kh(a,b);else{var c=C2[$APP.ma(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=C2._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Bb("INode.node-merge",a);}return a},D2=function(a,b){if(null!=a&&null!=a.Lh)a=a.Lh(a,b);else{var c=D2[$APP.ma(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=D2._,null!=c)a=
c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Bb("INode.node-merge-n-split",a);}return a},E2=function(a,b,c){if(null!=a&&null!=a.Jh)a=a.Jh(a,b,c);else{var d=E2[$APP.ma(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=E2._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("INode.node-lookup",a);}return a},F2=function(a,b,c){if(null!=a&&null!=a.Gh)a=a.Gh(a,b,c);else{var d=F2[$APP.ma(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=F2._,
null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("INode.node-conj",a);}return a},G2=function(a,b,c,d,e,f){if(null!=a&&null!=a.Hh)a=a.Hh(a,b,c,d,e,f);else{var g=G2[$APP.ma(null==a?null:a)];if(null!=g)a=g.ua?g.ua(a,b,c,d,e,f):g.call(null,a,b,c,d,e,f);else if(g=G2._,null!=g)a=g.ua?g.ua(a,b,c,d,e,f):g.call(null,a,b,c,d,e,f);else throw $APP.Bb("INode.node-disj",a);}return a},H2=function(a,b,c,d){if($APP.p(b))return[a];if(16<B2(a))return z2(c,a,d);if($APP.p($APP.p(c)?16>=B2(c):c))return y2(C2(c,
a),d);if($APP.p($APP.p(d)?16>=B2(d):d))return y2(c,C2(a,d));if($APP.p($APP.p(c)?null==d||B2(c)<B2(d):c))return a=D2(c,a),z2(a[0],a[1],d);a=D2(a,d);return z2(c,a[0],a[1])},I2=function(a,b){this.keys=a;this.Pb=b},J2=function(a){this.keys=a},K2=function(a,b,c,d,e,f){this.root=a;this.shift=b;this.M=c;this.Ic=d;this.K=e;this.Lc=f;this.G=2297303311;this.J=8332},N2=function(a,b){var c=a.shift;for(a=a.root;;)if(0<c)a=a.Pb[L2&b>>>c],c-=M2;else return a.keys},O2=function(a,b,c,d){return new K2(b,c,d,a.Ic,a.K,
null)},Q2=function(a,b){return P2(a.root,b,a.shift)},R2=function(a,b){for(var c=0;;)if(0<b)c|=a.Pb.length-1<<b,b-=M2,a=a.Pb,a=a[a.length-1];else return c|a.keys.length-1<<0},T2=function(a,b){return S2(a.root,b,a.shift)},V2=function(a){if(0<B2(a.root)){var b=R2(a.root,a.shift)+1;return U2.j?U2.j(a,0,b):U2.call(null,a,0,b)}return null},W2=function(a,b,c){this.H=a;this.kb=b;this.end=c;this.G=524306;this.J=0},X2=function(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.G=2309488832;
this.J=1536},U2=function(a,b,c){return new X2(a,b,c,N2(a,b),L2&b>>>0)},Y2=function(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.G=2308964544;this.J=0},Z2=function(a,b,c){return new Y2(a,b,c,N2(a,c),L2&c>>>0)},$2=function(a,b,c,d){a:if(null==b)b=0;else for(var e=a.root,f=0,g=a.shift;;){var h=B2(e);if(0===g){var n=e.keys;n=q2(d,n,h-1,b);b=h===n?-1:f|n<<0;break a}n=e.keys;n=q2(d,n,h-2,b);f|=n<<g;g-=M2;e=e.Pb[n]}if(0>b)return null;a:if(null==c)c=R2(a.root,a.shift)+1;else for(e=
a.root,f=0,g=a.shift;;){n=B2(e);if(0===g){h=e.keys;n=r2(d,h,n-1,c);c=f|n<<0;break a}h=e.keys;n=r2(d,h,n-2,c);f|=n<<g;g-=M2;e=e.Pb[n]}return c>b?new X2(a,b,c,N2(a,b),L2&b>>>0):null},a3=function(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.h?a.h(f):a.call(null,f);b[e]=f;d+=1}else break;return b},b3=function(a){var b=a.length,c=$APP.Sc($APP.ch);if(0<b)for(var d=0;;){var e=b-d;if(32>=e){$APP.bh.g(c,a.slice(d));break}else 40<=e?($APP.bh.g(c,a.slice(d,d+24)),d+=24):(e>>>=1,$APP.bh.g(c,a.slice(d,
d+e)),d+=e)}return $APP.ef($APP.Uc(c))},c3=function(a,b,c){b=F2(a.root,c,b);return null==b?a:1===b.length?O2(a,b[0],a.shift,a.M+1):O2(a,new I2(b.map(A2),b),a.shift+M2,a.M+1)},d3=function(a,b,c){b=G2(a.root,c,b,!0,null,null);if(null==b)return a;b=b[0];return b instanceof I2&&1===b.Pb.length?O2(a,b.Pb[0],a.shift-M2,a.M-1):O2(a,b,a.shift,a.M-1)},e3=function(a,b,c){return $2(a,b,c,a.Ic)},f3=function(a,b){for(var c=a3(function(g){return new J2(g)},b3(b)),d=c,e=0;;){var f=$APP.de(d);switch(f){case 0:return new K2(new J2([]),
0,0,a,null,null);case 1:return new K2($APP.y(d),e,b.length,a,null,null);default:d=a3(function(){return function(g){return new I2(g.map(A2),g)}}(d,e,f,c),b3(d)),e+=M2}}},g3=function(a){return new K2(new J2([]),0,0,a,null,null)},h3=function(a){return"string"!==typeof a&&($APP.Me(a)||p2(a))},Zya=function(a,b,c){return $APP.y($APP.df.j(function(d,e){var f=$APP.C.j(d,0,null);d=$APP.C.j(d,1,null);e=a.j?a.j(f,e,d):a.call(null,f,e,d);return $APP.Td(e)?$APP.Sd(new $APP.M(null,2,5,$APP.O,[e,d],null)):new $APP.M(null,
2,5,$APP.O,[e,d+1],null)},new $APP.M(null,2,5,$APP.O,[b,0],null),c))},i3=function(a,b){return $APP.yd(a,b)},j3=function(a){if(null!=a&&null!=a.Za)a=a.Za(a);else{var b=j3[$APP.ma(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=j3._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw $APP.Bb("IDatom.datom-tx",a);}return a},k3=function(a){if(null!=a&&null!=a.Wc)a=a.Wc(a);else{var b=k3[$APP.ma(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=k3._,null!=b)a=b.h?b.h(a):b.call(null,
a);else throw $APP.Bb("IDatom.datom-added",a);}return a},l3=function(a,b,c,d,e,f){this.e=a;this.a=b;this.v=c;this.tx=d;this.idx=e;this.Lc=f;this.G=2162164496;this.J=0},m3=function(a){return a instanceof l3},n3=function(a){return i3(i3($APP.xd(a.e),$APP.xd(a.a)),$APP.xd(a.v))},o3=function(a,b){return a.e===b.e&&$APP.A.g(a.a,b.a)&&$APP.A.g(a.v,b.v)},p3=function(a){return new $APP.G(null,a.e,new $APP.G(null,a.a,new $APP.G(null,a.v,new $APP.G(null,a.Za(null),new $APP.G(null,a.Wc(null),null,1,null),2,
null),3,null),4,null),5,null)},s3=function(a,b,c){return $APP.A.g(q3,b)?a.v:$APP.A.g("e",b)?a.e:$APP.A.g($APP.PD,b)?a.Wc(null):$APP.A.g("v",b)?a.v:$APP.A.g($APP.aH,b)?a.e:$APP.A.g("a",b)?a.a:$APP.A.g($ya,b)?a.Za(null):$APP.A.g("added",b)?a.Wc(null):$APP.A.g("tx",b)?a.Za(null):$APP.A.g(r3,b)?a.a:c},v3=function(a){switch(arguments.length){case 2:return t3(arguments[0],arguments[1]);case 3:return u3(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));
}},t3=function(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Za(null);case 4:return a.Wc(null);default:throw Error(["Datom/-nth: Index out of bounds: ",$APP.q.h(b)].join(""));}},u3=function(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Za(null);case 4:return a.Wc(null);default:return c}},x3=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "e":return w3.N(c,a.a,a.v,a.Za(null),a.Wc(null));case "a":return w3.N(a.e,
c,a.v,a.Za(null),a.Wc(null));case "v":return w3.N(a.e,a.a,c,a.Za(null),a.Wc(null));case "tx":return w3.N(a.e,a.a,a.v,c,a.Wc(null));case "added":return w3.N(a.e,a.a,a.v,a.Za(null),c);default:throw new aza(["invalid key for #datascript/Datom: ",$APP.q.h(b)].join(""));}},y3=function(a){return $APP.Dg.g(w3,a)},z3=function(a,b){return null==a?0:null==b?0:$APP.Ye(a,b)},A3=function(a,b){return $APP.Za($APP.Db($APP.Ab(a)),$APP.Db($APP.Ab(b)))},B3=function(a,b){try{return $APP.A.g(a,b)?0:(null!=a?a.J&2048||
$APP.wd===a.Bd||(a.J?0:$APP.zb($APP.Zc,a)):$APP.zb($APP.Zc,a))?$APP.$c(a,b):$APP.Ab(a)===$APP.Ab(b)?"number"===typeof a||"string"===typeof a||$APP.tb(a)||!0===a||!1===a?$APP.Za(a,b):$APP.xd(a)-$APP.xd(b):A3(a,b)}catch(d){if(d instanceof Error){var c=d;if($APP.Ab(a)===$APP.Ab(b))throw c;return A3(a,b)}throw d;}},C3=function(a,b){return null==a?0:null==b?0:B3(a,b)},D3=function(a,b){var c=a.e-b.e;return 0===c?(c=z3(a.a,b.a),0===c?(c=C3(a.v,b.v),0===c?(a=a.Za(null)-b.Za(null),0===a?0:a):c):c):c},E3=function(a,
b){var c=z3(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=C3(a.v,b.v),0===c?(a=a.Za(null)-b.Za(null),0===a?0:a):c):c):c},F3=function(a,b){var c=z3(a.a,b.a);return 0===c?(c=C3(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Za(null)-b.Za(null),0===a?0:a):c):c):c},G3=function(a,b){return a instanceof $APP.H?$APP.$c(a,b):$APP.Za(a,b)},H3=function(a,b){var c=a.e-b.e;return 0===c?(c=G3(a.a,b.a),0===c?(a=B3(a.v,b.v),0===a?0:a):c):c},I3=function(a,b){var c=a.e-b.e;return 0===c?(c=G3(a.a,b.a),0===c?(c=B3(a.v,b.v),0===c?
(a=a.Za(null)-b.Za(null),0===a?0:a):c):c):c},J3=function(a,b){var c=G3(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=B3(a.v,b.v),0===c?(a=a.Za(null)-b.Za(null),0===a?0:a):c):c):c},K3=function(a,b){var c=G3(a.a,b.a);return 0===c?(c=B3(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Za(null)-b.Za(null),0===a?0:a):c):c):c},L3=function(){},M3=function(a,b){if(null!=a&&null!=a.wh)a=a.wh(a,b);else{var c=M3[$APP.ma(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=M3._,null!=c)a=c.g?c.g(a,b):c.call(null,
a,b);else throw $APP.Bb("ISearch.-search",a);}return a},N3=function(a,b){return $APP.y(M3(a,b))},O3=function(a,b,c){if(null!=a&&null!=a.th)a=a.th(a,b,c);else{var d=O3[$APP.ma(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=O3._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("IIndexAccess.-datoms",a);}return a},P3=function(a,b,c){if(null!=a&&null!=a.vh)a=a.vh(a,b,c);else{var d=P3[$APP.ma(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=
P3._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("IIndexAccess.-seek-datoms",a);}return a},Q3=function(a,b,c,d){if(null!=a&&null!=a.uh)a=a.uh(a,b,c,d);else{var e=Q3[$APP.ma(null==a?null:a)];if(null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else if(e=Q3._,null!=e)a=e.F?e.F(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.Bb("IIndexAccess.-index-range",a);}return a},T3=function(a,b,c){if($APP.A.g(b,R3)&&(b=$APP.y(c),null!=b&&!$APP.p(S3.g?S3.g(a,b):S3.call(null,a,b))))throw $APP.Jm.g(["Attribute ",
$APP.ck.l($APP.D([b]))," should be marked as :db/index true"].join(""),new $APP.m(null,3,[$APP.kE,bza,cza,R3,dza,c],null));},U3=function(){},V3=function(a){if(null!=a&&null!=a.sh)a=a.sh(a);else{var b=V3[$APP.ma(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=V3._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw $APP.Bb("IDB.-schema",a);}return a},W3=function(a,b){if(null!=a&&null!=a.rh)a=a.rh(a,b);else{var c=W3[$APP.ma(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=
W3._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Bb("IDB.-attrs-by",a);}return a},X3=function(a,b,c,d,e,f,g,h,n,k,u,v,x){this.cc=a;this.Kb=b;this.hc=c;this.Zb=d;this.vc=e;this.wc=f;this.mc=g;this.lc=h;this.kc=n;this.hash=k;this.s=u;this.o=v;this.C=x;this.G=2230716170;this.J=139264},g4=function(a){var b=$APP.zm.l(a,Y3,$APP.D([Z3,$3,R3,a4,b4,c4,d4,e4,f4]));b=$APP.Ee(a)?$APP.Th.g($APP.fg,b):b;return new X3(Y3.h(a),Z3.h(a),$3.h(a),R3.h(a),a4.h(a),b4.h(a),c4.h(a),d4.h(a),e4.h(a),f4.h(a),null,
$APP.hg(b),null)},h4=function(a,b,c,d,e,f){this.oc=a;this.Jc=b;this.hash=c;this.s=d;this.o=e;this.C=f;this.G=2230716170;this.J=139264},i4=function(a){return a instanceof h4?a.oc:a},eza=function(a,b){switch(b instanceof $APP.H?b.P:null){case "db.unique/identity":return new $APP.M(null,3,5,$APP.O,[j4,k4,l4],null);case "db.unique/value":return new $APP.M(null,3,5,$APP.O,[j4,m4,l4],null);case "db.cardinality/many":return new $APP.M(null,1,5,$APP.O,[n4],null);case "db.type/ref":return new $APP.M(null,
2,5,$APP.O,[o4,l4],null);default:return $APP.A.g(p4,a)&&!0===b?new $APP.M(null,1,5,$APP.O,[p4],null):$APP.A.g(l4,a)&&!0===b?new $APP.M(null,1,5,$APP.O,[l4],null):$APP.A.g(q4,a)?new $APP.M(null,2,5,$APP.O,[r4,l4],null):$APP.ch}},fza=function(a,b){return $APP.df.j(function(c,d){return Zya(function(e,f,g){return $APP.Vn.N(e,f,$APP.Vi,d,g)},c,q4.h($APP.Te.g(a,d)))},$APP.fg,r4.h(b))},t4=function(a){var b=$APP.lf(function(c,d,e){return $APP.lf(function(f,g,h){return $APP.df.j(function(n,k){return $APP.Vn.F(n,
k,gza,d)},f,eza(g,h))},c,e)},$APP.fg,a);return $APP.Vi.j(b,s4,fza(a,b))},w4=function(a,b,c,d){if(null!=c&&!$APP.Ve(d,c))throw $APP.Jm.g(["Bad attribute specification for ",$APP.ck.l($APP.D([$APP.eg([a,$APP.eg([b,c])])])),", expected one of ",$APP.q.h(d)].join(""),new $APP.m(null,4,[$APP.kE,u4,v4,a,$APP.HF,b,$APP.vE,c],null));},A4=function(a){for(var b=$APP.w(a),c=null,d=0,e=0;;)if(e<d){var f=c.ga(null,e),g=$APP.C.j(f,0,null),h=$APP.C.j(f,1,null),n=p4.g(h,!1);w4(g,p4,p4.h(h),new $APP.$i(null,new $APP.m(null,
2,[!0,null,!1,null],null),null));if($APP.p(function(){var U=n;return $APP.p(U)?$APP.Ui.g(x4.h(h),o4):U}()))throw $APP.Jm.g(["Bad attribute specification for ",$APP.ck.l($APP.D([g])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new $APP.m(null,3,[$APP.kE,u4,v4,g,$APP.HF,p4],null));w4(g,j4,j4.h(h),new $APP.$i(null,new $APP.m(null,2,[k4,null,m4,null],null),null));w4(g,x4,x4.h(h),new $APP.$i(null,new $APP.m(null,2,[r4,null,o4,null],null),null));w4(g,y4,y4.h(h),new $APP.$i(null,
new $APP.m(null,2,[n4,null,z4,null],null),null));if($APP.A.g(r4,x4.h(h))&&!$APP.Ve(h,q4))throw $APP.Jm.g(["Bad attribute specification for ",$APP.ck.l($APP.D([g])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new $APP.m(null,3,[$APP.kE,u4,v4,g,$APP.HF,x4],null));if($APP.Ve(h,q4)){f=new $APP.m(null,3,[$APP.kE,u4,v4,g,$APP.HF,q4],null);if($APP.A.g(n4,y4.h(h)))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var k=
q4.h(h);if(!$APP.Ce(k))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs must be a sequential collection, got: ",$APP.ck.l($APP.D([k]))].join(""),f);if($APP.ye(k))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs can’t be empty"].join(""),f);k=$APP.w(k);for(var u=null,v=0,x=0;;)if(x<v){var B=u.ga(null,x),F=$APP.Vi.j(f,$APP.vE,B);if($APP.Ve($APP.Te.g(a,B),q4))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.ck.l($APP.D([B]))].join(""),
F);if($APP.A.g(n4,y4.h($APP.Te.g(a,B))))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.ck.l($APP.D([B]))].join(""),F);x+=1}else if(k=$APP.w(k)){if($APP.Ge(k))v=$APP.bd(k),k=$APP.cd(k),u=v,v=$APP.de(v);else{u=$APP.y(k);v=$APP.Vi.j(f,$APP.vE,u);if($APP.Ve($APP.Te.g(a,u),q4))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.ck.l($APP.D([u]))].join(""),v);if($APP.A.g(n4,y4.h($APP.Te.g(a,
u))))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.ck.l($APP.D([u]))].join(""),v);k=$APP.z(k);u=null;v=0}x=0}else break}e+=1}else if(g=$APP.w(b)){b=g;if($APP.Ge(b))c=$APP.bd(b),b=$APP.cd(b),g=c,d=$APP.de(c),c=g;else{c=$APP.y(b);g=$APP.C.j(c,0,null);h=$APP.C.j(c,1,null);var P=p4.g(h,!1);w4(g,p4,p4.h(h),new $APP.$i(null,new $APP.m(null,2,[!0,null,!1,null],null),null));if($APP.p(function(){var U=P;return $APP.p(U)?$APP.Ui.g(x4.h(h),o4):
U}()))throw $APP.Jm.g(["Bad attribute specification for ",$APP.ck.l($APP.D([g])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new $APP.m(null,3,[$APP.kE,u4,v4,g,$APP.HF,p4],null));w4(g,j4,j4.h(h),new $APP.$i(null,new $APP.m(null,2,[k4,null,m4,null],null),null));w4(g,x4,x4.h(h),new $APP.$i(null,new $APP.m(null,2,[r4,null,o4,null],null),null));w4(g,y4,y4.h(h),new $APP.$i(null,new $APP.m(null,2,[n4,null,z4,null],null),null));if($APP.A.g(r4,x4.h(h))&&!$APP.Ve(h,q4))throw $APP.Jm.g(["Bad attribute specification for ",
$APP.ck.l($APP.D([g])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new $APP.m(null,3,[$APP.kE,u4,v4,g,$APP.HF,x4],null));if($APP.Ve(h,q4)){c=new $APP.m(null,3,[$APP.kE,u4,v4,g,$APP.HF,q4],null);if($APP.A.g(n4,y4.h(h)))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),c);d=q4.h(h);if(!$APP.Ce(d))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs must be a sequential collection, got: ",$APP.ck.l($APP.D([d]))].join(""),
c);if($APP.ye(d))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs can’t be empty"].join(""),c);d=$APP.w(d);e=null;for(k=f=0;;)if(k<f){u=e.ga(null,k);v=$APP.Vi.j(c,$APP.vE,u);if($APP.Ve($APP.Te.g(a,u),q4))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.ck.l($APP.D([u]))].join(""),v);if($APP.A.g(n4,y4.h($APP.Te.g(a,u))))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.ck.l($APP.D([u]))].join(""),
v);k+=1}else if(d=$APP.w(d)){if($APP.Ge(d))f=$APP.bd(d),d=$APP.cd(d),e=f,f=$APP.de(f);else{e=$APP.y(d);f=$APP.Vi.j(c,$APP.vE,e);if($APP.Ve($APP.Te.g(a,e),q4))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.ck.l($APP.D([e]))].join(""),f);if($APP.A.g(n4,y4.h($APP.Te.g(a,e))))throw $APP.Jm.g([$APP.ck.l($APP.D([g]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.ck.l($APP.D([e]))].join(""),f);d=$APP.z(d);e=null;f=0}k=0}else break}b=
$APP.z(b);c=null;d=0}e=0}else return null},hza=function(a){var b=$APP.aH.h,c=w3.F(536870911,null,null,2147483647),d=w3.F(0,null,null,536870912);a=$2(a,d,c,a.Ic);a=null==a?null:$APP.Fc(a);b=b.call($APP.aH,$APP.y(a));return $APP.p(b)?b:0},B4=function(a){var b=$APP.r(a.hash);return 0===b?$APP.Ig(a.hash,i3($APP.xd(a.cc),$APP.xd(a.Kb))):b},C4=function(a){var b=$APP.r(a.hash);(function(){var c=O3(a,Z3,$APP.ch);return $APP.p(c)?c:$APP.aj})();return 0===b?(b=function(){var c=O3(a,Z3,$APP.ch);return $APP.p(c)?
c:$APP.aj}(),$APP.Ig(a.hash,i3($APP.xd(V3(a)),$APP.Nd(b)))):b},D4=function(a,b){var c;if(c=b instanceof X3||b instanceof h4)if(c=$APP.A.g(V3(a),V3(b)))a:for(a=O3(a,Z3,$APP.ch),c=O3(b,Z3,$APP.ch),b=$APP.w(a),a=$APP.w(c);;){if(null==b){c=null==a;break a}if($APP.A.g($APP.y(b),$APP.y(a)))b=$APP.z(b),a=$APP.z(a);else{c=!1;break a}}return c},E4=function(a,b,c){$APP.Lc(b,"#datascript/DB {");$APP.Lc(b,":schema ");$APP.Dj(V3(a),b,c);$APP.Lc(b,", :datoms ");$APP.Aj(b,function(d,e,f){return $APP.Aj(e,$APP.Dj,
"["," ","]",f,new $APP.M(null,4,5,$APP.O,[d.e,d.a,d.v,j3(d)],null))},"["," ","]",c,O3(a,Z3,$APP.ch));return $APP.Lc(b,"}")},H4=function(a){var b=$APP.gg(a);a=$APP.Te.g(b,Y3);b=$APP.Te.g(b,F4);return G4.g($APP.Ej.g(function(c){var d=$APP.C.j(c,0,null),e=$APP.C.j(c,1,null),f=$APP.C.j(c,2,null);c=$APP.C.j(c,3,null);return w3.F(d,e,f,c)},b),a)},N4=function(a,b,c,d,e,f,g){if($APP.p(c)){var h=new $APP.G(null,iza,new $APP.G(null,I4,new $APP.G(null,b,new $APP.G(null,c,new $APP.G(null,d,new $APP.G(null,e,
null,1,null),2,null),3,null),4,null),5,null),6,null);J4.g?J4.g(c,h):J4.call(null,c,h)}return w3.F(function(){var n=K4.g?K4.g(a,b):K4.call(null,a,b);return $APP.p(n)?n:f}(),c,$APP.p(function(){var n=null!=d;return n?L4.g?L4.g(a,c):L4.call(null,a,c):n}())?M4.g?M4.g(a,d):M4.call(null,a,d):d,function(){var n=K4.g?K4.g(a,e):K4.call(null,a,e);return $APP.p(n)?n:g}())},O4=function(a,b,c,d,e){var f=$APP.C.j(c,0,null),g=$APP.C.j(c,1,null),h=$APP.C.j(c,2,null);c=$APP.C.j(c,3,null);b=b instanceof $APP.H?b.P:
null;switch(b){case "eavt":return N4(a,f,g,h,c,d,e);case "aevt":return N4(a,g,f,h,c,d,e);case "avet":return N4(a,h,f,g,c,d,e);default:throw Error(["No matching clause: ",$APP.q.h(b)].join(""));}},P4=function(a,b,c,d,e,f,g,h){this.hd=a;this.gd=b;this.ld=c;this.jd=d;this.md=e;this.s=f;this.o=g;this.C=h;this.G=2230716170;this.J=139264},V4=function(a){var b=$APP.zm.l(a,Q4,$APP.D([R4,S4,T4,U4]));b=$APP.Ee(a)?$APP.Th.g($APP.fg,b):b;return new P4(Q4.h(a),R4.h(a),S4.h(a),T4.h(a),U4.h(a),null,$APP.hg(b),null)},
W4=function(a,b,c){return $APP.Ve(W3(a,c),b)},X4=function(a,b){return W4(a,b,n4)},L4=function(a,b){return W4(a,b,o4)},S3=function(a,b){return W4(a,b,l4)},a5=function(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw $APP.Jm.g(["Highest supported entity id is ",$APP.ck.l($APP.D([2147483647])),", got ",$APP.ck.l($APP.D([b]))].join(""),new $APP.m(null,2,[$APP.kE,Y4,$APP.vE,b],null));return b}if($APP.Ce(b)){var c=b,d=$APP.C.j(c,0,null);c=$APP.C.j(c,1,null);if($APP.Ui.g($APP.de(b),2))throw $APP.Jm.g(["Lookup ref should contain 2 elements: ",
$APP.ck.l($APP.D([b]))].join(""),new $APP.m(null,2,[$APP.kE,jza,Y4,b],null));if(W4(a,d,j4))return null==c?null:$APP.aH.h($APP.y(O3(a,R3,b)));throw $APP.Jm.g(["Lookup ref attribute should be marked as :db/unique: ",$APP.ck.l($APP.D([b]))].join(""),new $APP.m(null,2,[$APP.kE,kza,Y4,b],null));}if($APP.tb(b))b=$APP.D(b);else{if(b instanceof $APP.H)return $APP.aH.h($APP.y(O3(a,R3,new $APP.M(null,2,5,$APP.O,[Z4,b],null))));throw $APP.Jm.g(["Expected number or lookup ref for entity id, got ",$APP.ck.l($APP.D([b]))].join(""),
new $APP.m(null,2,[$APP.kE,$4,Y4,b],null));}}},M4=function(a,b){a=a5(a,b);if($APP.p(a))return a;throw $APP.Jm.g(["Nothing found for entity id ",$APP.ck.l($APP.D([b]))].join(""),new $APP.m(null,2,[$APP.kE,lza,Y4,b],null));},K4=function(a,b){return $APP.p(b)?M4(a,b):null},J4=function(a,b){if(a instanceof $APP.H||"string"===typeof a)return null;throw $APP.Jm.g(["Bad entity attribute ",$APP.ck.l($APP.D([a]))," at ",$APP.ck.l($APP.D([b])),", expected keyword or string"].join(""),new $APP.m(null,3,[$APP.kE,
b5,v4,a,c5,b],null));},d5=function(a,b){if(null==a)throw $APP.Jm.g(["Cannot store nil as a value at ",$APP.ck.l($APP.D([b]))].join(""),new $APP.m(null,3,[$APP.kE,b5,$APP.vE,a,c5,b],null));return null},e5=function(a){return $APP.fr.g(a,new $APP.M(null,2,5,$APP.O,[Q4,b4],null))+1},g5=function(a){return $APP.A.g(a,f5)||$APP.A.g(a,":db/current-tx")||$APP.A.g(a,"datomic.tx")||$APP.A.g(a,"datascript.tx")},h5=function(a){return"number"===typeof a&&0>a||"string"===typeof a},i5=function(a,b){return b>a4.h(a)&&
536870912>b?$APP.Vi.j(a,a4,b):a},j5=function(a,b,c){var d=g5(b)?$APP.Vn.N(a,T4,$APP.Vi,b,c):a;d=h5(b)?$APP.Vn.N(d,T4,$APP.Vi,b,c):d;if(b=!h5(b))a=R4.h(a),b=c>a4.h(a)&&536870912>c;a=b?$APP.Vn.N(d,T4,$APP.Vi,c,c):d;return $APP.Vn.F(a,R4,i5,c)},mza=function(a,b,c,d,e){return $APP.lf(function(f,g,h){var n=$APP.Te.g(f,g);$APP.p(n)||(n=q3.h($APP.y(O3(c,Z3,new $APP.M(null,2,5,$APP.O,[d,g],null)))),n=$APP.p(n)?n:$APP.ff($APP.oo.g($APP.de(q4.h($APP.Te.g(V3(c),g))),null)));h=$APP.Vi.j(n,h,e);return $APP.Vi.j(f,
g,h)},a,b)},l5=function(a,b){var c=R4.h(a),d=r3.h(b),e=$APP.Vn.F,f=$APP.Vi.j;var g=b.Wc(null);g=$APP.p(g)?W4(c,b.a,j4):g;if($APP.p(g)&&(g=$APP.hg(O3(c,R3,new $APP.M(null,2,5,$APP.O,[b.a,b.v],null))),null!=g))throw $APP.Jm.g(["Cannot add ",$APP.ck.l($APP.D([b]))," because of unique constraint: ",$APP.ck.l($APP.D([g]))].join(""),new $APP.m(null,3,[$APP.kE,nza,v4,b.a,oza,b],null));g=S3(c,b.a);if($APP.p(b.Wc(null))){var h=$APP.Vn.N(c,Z3,c3,b,I3);h=$APP.Vn.N(h,$3,c3,b,J3);g=g?$APP.Vn.N(h,R3,c3,b,K3):h;
g=i5(g,b.e);g=$APP.Vi.j(g,f4,$APP.gk.h(0))}else if(h=N3(c,new $APP.M(null,3,5,$APP.O,[b.e,b.a,b.v],null)),null==h)g=c;else{var n=$APP.Vn.N(c,Z3,d3,h,I3);n=$APP.Vn.N(n,$3,d3,h,J3);g=g?$APP.Vn.N(n,R3,d3,h,K3):n;g=$APP.Vi.j(g,f4,$APP.gk.h(0))}a=e.call($APP.Vn,f.call($APP.Vi,a,R4,g),S4,$APP.Cf,b);return W4(c,d,s4)?(e=$APP.aH.h(b),b=$APP.p(k3(b))?q3.h(b):null,f=$APP.Te.g(k5.h(a),e),f=$APP.p(f)?f:$APP.fg,d=$APP.Te.g(W3(c,s4),d),c=mza(f,d,c,e,b),$APP.Vn.N(a,k5,$APP.Vi,e,c)):a},m5=function(a){if(a instanceof
$APP.H)return $APP.A.g("_",$APP.C.g($APP.gj(a),0));if("string"===typeof a)return $APP.Ne($APP.sj(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw $APP.Jm.g(["Bad attribute type: ",$APP.ck.l($APP.D([a])),", expected keyword or string"].join(""),new $APP.m(null,2,[$APP.kE,b5,v4,a],null));},n5=function(a){if(a instanceof $APP.H)return m5(a)?$APP.Fj.g($APP.If(a),$APP.wj.g($APP.gj(a),1)):$APP.Fj.g($APP.If(a),["_",$APP.gj(a)].join(""));if("string"===typeof a){var b=$APP.sj(/(?:([^\/]+)\/)?([^\/]+)/,a);$APP.C.j(b,0,
null);a=$APP.C.j(b,1,null);b=$APP.C.j(b,2,null);return $APP.A.g("_",$APP.C.g(b,0))?$APP.p(a)?[$APP.q.h(a),"/",$APP.wj.g(b,1)].join(""):$APP.wj.g(b,1):$APP.p(a)?[$APP.q.h(a),"/_",$APP.q.h(b)].join(""):["_",$APP.q.h(b)].join("")}throw $APP.Jm.g(["Bad attribute type: ",$APP.ck.l($APP.D([a])),", expected keyword or string"].join(""),new $APP.m(null,2,[$APP.kE,b5,v4,a],null));},pza=function(a,b){function c(f,g){return $APP.df.j(function(h,n){var k=d(f,n);return null==k?$APP.Vn.F(h,0,$APP.Cf,n):$APP.Vn.N(h,
1,$APP.Vi,n,k)},new $APP.M(null,2,5,$APP.O,[$APP.ch,$APP.fg],null),g)}function d(f,g){return $APP.aH.h($APP.y(O3(a,R3,new $APP.M(null,2,5,$APP.O,[f,g],null))))}var e=$APP.hg(W3(a,k4));return null==e?new $APP.M(null,2,5,$APP.O,[b,null],null):$APP.lf(function(f,g,h){var n=$APP.C.j(f,0,null);f=$APP.C.j(f,1,null);if($APP.Ve(e,g)){if(X4(a,g)&&(p2(h)||$APP.ze(h)&&!$APP.De(h))){var k=c(g,h);h=$APP.C.j(k,0,null);k=$APP.C.j(k,1,null);return new $APP.M(null,2,5,$APP.O,[$APP.ye(h)?n:$APP.Vi.j(n,g,h),$APP.ye(k)?
f:$APP.Vi.j(f,g,k)],null)}k=d(g,h);return null==k?new $APP.M(null,2,5,$APP.O,[$APP.Vi.j(n,g,h),f],null):new $APP.M(null,2,5,$APP.O,[n,$APP.Vi.j(f,g,$APP.eg([h,k]))],null)}return new $APP.M(null,2,5,$APP.O,[$APP.Vi.j(n,g,h),f],null)},new $APP.M(null,2,5,$APP.O,[$APP.fg,$APP.fg],null),b)},qza=function(a,b){var c=$APP.lf(function(g,h,n){return $APP.lf(function(k,u,v){return $APP.Vi.j(k,v,new $APP.M(null,2,5,$APP.O,[h,u],null))},g,n)},$APP.fg,b);if(2<=$APP.de(c)){b=$APP.y(c);a=$APP.C.j(b,0,null);var d=
$APP.C.j(b,1,null);b=$APP.C.j(d,0,null);d=$APP.C.j(d,1,null);var e=$APP.ie(c);c=$APP.C.j(e,0,null);var f=$APP.C.j(e,1,null);e=$APP.C.j(f,0,null);f=$APP.C.j(f,1,null);throw $APP.Jm.g(["Conflicting upserts: ",$APP.ck.l($APP.D([new $APP.M(null,2,5,$APP.O,[b,d],null)]))," resolves to ",$APP.ck.l($APP.D([a])),", but ",$APP.ck.l($APP.D([new $APP.M(null,2,5,$APP.O,[e,f],null)]))," resolves to ",$APP.ck.l($APP.D([c]))].join(""),new $APP.m(null,3,[$APP.kE,o5,p5,new $APP.M(null,3,5,$APP.O,[a,b,d],null),q5,
new $APP.M(null,3,5,$APP.O,[c,e,f],null)],null));}d=$APP.y(c);b=$APP.C.j(d,0,null);c=$APP.C.j(d,1,null);d=$APP.C.j(c,0,null);c=$APP.C.j(c,1,null);a=r5.h(a);if(null!=b&&null!=a&&!h5(a)&&$APP.Ui.g(b,a))throw $APP.Jm.g(["Conflicting upsert: ",$APP.ck.l($APP.D([new $APP.M(null,2,5,$APP.O,[d,c],null)]))," resolves to ",$APP.ck.l($APP.D([b])),", but entity already has :db/id ",$APP.ck.l($APP.D([a]))].join(""),new $APP.m(null,3,[$APP.kE,o5,p5,new $APP.M(null,3,5,$APP.O,[b,d,c],null),q5,new $APP.m(null,1,
[r5,a],null)],null));return b},rza=function(a,b,c){return m5(b)||X4(a,b)?p2(c)||$APP.ze(c)&&!$APP.De(c)?$APP.A.g($APP.de(c),2)&&W4(a,$APP.y(c),k4)?new $APP.M(null,1,5,$APP.O,[c],null):c:new $APP.M(null,1,5,$APP.O,[c],null):new $APP.M(null,1,5,$APP.O,[c],null)},t5=function(a,b){var c=r5.h(b),d=$APP.Dg.g($APP.S,$APP.df.j(function(e,f){var g=$APP.C.j(f,0,null);f=$APP.C.j(f,1,null);return $APP.Vn.F(e,W4(a,g,r4)?1:0,$APP.Cf,new $APP.M(null,2,5,$APP.O,[g,f],null))},new $APP.M(null,2,5,$APP.O,[$APP.ch,$APP.ch],
null),b));return function g(f){return new $APP.Nf(null,function(){for(var h=f;;){var n=$APP.w(h);if(n){var k=n,u=$APP.y(k),v=$APP.C.j(u,0,null),x=$APP.C.j(u,1,null);if($APP.Ui.g(v,r5)){var B=J4(v,$APP.eg([r5,c,v,x])),F=m5(v),P=F?n5(v):v;if(F&&!L4(a,P))throw $APP.Jm.g(["Bad attribute ",$APP.ck.l($APP.D([v])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),new $APP.m(null,3,[$APP.kE,b5,v4,v,c5,$APP.eg([r5,c,v,x])],null));if(n=$APP.w(function(U,Z,ba,ca,ia,oa,la,K,
E,Q,I,N){return function ja(ha){return new $APP.Nf(null,function(ra,ta,va,ya,Ca,Na,Ua,Ia,Ka,fb,nb){return function(){for(;;){var Cb=$APP.w(ha);if(Cb){if($APP.Ge(Cb)){var Rb=$APP.bd(Cb),ac=$APP.de(Rb),kc=$APP.Qf(ac);a:for(var Cd=0;;)if(Cd<ac){var oc=$APP.qe(Rb,Cd);$APP.Uf(kc,L4(a,ya)&&$APP.De(oc)?$APP.Vi.j(oc,n5(Ua),nb):va?new $APP.M(null,4,5,$APP.O,[s5,oc,ya,nb],null):new $APP.M(null,4,5,$APP.O,[s5,nb,ya,oc],null));Cd+=1}else{Rb=!0;break a}return Rb?$APP.Tf($APP.Vf(kc),ja($APP.cd(Cb))):$APP.Tf($APP.Vf(kc),
null)}kc=$APP.y(Cb);return $APP.Gf(L4(a,ya)&&$APP.De(kc)?$APP.Vi.j(kc,n5(Ua),nb):va?new $APP.M(null,4,5,$APP.O,[s5,kc,ya,nb],null):new $APP.M(null,4,5,$APP.O,[s5,nb,ya,kc],null),ja($APP.Id(Cb)))}return null}}}(U,Z,ba,ca,ia,oa,la,K,E,Q,I,N),null,null)}}(h,B,F,P,null,u,v,x,k,n,c,d)(rza(a,v,x))))return $APP.S.g(n,g($APP.Id(h)))}h=$APP.Id(h)}else return null}},null,null)}(d)},w5=function(a,b){$APP.C.j(b,0,null);var c=$APP.C.j(b,1,null),d=$APP.C.j(b,2,null),e=$APP.C.j(b,3,null),f=$APP.C.j(b,4,null);J4(d,
b);d5(e,b);b=$APP.p(f)?f:e5(a);f=R4.h(a);c=M4(f,c);e=L4(f,d)?M4(f,e):e;var g=w3.F(c,d,e,b);f=X4(f,d)?N3(f,new $APP.M(null,3,5,$APP.O,[c,d,e],null)):N3(f,new $APP.M(null,2,5,$APP.O,[c,d],null));return null==f?l5(a,g):$APP.A.g(f.v,e)?$APP.Vn.F(a,u5,v5,g):l5(l5(a,w3.N(c,d,f.v,b,!1)),g)},x5=function(a,b){var c=e5(a);return l5(a,w3.N(b.e,b.a,b.v,c,!1))},z5=function(a,b){return $APP.Th.j($APP.aj,$APP.Jq.g($APP.$g.h(function(c){return W4(a,c.a,p4)}),$APP.Ej.h(function(c){return new $APP.M(null,2,5,$APP.O,
[y5,c.v],null)})),b)},B5=function(a,b,c,d,e){if($APP.Ve(T4.h(a),d))throw $APP.Jm.g(["Conflicting upsert: ",$APP.ck.l($APP.D([d]))," resolves both to ",$APP.ck.l($APP.D([e]))," and ",$APP.ck.l($APP.D([$APP.fr.g(a,new $APP.M(null,2,5,$APP.O,[T4,d],null))]))].join(""),new $APP.m(null,1,[$APP.kE,o5],null));b=$APP.Vi.j(T4.h(b),d,e);a=$APP.Vi.j(a,T4,b);return A5.g?A5.g(a,c):A5.call(null,a,c)},sza=function(a){var b=R4.h(a);V3(b);W3(b,s4);return $APP.lf(function(c,d,e){return $APP.lf(function(f,g,h){h=$APP.yg($APP.sb,
h)?null:h;var n=q3.h($APP.y(O3(b,Z3,new $APP.M(null,2,5,$APP.O,[d,g],null))));return $APP.A.g(h,n)?f:null==h?$APP.Cf.g(f,$APP.te(new $APP.M(null,4,5,$APP.O,[C5,d,g,n],null),new $APP.m(null,1,[D5,!0],null))):$APP.Cf.g(f,$APP.te(new $APP.M(null,4,5,$APP.O,[s5,d,g,h],null),new $APP.m(null,1,[D5,!0],null)))},c,e)},$APP.ch,k5.h(a))},tza=function(a){var b=E5.h(a);b=$APP.df.j(function(c,d){return $APP.p(k3(d))?$APP.zm.g(c,$APP.aH.h(d)):c},b,$APP.S.g(S4.h(a),u5.h(a)));if($APP.ye(b))return $APP.zm.l(a,E5,
$APP.D([u5]));throw $APP.Jm.g(["Tempids used only as value in transaction: ",$APP.ck.l($APP.D([$APP.tl.h($APP.Si(b))]))].join(""),new $APP.m(null,2,[$APP.kE,b5,T4,b],null));},A5=function(a,b){if(null!=b&&!$APP.Ce(b))throw $APP.Jm.g(["Bad transaction data ",$APP.ck.l($APP.D([b])),", expected sequential collection"].join(""),new $APP.m(null,2,[$APP.kE,b5,S4,b],null));for(var c=!$APP.ye(W3(R4.h(a),r4)),d=c?$APP.no.g(b,$APP.oo.h(F5)):b,e=a,f=d;;){if($APP.ye(f))return $APP.Vn.N($APP.Vn.N(tza(e),T4,$APP.Vi,
f5,e5(e)),R4,$APP.Vn,b4,$APP.Qd);var g=f,h=$APP.w(g),n=$APP.y(h),k=$APP.z(h),u=n,v=k;if(null==u)f=v;else if($APP.A.g(F5,u))if($APP.Ve(e,k5)){var x=$APP.zm.g(e,k5);v=$APP.S.g(sza(e),v);e=x;f=v}else f=v;else{var B=R4.h(e),F=T4.h(e);if($APP.De(u)){var P=r5.h(u);if(g5(P))x=e5(e),e=j5(e,P,x),f=v=$APP.Gf($APP.Vi.j(u,r5,x),v);else if($APP.Ce(P))x=M4(B,P),f=v=$APP.Gf($APP.Vi.j(u,r5,x),v);else{var U=pza(B,u);x=$APP.C.j(U,0,null);U=$APP.C.j(U,1,null);var Z=qza(x,U);if(null!=Z){if(h5(P)&&$APP.Ve(F,P)&&$APP.Ui.g(Z,
$APP.Te.g(F,P)))return B5(a,e,b,P,Z);e=$APP.Vn.F(j5(e,P,Z),u5,v5,w3.F(Z,null,null,536870912));f=v=$APP.S.g(t5(B,$APP.Vi.j(x,r5,Z)),v)}else if("number"===typeof P||null==P||"string"===typeof P)x=null==P?a4.h(B)+1:h5(P)?function(){var ya=$APP.Te.g(F,P);return $APP.p(ya)?ya:a4.h(B)+1}():P,u=$APP.Vi.j(u,r5,x),e=j5(e,P,x),f=v=$APP.S.g(t5(B,u),v);else throw $APP.Jm.g(["Expected number, string or lookup ref for :db/id, got ",$APP.ck.l($APP.D([P]))].join(""),new $APP.m(null,2,[$APP.kE,$4,uza,u],null));}}else if($APP.Ce(u)){var ba=
u;U=$APP.C.j(ba,0,null);var ca=$APP.C.j(ba,1,null);x=$APP.C.j(ba,2,null);var ia=$APP.C.j(ba,3,null);if($APP.A.g(U,G5)){x=$APP.w(u);u=$APP.y(x);x=$APP.z(x);var oa=u;u=$APP.y(x);x=$APP.z(x);f=v=$APP.S.g($APP.Dg.j(u,B,x),v)}else if(U instanceof $APP.H&&$APP.vb(H5.h?H5.h(U):H5.call(null,U))){oa=a5(B,U);if(null==oa)throw $APP.Jm.g(["Can’t find entity for transaction fn ",$APP.ck.l($APP.D([U]))].join(""),new $APP.m(null,3,[$APP.kE,b5,$APP.aG,G5,S4,u],null));ca=q3.h(N3(B,new $APP.M(null,2,5,$APP.O,[oa,vza],
null)));x=$APP.z(u);if($APP.re(ca))f=v=$APP.S.g($APP.Dg.j(ca,B,x),v);else throw $APP.Jm.g(["Entity ",$APP.ck.l($APP.D([U]))," expected to have :db/fn attribute with fn? value"].join(""),new $APP.m(null,3,[$APP.kE,b5,$APP.aG,G5,S4,u],null));}else{if(h5(ca)&&$APP.Ui.g(U,s5))throw $APP.Jm.g(["Can't use tempid in '",$APP.ck.l($APP.D([u])),"'. Tempids are allowed in :db/add only"].join(""),new $APP.m(null,2,[$APP.kE,b5,$APP.FB,u],null));if($APP.A.g(U,I5)||$APP.A.g(U,J5)){var la=u;oa=$APP.C.j(la,0,null);
var K=$APP.C.j(la,1,null),E=$APP.C.j(la,2,null),Q=$APP.C.j(la,3,null),I=$APP.C.j(la,4,null),N=M4(B,K),fa=J4(E,u),ha=L4(B,E)?M4(B,Q):Q,ja=L4(B,E)?M4(B,I):I,ra=d5(ja,u),ta=$APP.ff(M3(B,new $APP.M(null,2,5,$APP.O,[N,E],null)));if(X4(B,E))if($APP.p($APP.zg(function(ya,Ca,Na,Ua,Ia,Ka,fb,nb,Cb,Rb,ac){return function(kc){return $APP.A.g(kc.v,ac)}}(e,f,la,oa,K,E,Q,I,N,fa,ha,ja,ra,ta,ba,U,ca,x,ia,B,F,g,h,n,k,u,v,a,c,d),ta)))e=w5(e,new $APP.M(null,4,5,$APP.O,[s5,N,E,ja],null)),f=v;else throw $APP.Jm.g([":db.fn/cas failed on datom [",
$APP.ck.l($APP.D([N]))," ",$APP.ck.l($APP.D([E]))," ",$APP.ck.l($APP.D([$APP.Ej.g(q3,ta)])),"], expected ",$APP.ck.l($APP.D([ha]))].join(""),new $APP.m(null,4,[$APP.kE,K5,L5,ta,M5,ha,N5,ja],null));else if(U=q3.h($APP.y(ta)),$APP.A.g(U,ha))e=w5(e,new $APP.M(null,4,5,$APP.O,[s5,N,E,ja],null)),f=v;else throw $APP.Jm.g([":db.fn/cas failed on datom [",$APP.ck.l($APP.D([N]))," ",$APP.ck.l($APP.D([E]))," ",$APP.ck.l($APP.D([U])),"], expected ",$APP.ck.l($APP.D([ha]))].join(""),new $APP.m(null,4,[$APP.kE,
K5,L5,$APP.y(ta),M5,ha,N5,ja],null));}else if(g5(ca))u=j5(e,ca,e5(e)),v=$APP.Gf(new $APP.M(null,4,5,$APP.O,[U,e5(e),x,ia],null),v),e=u,f=v;else if(L4(B,x)&&g5(ia))u=j5(e,ia,e5(e)),v=$APP.Gf(new $APP.M(null,4,5,$APP.O,[U,ca,x,e5(e)],null),v),e=u,f=v;else if(L4(B,x)&&h5(ia))oa=$APP.Te.g(F,ia),null==oa?(u=a4.h(B)+1,e=$APP.Vn.N(j5(e,ia,u),E5,$APP.Vi,u,ia),f=v=f):(u=oa,e=$APP.Vn.N(e,E5,$APP.Vi,u,ia),f=v=$APP.Gf(new $APP.M(null,4,5,$APP.O,[U,ca,x,u],null),v));else if(h5(ca)){Z=W4(B,x,k4)?$APP.aH.h($APP.y(O3(B,
R3,new $APP.M(null,2,5,$APP.O,[x,ia],null)))):null;var va=$APP.Te.g(F,ca);if($APP.p(function(){var ya=Z;return $APP.p(ya)?(ya=va,$APP.p(ya)?$APP.Ui.g(Z,va):ya):ya}()))return B5(a,e,b,ca,Z);u=function(){var ya=Z;if($APP.p(ya))return ya;ya=va;return $APP.p(ya)?ya:a4.h(B)+1}();e=j5(e,ca,u);f=v=$APP.Gf(new $APP.M(null,4,5,$APP.O,[U,u,x,ia],null),v)}else if($APP.vb(D5.h($APP.ue(u)))&&W4(B,x,r4))if(K=$APP.fr.g(B,new $APP.M(null,3,5,$APP.O,[Y3,x,q4],null)),$APP.A.g($APP.de(K),$APP.de(ia))&&$APP.yg($APP.wb,
ia)&&$APP.yg(function(ya,Ca,Na,Ua,Ia,Ka,fb,nb,Cb){return function(Rb){var ac=$APP.C.j(Rb,0,null);Rb=$APP.C.j(Rb,1,null);ac=q3.h($APP.y(O3(Cb,Z3,new $APP.M(null,2,5,$APP.O,[Ka,ac],null))));return $APP.A.g(Rb,ac)}}(e,f,K,ba,U,ca,x,ia,B,F,g,h,n,k,u,v,a,c,d),$APP.Ej.j($APP.ly,K,ia)))f=v;else throw $APP.Jm.g(["Can’t modify tuple attrs directly: ",$APP.ck.l($APP.D([u]))].join(""),new $APP.m(null,2,[$APP.kE,b5,S4,u],null));else if($APP.A.g(U,s5))e=w5(e,u),f=v;else if($APP.A.g(U,C5)&&null!=ia)oa=a5(B,ca),
null==oa?f=v:(K=oa,U=L4(B,x)?M4(B,ia):ia,J4(x,u),d5(U,u),x=N3(B,new $APP.M(null,3,5,$APP.O,[K,x,U],null)),null==x?f=v:(e=x5(e,x),f=v));else if($APP.A.g(U,O5)||$APP.A.g(U,C5))oa=a5(B,ca),null==oa?f=v:(K=oa,oa=J4(x,u),ta=$APP.ff(M3(B,new $APP.M(null,2,5,$APP.O,[K,x],null))),e=$APP.df.j(x5,e,ta),f=v=$APP.S.g(z5(B,ta),v));else if($APP.A.g(U,y5)||$APP.A.g(U,P5))oa=a5(B,ca),null==oa?f=v:(K=oa,ta=$APP.ff(M3(B,new $APP.M(null,1,5,$APP.O,[K],null))),x=$APP.ff($APP.Yg.l(function(ya,Ca,Na,Ua,Ia,Ka,fb,nb,Cb,
Rb,ac){return function(kc){return M3(ac,new $APP.M(null,3,5,$APP.O,[null,kc,Ua],null))}}(e,f,ta,K,oa,ba,U,ca,x,ia,B,F,g,h,n,k,u,v,a,c,d),$APP.D([W3(B,o4)]))),e=$APP.df.j(x5,e,$APP.S.g(ta,x)),f=v=$APP.S.g(z5(B,ta),v));else throw $APP.Jm.g(["Unknown operation at ",$APP.ck.l($APP.D([u])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),
new $APP.m(null,3,[$APP.kE,b5,$APP.aG,U,S4,u],null));}}else if(m3(u))U=u,ca=$APP.C.j(U,0,null),x=$APP.C.j(U,1,null),ia=$APP.C.j(U,2,null),u=$APP.C.j(U,3,null),U=$APP.C.j(U,4,null),$APP.p(U)?(e=w5(e,new $APP.M(null,5,5,$APP.O,[s5,ca,x,ia,u],null)),f=v):f=v=$APP.Gf(new $APP.M(null,4,5,$APP.O,[C5,ca,x,ia],null),v);else throw $APP.Jm.g(["Bad entity type at ",$APP.ck.l($APP.D([u])),", expected map or vector"].join(""),new $APP.m(null,2,[$APP.kE,b5,S4,u],null));}}},R5=function(a,b){b="number"===typeof b||
$APP.Ce(b)||b instanceof $APP.H?a5(a,b):null;if($APP.p(b)){var c=$APP.Kg(!1),d=$APP.Kg($APP.fg);return Q5.F?Q5.F(a,b,c,d):Q5.call(null,a,b,c,d)}return null},S5=function(a,b,c){return X4(a,b)?L4(a,b)?$APP.df.j(function(d,e){return $APP.Cf.g(d,R5(a,q3.h(e)))},$APP.aj,c):$APP.df.j(function(d,e){return $APP.Cf.g(d,q3.h(e))},$APP.aj,c):L4(a,b)?R5(a,q3.h($APP.y(c))):q3.h($APP.y(c))},T5=function(a,b,c,d){b=$APP.hg(M3(a,new $APP.M(null,3,5,$APP.O,[null,c,b],null)));return $APP.p(b)?W4(a,c,p4)?R5(a,$APP.aH.h($APP.y(b))):
$APP.df.j(function(e,f){return $APP.Cf.g(e,R5(a,$APP.aH.h(f)))},$APP.aj,b):d},U5=function(a){return $APP.p(a)?$APP.ef(a):null},W5=function(a){V5.h?V5.h(a):V5.call(null,a);return function d(c){return new $APP.Nf(null,function(){for(;;){var e=$APP.w(c);if(e){if($APP.Ge(e)){var f=$APP.bd(e),g=$APP.de(f),h=$APP.Qf(g);a:for(var n=0;;)if(n<g){var k=$APP.qe(f,n),u=$APP.C.j(k,0,null);k=$APP.C.j(k,1,null);$APP.Uf(h,X4(a.db,u)?new $APP.M(null,2,5,$APP.O,[u,U5(k)],null):new $APP.M(null,2,5,$APP.O,[u,k],null));
n+=1}else{f=!0;break a}return f?$APP.Tf($APP.Vf(h),d($APP.cd(e))):$APP.Tf($APP.Vf(h),null)}f=$APP.y(e);h=$APP.C.j(f,0,null);f=$APP.C.j(f,1,null);return $APP.Gf(X4(a.db,h)?new $APP.M(null,2,5,$APP.O,[h,U5(f)],null):new $APP.M(null,2,5,$APP.O,[h,f],null),d($APP.Id(e)))}return null}},null,null)}($APP.r(a.cache))},X5=function(a,b,c,d){this.db=a;this.eid=b;this.Yh=c;this.cache=d;this.G=2162164483;this.J=0},Q5=function(a,b,c,d){return new X5(a,b,c,d)},Y5=function(a,b){return b instanceof X5&&$APP.A.g(a.eid,
b.eid)},a6=function(a){switch(arguments.length){case 2:return Z5(arguments[0],arguments[1]);case 3:return $5(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}},Z5=function(a,b){return $5(a,b,null)},$5=function(a,b,c){if($APP.A.g(b,r5))return a.eid;if(m5(b))return T5(a.db,a.eid,n5(b),c);var d=$APP.r(a.cache);d=d.h?d.h(b):d.call(null,b);if(null==d){if($APP.p($APP.r(a.Yh)))return c;d=$APP.hg(M3(a.db,new $APP.M(null,2,5,$APP.O,[a.eid,
b],null)));if(null==d)return c;c=S5(a.db,b,d);$APP.Lg(a.cache,$APP.Vi.j($APP.r(a.cache),b,c));return c}return d},wza=function(a,b){return $APP.lf(function(c,d,e){return $APP.Vi.j(c,d,W4(a,d,p4)?X4(a,d)?$APP.ej($APP.Ej.g(V5,e)):V5.h?V5.h(e):V5.call(null,e):e)},$APP.fg,b)},xza=function(a,b){return $APP.df.j(function(c,d){var e=r3.h($APP.y(d));return $APP.Vi.j(c,e,S5(a,e,d))},$APP.fg,$APP.Dy.g(r3,b))},V5=function(a){if(!$APP.p($APP.r(a.Yh))){var b=$APP.hg(M3(a.db,new $APP.M(null,1,5,$APP.O,[a.eid],null)));
$APP.p(b)&&($APP.Lg(a.cache,wza(a.db,xza(a.db,b))),$APP.id(a.Yh,!0))}return a},b6=function(a){return $APP.df.j($APP.Cx,0,a)},c6=function(a){return b6(a)/$APP.de(a)},d6=function(a){var b=c6(a);return b6(function(){return function e(d){return new $APP.Nf(null,function(){for(;;){var f=$APP.w(d);if(f){if($APP.Ge(f)){var g=$APP.bd(f),h=$APP.de(g),n=$APP.Qf(h);a:for(var k=0;;)if(k<h){var u=$APP.qe(g,k)-b;n.add(u*u);k+=1}else{g=!0;break a}return g?$APP.Tf($APP.Vf(n),e($APP.cd(f))):$APP.Tf($APP.Vf(n),null)}n=
$APP.y(f)-b;return $APP.Gf(n*n,e($APP.Id(f)))}return null}},null,null)}(a)}())/$APP.de(a)},e6=function(a,b,c,d,e,f,g,h,n,k,u,v,x,B,F){this.as=a;this.qc=b;this.jb=c;this.name=d;this.pattern=e;this.Wb=f;this.Xb=g;this.bc=h;this.lb=n;this.Vb=k;this.Yb=u;this.Tb=v;this.s=x;this.o=B;this.C=F;this.G=2230716170;this.J=139264},o6=function(a){var b=$APP.zm.l(a,$APP.vo,$APP.D([$APP.In,f6,$APP.V,g6,h6,i6,j6,k6,l6,m6,n6]));b=$APP.Ee(a)?$APP.Th.g($APP.fg,b):b;return new e6($APP.vo.h(a),$APP.In.h(a),f6.h(a),$APP.V.h(a),
g6.h(a),h6.h(a),i6.h(a),j6.h(a),k6.h(a),l6.h(a),m6.h(a),n6.h(a),null,$APP.hg(b),null)},p6=function(a,b,c,d,e,f,g,h){this.ma=a;this.Oc=b;this.Zc=c;this.Kc=d;this.fc=e;this.s=f;this.o=g;this.C=h;this.G=2230716170;this.J=139264},v6=function(a){var b=$APP.zm.l(a,q6,$APP.D([r6,s6,t6,u6]));b=$APP.Ee(a)?$APP.Th.g($APP.fg,b):b;return new p6(q6.h(a),r6.h(a),s6.h(a),t6.h(a),u6.h(a),null,$APP.hg(b),null)},y6=function(a,b,c){if($APP.p(a))return null;throw $APP.Jm.g(["Expected ",$APP.q.h(b),", got: ",$APP.ck.l($APP.D([c]))].join(""),
new $APP.m(null,2,[$APP.kE,w6,x6,c],null));},A6=function(a,b){var c=m5(b),d=c?n5(b):b,e=L4(a,d),f=W4(a,d,p4);a=X4(a,d);if(c){y6(e,"reverse attribute having :db.type/ref",b);var g=!0}else g=null;return o6($APP.yi([k6,f6,j6,$APP.V,$APP.vo,n6,m6,l6,g6],[$APP.mf,a?1E3:null,g,d,b,f?!0:null,e?!0:null,a?!0:null,e?c?z6:f?yza:z6:null]))},B6=function(a,b,c){y6("number"===typeof c&&0<c||null==c,"(positive-number | nil)",c);y6(X4(a,$APP.V.h(b)),"limit attribute having :db.cardinality/many",$APP.V.h(b))},zza=
function(a,b){var c=function(){var d=$APP.y(b);return C6.g?C6.g(a,d):C6.call(null,a,d)}();if(null==c)return null;y6($APP.Ag($APP.de($APP.z(b))),"even number of opts",b);return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);switch(f instanceof $APP.H?f.P:null){case "as":return $APP.Vi.j(d,$APP.vo,e);case "limit":return B6(a,d,e),$APP.Vi.j(d,f6,e);case "default":return $APP.Vi.j(d,$APP.In,e);case "xform":f=$APP.Vi.j;var g=$APP.re(e)?e:null;if($APP.p(g))e=g;else if(g=$APP.Te.g(D6,
e),$APP.p(g))e=g;else throw $APP.Jm.g(["Can't resolve symbol ",$APP.ck.l($APP.D([e]))].join(""),new $APP.m(null,2,[$APP.kE,w6,x6,e],null));return f.call($APP.Vi,d,k6,e);default:return y6(!1,"one of :as, :limit, :default, :xform",b)}},c,$APP.Mq.g(2,$APP.z(b)))},C6=function(a,b){var c;!(c=b instanceof $APP.H)&&(c="string"===typeof b)&&(c=new $APP.$i(null,new $APP.m(null,2,["limit",null,"default",null],null),null),c=c.h?c.h(b):c.call(null,b),c=$APP.vb(c));if(c)return A6(a,b);if($APP.Ce(b)){c=zza(a,b);
if($APP.p(c))return c;c=$APP.y(b);var d=new $APP.$i(null,new $APP.m(null,2,[Aza,null,"limit",null],null),null);c=d.h?d.h(c):d.call(null,c);$APP.p(c)?(y6($APP.A.g($APP.de(b),3),"['limit attr-name (positive-number | nil)]",b),$APP.C.j(b,0,null),d=$APP.C.j(b,1,null),c=$APP.C.j(b,2,null),d=C6.g?C6.g(a,d):C6.call(null,a,d),B6(a,d,c),c=$APP.Vi.j(d,f6,c)):c=null;if($APP.p(c))return c;c=$APP.y(b);d=new $APP.$i(null,new $APP.m(null,2,[$APP.mG,null,"default",null],null),null);c=d.h?d.h(c):d.call(null,c);$APP.p(c)?
(y6($APP.A.g($APP.de(b),3),"['default attr-name any-value]",b),$APP.C.j(b,0,null),d=$APP.C.j(b,1,null),c=$APP.C.j(b,2,null),a=C6.g?C6.g(a,d):C6.call(null,a,d),a=$APP.Vi.j(a,$APP.In,c)):a=null;return $APP.p(a)?a:y6(!1,"[attr-name attr-option+] | ['limit attr-name (positive-num | nil)] | ['default attr-name any-val]",b)}return null},Bza=function(a,b){return $APP.zg(function(c){var d=$APP.C.j(c,0,null);c=$APP.C.j(c,1,null);return $APP.p(a.h?a.h(d):a.call(null,d))?c:null},$APP.Ej.j($APP.ly,b,$APP.Xn.B()))},
E6=function(a,b){var c=$APP.p(j6.h(b))?t6:q6,d=Bza(function(e){return $APP.A.g($APP.vo.h(e),$APP.vo.h(b))},$APP.Te.g(a,c));return null==d?$APP.Vn.F(a,c,$APP.Cf,b):$APP.Vn.N(a,c,$APP.Vi,d,b)},H6=function(a,b){y6($APP.Ce(b),"pattern to be sequential?",b);for(var c=v6(new $APP.m(null,3,[q6,$APP.ch,t6,$APP.ch,u6,null],null));;){if($APP.ye(b)){var d=c.ma,e=function(){return function(h){h=h.name;var n=new $APP.$i(null,new $APP.m(null,2,[r5,null,":db/id",null],null),null);return n.h?n.h(h):n.call(null,h)}}(b,
c,d);b=function(){return function(h){h=$APP.V.h(h);return h instanceof $APP.H?h:$APP.A.g(":",$APP.wj.j(h,0,1))?$APP.Fj.h($APP.wj.g(h,1)):$APP.Fj.h(h)}}(b,c,d,e);d=$APP.p(function(){var h=c.fc;return $APP.p(h)?$APP.vb($APP.zg(e,c.ma)):h}())?$APP.Cf.g(d,F6):d;d=$APP.Mt.h($APP.zx.g(b,d));var f=$APP.it.g(e,d),g=$APP.y(f);f=$APP.oe(f);return v6(new $APP.m(null,5,[q6,d,r6,g,s6,f,t6,$APP.Mt.h($APP.zx.g(b,c.Kc)),u6,c.fc],null))}g=$APP.y(b);if($APP.A.g($APP.mC,g)||$APP.A.g("*",g)||$APP.A.g(Cza,g))b=$APP.z(b),
c=d=$APP.Vi.j(c,u6,!0);else if($APP.De(g))d=$APP.lf(function(){return function(h,n,k){var u=C6(a,n);y6(null!=u,"attr-name | attr-expr",n);y6(L4(a,$APP.V.h(u)),"attribute having :db.type/ref",n);$APP.A.g(G6,k)||$APP.A.g("...",k)?n=$APP.Vi.l(u,g6,null,$APP.D([i6,!0,h6,null])):"number"===typeof k?(y6(0<k,"(positive-num | ...)",$APP.eg([n,k])),n=$APP.Vi.l(u,g6,null,$APP.D([i6,!0,h6,k]))):n=$APP.Vi.j(u,g6,H6.g?H6.g(a,k):H6.call(null,a,k));return E6(h,n)}}(b,c,g),c,g),b=$APP.z(b),c=d;else{d=C6(a,g);if(null==
d)return y6(!1,"attr-name | attr-expr | map-spec | *",g);b=$APP.z(b);c=d=E6(c,d)}}},I6=function(a){return null==a?null:$APP.Sb(a)},J6=function(a){return null==a?null:$APP.Vb(a)},K6=function(a,b){return null==a?new $APP.G(null,b,null,1,null):$APP.Ob(a,b)},L6=function(a,b,c,d,e){this.db=a;this.Td=b;this.s=c;this.o=d;this.C=e;this.G=2230716170;this.J=139264},M6=function(a,b,c,d,e){a=a.Td;null==a||(a.F?a.F(b,c,d,e):a.call(null,b,c,d,e))},N6=function(a,b){if(null!=a&&null!=a.lg)a=a.lg(a,b);else{var c=
N6[$APP.ma(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=N6._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Bb("IFrame.-merge",a);}return a},O6=function(a,b){if(null!=a&&null!=a.yf)a=a.yf(a,b);else{var c=O6[$APP.ma(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=O6._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Bb("IFrame.-run",a);}return a},P6=function(a,b,c,d,e){this.value=a;this.ra=b;this.s=c;this.o=d;this.C=e;this.G=2230716170;
this.J=139264},Q6=function(a,b,c,d,e,f){this.ia=a;this.ea=b;this.ra=c;this.s=d;this.o=e;this.C=f;this.G=2230716170;this.J=139264},R6=function(a,b,c,d,e,f,g,h,n){this.oa=a;this.sa=b;this.ia=c;this.pattern=d;this.ea=e;this.ra=f;this.s=g;this.o=h;this.C=n;this.G=2230716170;this.J=139264},S6=function(a,b,c,d,e,f,g,h,n,k,u){this.oa=a;this.sa=b;this.ia=c;this.pattern=d;this.ea=e;this.ma=f;this.ra=g;this.id=h;this.s=n;this.o=k;this.C=u;this.G=2230716170;this.J=139264},T6=function(a,b,c,d,e,f,g,h,n,k){this.oa=
a;this.sa=b;this.ia=c;this.pattern=d;this.ea=e;this.ma=f;this.id=g;this.s=h;this.o=n;this.C=k;this.G=2230716170;this.J=139264},U6=function(a,b,c,d,e,f,g){return new T6(a,b,c,d,e,f,g,null,null,null)},W6=function(a,b,c,d,e,f){var g=e.Xb;$APP.p(g)||(g=e.Tb,g=$APP.p(g)?e.pattern.fc:g);if($APP.vb(g))return d=e.pattern,V6.N?V6.N(a,b,c,d,f):V6.call(null,a,b,c,d,f);if($APP.p(b.h?b.h(f):b.call(null,f)))return new P6(new $APP.m(null,1,[r5,f],null),null,null,null,null);g=c.h?c.h(e):c.call(null,e);if($APP.p($APP.p(g)?
0>=g:g))return new P6(null,null,null,null,null);b=$APP.Cf.g(b,f);c=$APP.p(g)?$APP.Vn.j(c,e,$APP.nf):$APP.p(e.Wb)?$APP.Vi.j(c,e,e.Wb-1):c;d=$APP.p(e.Xb)?d:e.pattern;return V6.N?V6.N(a,b,c,d,f):V6.call(null,a,b,c,d,f)},V6=function(a,b,c,d,e){var f=a.db,g=$APP.p(function(){var h=d.fc;return $APP.p(h)?f instanceof X3:h}())?e3(f.Kb,w3.F(e,null,null,536870912),w3.F(e,null,null,2147483647)):$APP.p(d.fc)?M3(f,new $APP.M(null,1,5,$APP.O,[e],null)):null==d.Oc?null:function(){var h=d.Oc.name,n=d.Zc.name;return f instanceof
X3?e3(f.Kb,w3.F(e,h,null,536870912),w3.F(e,n,null,2147483647)):P3(f,Z3,new $APP.M(null,1,5,$APP.O,[e],null))}();$APP.p(d.fc)&&M6(a,Dza,e,null,null);return new S6(b,c,$APP.Sc($APP.fg),d,I6(d.ma),J6(d.ma),g,e,null,null,null)},X6=function(a,b){var c=$APP.gg(a);a=$APP.Te.g(c,c5);c=$APP.Te.g(c,g6);b=a5(a.db,b);if(null==b)return null;for(c=new $APP.G(null,V6(a,$APP.aj,$APP.fg,c,b),null,1,null);;){b=I6(c);var d=J6(c);if(b instanceof P6){if(null==d)return b.value;c=I6(d);d=J6(d);c=K6(d,N6(c,b))}else c=$APP.df.j(K6,
d,O6(b,a))}},Z6=function(a,b,c){c=$APP.gg(c);c=$APP.Te.g(c,Y6);return new $APP.m(null,2,[g6,m2(i4(a).lc,b,function(){return H6(a,b)}),c5,new L6(a,c,null,null,null)],null)},$6=function(a,b){return $APP.tb(a)?a[b]:$APP.C.g(a,b)},a7=function(a,b){return $APP.De(a)?a.h?a.h(b):a.call(null,b):a[b]},b7=function(a,b){var c=Array($APP.de(b));$APP.df.j(function(d,e){c[d]=a.h?a.h(e):a.call(null,e);return d+1},0,b);return c},c7=function(a,b){var c=Array($APP.de(b));$APP.df.j(function(d,e){c[d]=a.g?a.g(d,e):a.call(null,
d,e);return d+1},0,b);return c},Eza=function(a,b){return null==b.a?-1:0>=$APP.Ye(a.a,b.a)?-1:1},Fza=function(a){if($APP.ye($3.h(a)))return $APP.ch;for(var b=$APP.Sc(new $APP.M(null,1,5,$APP.O,[r3.h($APP.y($3.h(a)))],null));;){var c=$APP.C.g(b,$APP.de(b)-1),d=w3.j(0,c,null),e=w3.j(2147483647,null,null);c=r3;var f=c.h,g=$3.h(a);d=$2(g,d,e,Eza);c=f.call(c,$APP.y(d));if(null!=c)b=$APP.bh.g(b,c);else return $APP.Uc(b)}},Gza=function(a){return 0==a.lastIndexOf(":",0)?$APP.Fj.h($APP.wj.g(a,1)):a},d7=function(a,
b){b=$APP.gg(b);var c=$APP.Te.j(b,Hza,$APP.ck),d=$APP.Te.j(b,Iza,$APP.q),e=Fza(a),f=$APP.Th.g($APP.fg,$APP.Ej.j($APP.ly,e,$APP.Xn.B())),g=$APP.Kg($APP.Sc($APP.ch)),h=$APP.Kg($APP.Sc($APP.fg));b=c7(function(v,x){x.idx=v|0;v=x.e;var B=x.a;B=f.h?f.h(B):f.call(null,B);var F=x.v;if("string"!==typeof F)if("number"===typeof F)F=Infinity===F?[2]:-Infinity===F?[3]:$APP.p(isNaN(F))?[4]:F;else if(!$APP.Ke(F))if(F instanceof $APP.H){var P=$APP.Te.g($APP.r(h),F);$APP.p(P)?F=P:(P=g.Hc(null,$APP.bh.g(g.Ha(null),
F)),P=$APP.de(P)-1,h.Hc(null,$APP.Wh.j(h.Ha(null),F,P)),F=P);F=[0,F]}else F=[1,c.h?c.h(F):c.call(null,F)];return[v,B,F,x.tx-536870912]},Z3.h(a));var n=c7(function(v,x){return x.idx},$3.h(a)),k=c7(function(v,x){return x.idx},R3.h(a)),u=function(){var v=Y3.h(a);return c.h?c.h(v):c.call(null,v)}();e=b7(d,e);d=b7(d,$APP.Uc($APP.r(g)));return{count:$APP.de(Z3.h(a)),tx0:536870912,"max-eid":a4.h(a),"max-tx":b4.h(a),schema:u,attrs:e,keywords:d,eavt:b,aevt:n,avet:k}},e7=function(){},f7=function(a,b,c){if(null!=
a&&null!=a.hb)a=a.hb(a,b,c);else{var d=f7[$APP.ma(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=f7._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("ITraversable.-collect",a);}return a},g7=function(a,b){if(null!=a&&null!=a.ib)a=a.ib(a,b);else{var c=g7[$APP.ma(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=g7._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Bb("ITraversable.-collect-vars",a);}return a},h7=function(a,b){return $APP.Ce(a)&&
$APP.A.g($APP.de(a),b)},i7=function(a,b){return $APP.Ce(b)?$APP.df.j(function(c,d){d=a.h?a.h(d):a.call(null,d);return $APP.p(d)?$APP.Cf.g(c,d):$APP.Sd(null)},$APP.ch,b):null},k7=function(a,b){return j7(a,b,$APP.ch)},j7=function(a,b,c){return $APP.p(a.h?a.h(b):a.call(null,b))?$APP.Cf.g(c,b):(null!=b?$APP.wd===b.gb||(b.qd?0:$APP.zb(e7,b)):$APP.zb(e7,b))?f7(b,a,c):h3(b)?$APP.df.j(function(d,e){return j7(a,e,d)},c,b):c},l7=function(a){var b=$APP.ye(a);return b?b:$APP.Dg.g($APP.qp,a)},m7=function(a,b){return $APP.te(a,
new $APP.m(null,1,[$APP.xm,b],null))},n7=function(a){var b=$APP.xm.h($APP.ue(a));return $APP.p(b)?b:a},o7=function(a,b,c){this.s=a;this.o=b;this.C=c;this.G=2230716170;this.J=139264},p7=function(a,b,c,d){this.Ba=a;this.s=b;this.o=c;this.C=d;this.G=2230716170;this.J=139264},q7=function(a,b,c,d){this.Ba=a;this.s=b;this.o=c;this.C=d;this.G=2230716170;this.J=139264},r7=function(a,b,c){this.s=a;this.o=b;this.C=c;this.G=2230716170;this.J=139264},s7=function(a,b,c){this.s=a;this.o=b;this.C=c;this.G=2230716170;
this.J=139264},t7=function(a,b,c,d){this.value=a;this.s=b;this.o=c;this.C=d;this.G=2230716170;this.J=139264},u7=function(a,b,c,d){this.Ba=a;this.s=b;this.o=c;this.C=d;this.G=2230716170;this.J=139264},v7=function(a){return a instanceof $APP.t&&$APP.A.g($APP.y($APP.gj(a)),"?")?new p7(a,null,null,null):null},w7=function(a){var b=v7(a);if($APP.p(b))return b;throw $APP.Jm.g(["Cannot parse var, expected symbol starting with ?, got: ",$APP.ck.l($APP.D([a]))].join(""),new $APP.m(null,2,[$APP.kE,Jza,$APP.MB,
a],null));},x7=function(a){return a instanceof $APP.t&&$APP.A.g($APP.y($APP.gj(a)),"$")?new q7(a,null,null,null):null},y7=function(a){return a instanceof $APP.t&&$APP.A.g($APP.y($APP.gj(a)),"?")?null:new t7(a,null,null,null)},z7=function(a){return a instanceof $APP.t&&$APP.vb(v7(a))&&$APP.vb(x7(a))&&$APP.vb($APP.A.g($APP.lC,a)?new s7(null,null,null):null)&&$APP.vb($APP.A.g($APP.uC,a)?new o7(null,null,null):null)?new u7(a,null,null,null):null},A7=function(a){return $APP.p(z7(a))?new p7(a,null,null,
null):null},B7=function(a){var b=v7(a);if($APP.p(b))return b;b=x7(a);return $APP.p(b)?b:y7(a)},C7=function(a,b,c,d,e){this.required=a;this.td=b;this.s=c;this.o=d;this.C=e;this.G=2230716170;this.J=139264},E7=function(a){if($APP.Ce(a)){var b=$APP.Ce($APP.y(a))?new $APP.M(null,2,5,$APP.O,[$APP.y(a),$APP.z(a)],null):new $APP.M(null,2,5,$APP.O,[null,a],null),c=$APP.C.j(b,0,null);b=$APP.C.j(b,1,null);c=i7(w7,c);b=i7(w7,b);if($APP.ye(c)&&$APP.ye(b))throw $APP.Jm.g("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",
new $APP.m(null,2,[$APP.kE,D7,$APP.MB,a],null));if(!$APP.p(l7($APP.S.g(c,b))))throw $APP.Jm.g("Rule variables should be distinct",new $APP.m(null,2,[$APP.kE,D7,$APP.MB,a],null));return new C7(c,b,null,null,null)}throw $APP.Jm.g("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new $APP.m(null,2,[$APP.kE,D7,$APP.MB,a],null));},H7=function(a){return $APP.S.g($APP.p(F7.h(a))?new $APP.M(null,1,5,$APP.O,[$APP.Hq.g($APP.yn,F7.h(a))],null):null,$APP.Hq.g($APP.yn,G7.h(a)))},I7=
function(a){return new $APP.M(null,2,5,$APP.O,[$APP.de(F7.h(a)),$APP.de(G7.h(a))],null)},J7=function(a,b,c){this.s=a;this.o=b;this.C=c;this.G=2230716170;this.J=139264},K7=function(a,b,c,d){this.Gb=a;this.s=b;this.o=c;this.C=d;this.G=2230716170;this.J=139264},L7=function(a,b,c,d){this.ic=a;this.s=b;this.o=c;this.C=d;this.G=2230716170;this.J=139264},M7=function(a,b,c,d){this.Db=a;this.s=b;this.o=c;this.C=d;this.G=2230716170;this.J=139264},N7=function(a){return $APP.A.g($APP.uC,a)?m7(new J7(null,null,
null),a):null},Kza=function(a){var b=N7(a);return $APP.p(b)?b:O7.h?O7.h(a):O7.call(null,a)},Q7=function(a){var b=i7(Kza,a);if($APP.p(b)){if($APP.ye(b))throw $APP.Jm.g("Tuple binding cannot be empty",new $APP.m(null,2,[$APP.kE,P7,$APP.MB,a],null));return m7(new L7(b,null,null,null),a)}return null},O7=function(a){a:{if(h7(a,2)&&$APP.A.g($APP.ie(a),G6)){var b=$APP.y(a);b=O7.h?O7.h(b):O7.call(null,b);if($APP.p(b)){b=m7(new M7(b,null,null,null),a);break a}throw $APP.Jm.g("Cannot parse collection binding",
new $APP.m(null,2,[$APP.kE,P7,$APP.MB,a],null));}b=null}if($APP.p(b))return b;b=h7(a,1)&&$APP.Ce($APP.y(a))?m7(new M7(Q7($APP.y(a)),null,null,null),a):null;if($APP.p(b))return b;b=Q7(a);if($APP.p(b))return b;b=N7(a);if($APP.p(b))return b;b=v7(a);b=$APP.p(b)?m7(new K7(b,null,null,null),a):null;if($APP.p(b))return b;throw $APP.Jm.g("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",new $APP.m(null,2,[$APP.kE,P7,$APP.MB,a],null));},R7=function(a){if(null!=a&&null!=a.kg)a=
a.kg(a);else{var b=R7[$APP.ma(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=R7._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw $APP.Bb("IFindVars.-find-vars",a);}return a},S7=function(a,b,c,d,e){this.da=a;this.ta=b;this.s=c;this.o=d;this.C=e;this.G=2230716170;this.J=139264},T7=function(a,b,c,d,e,f){this.source=a;this.Gb=b;this.pattern=c;this.s=d;this.o=e;this.C=f;this.G=2230716170;this.J=139264},U7=function(a){if(null!=a&&null!=a.xf)a=a.xf(a);else{var b=U7[$APP.ma(null==a?null:
a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=U7._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw $APP.Bb("IFindElements.find-elements",a);}return a},V7=function(a,b,c,d){this.elements=a;this.s=b;this.o=c;this.C=d;this.G=2230716170;this.J=139264},W7=function(a,b,c,d){this.element=a;this.s=b;this.o=c;this.C=d;this.G=2230716170;this.J=139264},X7=function(a,b,c,d){this.element=a;this.s=b;this.o=c;this.C=d;this.G=2230716170;this.J=139264},Y7=function(a,b,c,d){this.elements=a;this.s=b;this.o=c;
this.C=d;this.G=2230716170;this.J=139264},Z7=function(a){return a instanceof S7},$7=function(a){return a instanceof T7},d8=function(a){var b=v7(a);if($APP.p(b))return b;a:{if($APP.Ce(a)&&$APP.A.g($APP.y(a),a8)){if(3<=$APP.de(a)&&4>=$APP.de(a)){var c=(b=$APP.A.g($APP.de(a),4))?$APP.C.g(a,1):b8;b=b?$APP.ne(a):$APP.z(a);var d=$APP.C.j(b,0,null);b=$APP.C.j(b,1,null);c=x7(c);d=v7(d);var e=v7(b);$APP.p(e)?b=e:(e=A7(b),b=$APP.p(e)?e:y7(b));if($APP.p($APP.p(c)?$APP.p(d)?b:d:c)){b=new T7(c,d,b,null,null,null);
break a}}throw $APP.Jm.g("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",new $APP.m(null,2,[$APP.kE,c8,x6,a],null));}b=null}if($APP.p(b))return b;a:{if($APP.Ce(a)&&$APP.A.g($APP.y(a),Lza)){if(3<=$APP.de(a)&&(b=$APP.w(a),$APP.y(b),c=$APP.z(b),b=$APP.y(c),c=$APP.z(c),b=v7(b),c=i7(B7,c),$APP.p($APP.p(b)?c:b))){b=new S7(b,c,null,null,null);break a}throw $APP.Jm.g("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new $APP.m(null,
2,[$APP.kE,c8,x6,a],null));}b=null}$APP.p(b)?a=b:$APP.Ce(a)&&2<=$APP.de(a)?(b=$APP.w(a),a=$APP.y(b),b=$APP.z(b),a=z7(a),b=i7(B7,b),a=$APP.p($APP.p(a)?b:a)?new S7(a,b,null,null,null):null):a=null;return a},Mza=function(a){var b=i7(d8,a);b=null==b?null:new V7(b,null,null,null);if($APP.p(b))return b;a:{if($APP.Ce(a)&&$APP.A.g($APP.de(a),1)&&(b=$APP.y(a),$APP.Ce(b)&&$APP.A.g($APP.de(b),2)&&$APP.A.g($APP.ie(b),G6))){b=d8($APP.y(b));b=null==b?null:new W7(b,null,null,null);break a}b=null}if($APP.p(b))return b;
$APP.Ce(a)&&$APP.A.g($APP.de(a),2)&&$APP.A.g($APP.ie(a),$APP.jl)?(b=d8($APP.y(a)),b=null==b?null:new X7(b,null,null,null)):b=null;if($APP.p(b))return b;$APP.Ce(a)&&$APP.A.g($APP.de(a),1)?(b=$APP.y(a),b=i7(d8,b),b=null==b?null:new Y7(b,null,null,null)):b=null;if($APP.p(b))return b;throw $APP.Jm.g("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",new $APP.m(null,2,[$APP.kE,c8,x6,a],null));},e8=function(a,b,c,d,e){this.type=a;this.xd=b;this.s=c;this.o=d;this.C=e;this.G=
2230716170;this.J=139264},f8=function(a,b){if(!$APP.ye(b)&&$APP.yg($APP.zd,b))switch(a instanceof $APP.H?a.P:null){case "keys":return new e8(a,$APP.Hq.g($APP.Fj,b),null,null,null);case "syms":return new e8(a,$APP.ff(b),null,null,null);case "strs":return new e8(a,$APP.Hq.g($APP.q,b),null,null,null);default:return null}else return null},Nza=function(a){var b=x7(a);$APP.p(b)||(b=$APP.A.g($APP.lC,a)?new s7(null,null,null):null,b=$APP.p(b)?b:A7(a));return $APP.p(b)?m7(new K7(b,null,null,null),a):O7(a)},
Pza=function(a){var b=i7(Nza,a);if($APP.p(b))return b;throw $APP.Jm.g("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new $APP.m(null,2,[$APP.kE,Oza,$APP.MB,a],null));},g8=function(a,b,c,d,e){this.source=a;this.pattern=b;this.s=c;this.o=d;this.C=e;this.G=2230716170;this.J=139264},h8=function(a,b,c,d,e){this.da=a;this.ta=b;this.s=c;this.o=d;this.C=e;this.G=2230716170;this.J=139264},i8=function(a,b,c,d,e,f){this.da=a;this.ta=b;this.Db=
c;this.s=d;this.o=e;this.C=f;this.G=2230716170;this.J=139264},j8=function(a,b,c,d,e,f){this.source=a;this.name=b;this.ta=c;this.s=d;this.o=e;this.C=f;this.G=2230716170;this.J=139264},k8=function(a,b,c,d,e,f){this.source=a;this.Hb=b;this.xa=c;this.s=d;this.o=e;this.C=f;this.G=2230716170;this.J=139264},l8=function(a,b,c,d,e,f){this.source=a;this.ad=b;this.xa=c;this.s=d;this.o=e;this.C=f;this.G=2230716170;this.J=139264},m8=function(a,b,c,d){this.xa=a;this.s=b;this.o=c;this.C=d;this.G=2230716170;this.J=
139264},n8=function(a){var b=$APP.A.g($APP.uC,a)?new o7(null,null,null):null;if($APP.p(b))return b;b=v7(a);return $APP.p(b)?b:y7(a)},o8=function(a){if($APP.Ce(a)){var b=x7($APP.y(a));return $APP.p(b)?new $APP.M(null,2,5,$APP.O,[b,$APP.z(a)],null):new $APP.M(null,2,5,$APP.O,[new r7(null,null,null),a],null)}return null},p8=function(a){if($APP.Ce(a)){var b=$APP.w(a);a=$APP.y(b);b=$APP.z(b);b=null==b?$APP.ch:b;var c=z7(a);a=$APP.p(c)?c:v7(a);b=i7(B7,b);return $APP.p($APP.p(a)?b:a)?new $APP.M(null,2,5,
$APP.O,[a,b],null):null}return null},r8=function(a,b,c){if($APP.ye(a)&&$APP.ye(b))throw $APP.Jm.g("Join variables should not be empty",new $APP.m(null,2,[$APP.kE,q8,$APP.MB,c],null));},t8=function(a,b){r8(null,s8.h(a),b);return a},v8=function(a,b){var c=$APP.gg(a);c=$APP.Te.g(c,u8);var d=$APP.gg(c);c=$APP.Te.g(d,F7);d=$APP.Te.g(d,G7);r8(c,d,b);return a},x8=function(a){if($APP.Ce(a)&&$APP.A.g($APP.Gu,$APP.y(a))){var b=$APP.z(a);b=w8.h?w8.h(b):w8.call(null,b);if($APP.p($APP.hg(b)))return new m8(b,null,
null,null);throw $APP.Jm.g("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new $APP.m(null,2,[$APP.kE,q8,$APP.MB,a],null));}return null},A8=function(a){a:{var b=o8(a);if($APP.p(b)){var c=$APP.C.j(b,0,null);b=$APP.C.j(b,1,null);var d=$APP.w(b);b=$APP.y(d);d=$APP.z(d);if($APP.A.g($APP.tD,b)){b=w8.h?w8.h(d):w8.call(null,d);if($APP.p(b)){c=t8(m7(new k8(c,$APP.ff($APP.yy.h(y8($APP.ch,b))),b,null,null,null),a),a);break a}throw $APP.Jm.g("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",
new $APP.m(null,2,[$APP.kE,q8,$APP.MB,a],null));}}c=null}if($APP.p(c))return c;a:{b=o8(a);if($APP.p(b)){c=$APP.C.j(b,0,null);b=$APP.C.j(b,1,null);d=$APP.w(b);b=$APP.y(d);var e=$APP.z(d);d=$APP.y(e);e=$APP.z(e);if($APP.A.g(z8,b)){b=i7(v7,d);d=w8.h?w8.h(e):w8.call(null,e);if($APP.p($APP.p(b)?d:b)){c=t8(m7(new k8(c,b,d,null,null,null),a),a);break a}throw $APP.Jm.g("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new $APP.m(null,2,[$APP.kE,q8,$APP.MB,a],null));}}c=
null}if($APP.p(c))return c;a:{b=o8(a);if($APP.p(b)&&(c=$APP.C.j(b,0,null),b=$APP.C.j(b,1,null),d=$APP.w(b),b=$APP.y(d),d=$APP.z(d),$APP.A.g($APP.Mu,b))){b=i7($APP.ey.g(x8,A8),d);if($APP.p(b)){c=v8(m7(new l8(c,new C7(null,$APP.ff($APP.yy.h(y8($APP.ch,b))),null,null,null),b,null,null,null),a),a);break a}throw $APP.Jm.g("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new $APP.m(null,2,[$APP.kE,q8,$APP.MB,a],null));}c=null}if($APP.p(c))return c;a:{b=o8(a);if($APP.p(b)&&(c=$APP.C.j(b,0,
null),b=$APP.C.j(b,1,null),d=$APP.w(b),b=$APP.y(d),e=$APP.z(d),d=$APP.y(e),e=$APP.z(e),$APP.A.g(B8,b))){b=E7(d);d=i7($APP.ey.g(x8,A8),e);if($APP.p($APP.p(b)?d:b)){c=v8(m7(new l8(c,b,d,null,null,null),a),a);break a}throw $APP.Jm.g("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new $APP.m(null,2,[$APP.kE,q8,$APP.MB,a],null));}c=null}if($APP.p(c))return c;a:{if(h7(a,1)&&(b=p8($APP.y(a)),$APP.p(b))){c=$APP.C.j(b,0,null);b=$APP.C.j(b,1,null);c=m7(new h8(c,b,null,null,
null),a);break a}c=null}if($APP.p(c))return c;a:{if(h7(a,2)&&(b=$APP.C.j(a,0,null),c=$APP.C.j(a,1,null),d=p8(b),$APP.p(d))){b=$APP.C.j(d,0,null);d=$APP.C.j(d,1,null);c=O7(c);c=$APP.p(c)?m7(new i8(b,d,c,null,null,null),a):null;break a}c=null}if($APP.p(c))return c;a:{b=o8(a);if($APP.p(b)&&(c=$APP.C.j(b,0,null),b=$APP.C.j(b,1,null),b=$APP.w(b),d=$APP.y(b),b=$APP.z(b),d=z7(d),e=i7(n8,b),$APP.p(d))){if($APP.ye(b))throw $APP.Jm.g("rule-expr requires at least one argument",new $APP.m(null,2,[$APP.kE,q8,
$APP.MB,a],null));if(null==e)throw $APP.Jm.g("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new $APP.m(null,2,[$APP.kE,q8,$APP.MB,a],null));c=new j8(c,d,e,null,null,null);break a}c=null}if($APP.p(c))return c;a:{b=o8(a);if($APP.p(b)&&(c=$APP.C.j(b,0,null),b=$APP.C.j(b,1,null),b=i7(n8,b),$APP.p(b))){if($APP.ye(b))throw $APP.Jm.g("Pattern could not be empty",new $APP.m(null,2,[$APP.kE,q8,$APP.MB,a],null));c=m7(new g8(c,b,null,null,null),a);break a}c=null}if($APP.p(c))return c;
throw $APP.Jm.g("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",new $APP.m(null,2,[$APP.kE,q8,$APP.MB,a],null));},w8=function(a){return i7(A8,a)},Qza=function(a){var b=w8(a);if($APP.p(b))return b;throw $APP.Jm.g("Cannot parse :where clause, expected [clause+]",new $APP.m(null,2,[$APP.kE,q8,$APP.MB,a],null));},C8=function(a,b,c,d,e){this.Hb=a;this.xa=b;this.s=c;this.o=d;this.C=e;this.G=2230716170;this.J=139264},
D8=function(a,b,c,d,e){this.name=a;this.od=b;this.s=c;this.o=d;this.C=e;this.G=2230716170;this.J=139264},Rza=function(a){if($APP.Ce(a)){var b=$APP.w(a),c=$APP.y(b),d=$APP.z(b);if($APP.Ce(c)){b=$APP.w(c);var e=$APP.y(b);c=$APP.z(b);b=function(){var g=z7(e);if($APP.p(g))return g;throw $APP.Jm.g("Cannot parse rule name, expected plain-symbol",new $APP.m(null,2,[$APP.kE,E8,$APP.MB,a],null));}();c=E7(c);var f=function(){var g=$APP.hg(w8(d));if($APP.p(g))return g;throw $APP.Jm.g("Rule branch should have clauses",
new $APP.m(null,2,[$APP.kE,E8,$APP.MB,a],null));}();return new $APP.m(null,3,[$APP.V,b,s8,c,$APP.uH,f],null)}throw $APP.Jm.g(["Cannot parse rule head, expected [rule-name rule-vars], got: ",$APP.ck.l($APP.D([c]))].join(""),new $APP.m(null,2,[$APP.kE,E8,$APP.MB,a],null));}throw $APP.Jm.g("Cannot parse rule, expected [rule-head clause+]",new $APP.m(null,2,[$APP.kE,E8,$APP.MB,a],null));},G8=function(a,b){var c=s8.h($APP.y(b)),d=I7(c);b=$APP.w($APP.z(b));for(var e=null,f=0,g=0;;)if(g<f){var h=e.ga(null,
g);h=s8.h(h);if($APP.Ui.g(d,I7(h)))throw $APP.Jm.g(["Arity mismatch for rule '",$APP.ck.l($APP.D([$APP.yn.h(a)])),"': ",$APP.ck.l($APP.D([H7(c)]))," vs. ",$APP.ck.l($APP.D([H7(h)]))].join(""),new $APP.m(null,2,[$APP.kE,E8,F8,a],null));g+=1}else if(b=$APP.w(b)){if($APP.Ge(b))f=$APP.bd(b),b=$APP.cd(b),e=f,f=$APP.de(f);else{h=$APP.y(b);e=s8.h(h);if($APP.Ui.g(d,I7(e)))throw $APP.Jm.g(["Arity mismatch for rule '",$APP.ck.l($APP.D([$APP.yn.h(a)])),"': ",$APP.ck.l($APP.D([H7(c)]))," vs. ",$APP.ck.l($APP.D([H7(e)]))].join(""),
new $APP.m(null,2,[$APP.kE,E8,F8,a],null));b=$APP.z(b);e=null;f=0}g=0}else break},Sza=function(a){$APP.ff(function(){return function d(c){return new $APP.Nf(null,function(){for(;;){var e=$APP.w(c);if(e){var f=e;if($APP.Ge(f)){var g=$APP.bd(f),h=$APP.de(g),n=$APP.Qf(h);return function(){for(var x=0;;)if(x<h){var B=$APP.qe(g,x),F=$APP.C.j(B,0,null),P=$APP.C.j(B,1,null);B=$APP.Hq.g(function(){return function(U){return new C8(s8.h(U),$APP.uH.h(U),null,null,null)}}(x,B,F,P,g,h,n,f,e),P);P=n;G8(F,B);P.add(new D8(F,
B,null,null,null));x+=1}else return!0}()?$APP.Tf($APP.Vf(n),d($APP.cd(f))):$APP.Tf($APP.Vf(n),null)}var k=$APP.y(f),u=$APP.C.j(k,0,null),v=$APP.C.j(k,1,null);k=$APP.Hq.g(function(){return function(x){return new C8(s8.h(x),$APP.uH.h(x),null,null,null)}}(k,u,v,f,e),v);G8(u,k);return $APP.Gf(new D8(u,k,null,null,null),d($APP.Id(f)))}return null}},null,null)}($APP.lk($APP.V,i7(Rza,a)))}())},H8=function(a,b,c,d,e,f,g,h){this.Pc=a;this.Tc=b;this.Rc=c;this.Qc=d;this.Sc=e;this.s=f;this.o=g;this.C=h;this.G=
2230716170;this.J=139264},Tza=function(a){var b=$APP.zm.l(a,I8,$APP.D([J8,K8,L8,M8]));b=$APP.Ee(a)?$APP.Th.g($APP.fg,b):b;return new H8(I8.h(a),J8.h(a),K8.h(a),L8.h(a),M8.h(a),null,$APP.hg(b),null)},N8=function(a){for(var b=$APP.fg,c=null;;){var d=$APP.y(a);if($APP.p(d))d instanceof $APP.H?(c=d,a=$APP.z(a)):(b=$APP.wm.F(b,new $APP.M(null,1,5,$APP.O,[c],null),$APP.Ns.g($APP.Cf,$APP.ch),d),a=$APP.z(a));else return b}},Uza=function(a){var b=$APP.xm.h(a);return a instanceof g8?b:null!=b?b instanceof r7?
null:b:null},Wza=function(a,b,c){var d=$APP.ej(y8($APP.ch,I8.h(a))),e=$APP.ej(J8.h(a)),f=$APP.ej(y8($APP.ch,L8.h(a))),g=$APP.ej(y8($APP.ch,M8.h(a)));f=$APP.fx.g($APP.DI.g(d,e),$APP.DI.g(g,f));d=$APP.gx.g(d,e);if(!$APP.ye(f))throw $APP.Jm.g(["Query for unknown vars: ",$APP.ck.l($APP.D([$APP.Hq.g($APP.yn,f)]))].join(""),new $APP.m(null,3,[$APP.kE,O8,s8,f,$APP.MB,b],null));if(!$APP.ye(d))throw $APP.Jm.g([":find and :with should not use same variables: ",$APP.ck.l($APP.D([$APP.Hq.g($APP.yn,d)]))].join(""),
new $APP.m(null,3,[$APP.kE,O8,s8,d,$APP.MB,b],null));d=K8.h(a);if(null!=d){if(I8.h(a)instanceof X7)throw $APP.Jm.g([$APP.ck.l($APP.D([$APP.Em.h(d)]))," does not work with single-scalar :find"].join(""),new $APP.m(null,2,[$APP.kE,O8,$APP.MB,b],null));if(I8.h(a)instanceof W7)throw $APP.Jm.g([$APP.ck.l($APP.D([$APP.Em.h(d)]))," does not work with collection :find"].join(""),new $APP.m(null,2,[$APP.kE,O8,$APP.MB,b],null));}d=P8.h(K8.h(a));if(null!=d&&(e=U7(I8.h(a)),!$APP.A.g($APP.de(d),$APP.de(e))))throw $APP.Jm.g(["Count of ",
$APP.ck.l($APP.D([$APP.Em.h(K8.h(a))]))," must match count of :find"].join(""),new $APP.m(null,4,[$APP.kE,O8,Vza,$APP.Gf($APP.Em.h(K8.h(a)),d),Q8,e,$APP.MB,b],null));if(1<$APP.de($APP.$g.g($APP.wb,new $APP.M(null,3,5,$APP.O,[$APP.qC.h(c),$APP.wt.h(c),R8.h(c)],null))))throw $APP.Jm.g("Only one of :keys/:syms/:strs must be present",new $APP.m(null,2,[$APP.kE,O8,$APP.MB,b],null));var h=y8($APP.ch,L8.h(a)),n=k7(function(u){return u instanceof q7},L8.h(a)),k=k7(function(u){return u instanceof s7},L8.h(a));
if(!$APP.p(function(){var u=l7(h);return $APP.p(u)?(u=l7(n),$APP.p(u)?l7(k):u):u}()))throw $APP.Jm.g("Vars used in :in should be distinct",new $APP.m(null,2,[$APP.kE,O8,$APP.MB,b],null));c=y8($APP.ch,J8.h(a));if(!$APP.p(l7(c)))throw $APP.Jm.g("Vars used in :with should be distinct",new $APP.m(null,2,[$APP.kE,O8,$APP.MB,b],null));c=j7(function(u){return u instanceof q7},L8.h(a),$APP.aj);d=j7(function(u){return u instanceof q7},M8.h(a),$APP.aj);c=$APP.fx.g(d,c);if(!$APP.ye(c))throw $APP.Jm.g(["Where uses unknown source vars: ",
$APP.ck.l($APP.D([$APP.Hq.g($APP.yn,c)]))].join(""),new $APP.m(null,3,[$APP.kE,O8,s8,c,$APP.MB,b],null));c=k7(function(u){return u instanceof j8},M8.h(a));a=k7(function(u){return u instanceof s7},L8.h(a));if(!$APP.ye(c)&&$APP.ye(a))throw $APP.Jm.g("Missing rules var '%' in :in",new $APP.m(null,2,[$APP.kE,O8,$APP.MB,b],null));},Zza=function(a){if($APP.De(a))var b=a;else if($APP.Ce(a))b=N8(a);else throw $APP.Jm.g("Query should be a vector or a map",new $APP.m(null,2,[$APP.kE,O8,$APP.MB,a],null));var c=
b,d=Qza(S8.g(c,$APP.ch));b=Tza(new $APP.m(null,5,[I8,Mza(Q8.h(c)),J8,function(){var e=T8.h(c);if($APP.p(e)){var f=i7(v7,e);if($APP.p(f))e=f;else throw $APP.Jm.g("Cannot parse :with clause, expected [ variable+ ]",new $APP.m(null,2,[$APP.kE,Xza,$APP.MB,e],null));}else e=null;return e}(),K8,function(){var e=f8($APP.qC,$APP.qC.h(c));if($APP.p(e))return e;e=f8($APP.wt,$APP.wt.h(c));return $APP.p(e)?e:f8(R8,R8.h(c))}(),L8,Pza(function(){var e=Yza.h(c);return $APP.p(e)?e:$APP.ye(k7(Uza,d))?$APP.ch:new $APP.M(null,
1,5,$APP.O,[b8],null)}()),M8,d],null));Wza(b,a,c);return b},U8=function(a,b,c,d,e,f){this.Pd=a;this.sources=b;this.rules=c;this.s=d;this.o=e;this.C=f;this.G=2230716170;this.J=139264},V8=function(a,b,c,d,e){this.ma=a;this.ce=b;this.s=c;this.o=d;this.C=e;this.G=2230716170;this.J=139264},W8=function(a,b){return $APP.gx.g($APP.ej($APP.Qi(a)),$APP.ej($APP.Qi(b)))},$za=function(a,b){return $APP.A.g($APP.de(a),$APP.de(b))&&$APP.yg(function(c){return $APP.Ve(b,c)},$APP.Qi(a))&&$APP.yg(function(c){return $APP.Ve(b,
c)},$APP.Qi(a))},X8=function(a){return a instanceof $APP.t&&$APP.A.g("$",$APP.y($APP.gj(a)))},Y8=function(a){return a instanceof $APP.t&&$APP.A.g("?",$APP.y($APP.gj(a)))},Z8=function(a){return a instanceof $APP.H||"string"===typeof a},a9=function(a){return $8(new $APP.M(null,2,5,$APP.O,[Z8,$APP.uC],null),a)},b9=function(a,b,c,d){for(var e=b.length,f=d.length,g=Array(e+f),h=0;;)if(h<e)g[h]=a[b[h]],h+=1;else break;for(a=0;;)if(a<f)g[e+a]=c[d[a]],a+=1;else break;return g},c9=function(a){a=$APP.Ej.g($APP.yn,
$APP.ff($APP.yy.h(y8($APP.ch,a))));return new V8($APP.hj(a,$APP.Xn.B()),$APP.ch,null,null,null)},d9=function(a,b){if(null!=a&&null!=a.zf)a=a.zf(a,b);else{var c=d9[$APP.ma(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=d9._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Bb("IBinding.in-\x3erel",a);}return a},aAa=function(a,b){var c=$APP.C.j(b,0,null);b=$APP.C.j(b,1,null);c instanceof K7&&e9.h(c)instanceof q7?a=$APP.Vn.N(a,f9,$APP.Vi,$APP.fr.g(c,new $APP.M(null,2,5,$APP.O,
[e9,$APP.yn],null)),b):c instanceof K7&&e9.h(c)instanceof s7?(c=$APP.Vi.j,b="string"===typeof b?$APP.ZH.h(b):b,Sza(b),b=$APP.lk($APP.je,b),a=c.call($APP.Vi,a,g9,b)):a=$APP.Vn.F(a,h9,$APP.Cf,d9(c,b));return a},bAa=function(a,b,c){var d=$APP.de(b),e=$APP.de(c);if(d<e)throw $APP.Jm.g(["Extra inputs passed, expected: ",$APP.ck.l($APP.D([$APP.Hq.g(function(f){return $APP.xm.h($APP.ue(f))},b)])),", got: ",$APP.ck.l($APP.D([e]))].join(""),new $APP.m(null,3,[$APP.kE,i9,M5,b,j9,c],null));if(d>e)throw $APP.Jm.g(["Too few inputs passed, expected: ",
$APP.ck.l($APP.D([$APP.Hq.g(function(f){return $APP.xm.h($APP.ue(f))},b)])),", got: ",$APP.ck.l($APP.D([e]))].join(""),new $APP.m(null,3,[$APP.kE,i9,M5,b,j9,c],null));return $APP.df.j(aAa,a,$APP.hj(b,c))},m9=function(a,b){var c=a.h?a.h(b):a.call(null,b);return $APP.Ve(k9,b)?function(d){d=d[c];return"number"===typeof d?d:$APP.Ce(d)?a5(l9,d):p2(d)?a5(l9,d):d}:function(d){return d[c]}},n9=function(a){if(1===$APP.de(a))return $APP.y(a);var b=$APP.ef(a);return function(c){return $APP.Mt.h(b.map(function(d){return d.h?
d.h(c):d.call(null,c)}))}},o9=function(a,b){for(var c=$APP.Sc($APP.fg);;){var d=$APP.y(b);if(null==d)return $APP.Uc(c);var e=a.h?a.h(d):a.call(null,d);b=$APP.z(b);c=$APP.Wh.j(c,e,$APP.Cf.g($APP.Te.j(c,e,$APP.Hd),d))}},q9=function(a,b){var c=p9.h(a),d=p9.h(b),e=q6.h(a),f=q6.h(b);a=$APP.ff(W8(q6.h(a),q6.h(b)));var g=$APP.Ej.g(function(x){return m9(e,x)},a),h=$APP.Ej.g(function(x){return m9(f,x)},a);a=$APP.Qi(e);b=$APP.ff($APP.fx.g($APP.ej($APP.Qi(f)),$APP.ej($APP.Qi(e))));var n=$APP.ef($APP.Ej.g(e,
a)),k=$APP.ef($APP.Ej.g(f,b));g=n9(g);var u=o9(g,c),v=n9(h);c=$APP.Uc($APP.df.j(function(x,B){var F=v.h?v.h(B):v.call(null,B);F=$APP.Te.g(u,F);return null==F?x:$APP.df.j(function(P,U){return $APP.bh.g(P,b9(U,n,B,k))},x,F)},$APP.Sc($APP.ch),d));return new V8($APP.hj($APP.S.g(a,b),$APP.Xn.B()),c,null,null,null)},r9=function(a,b){var c=$APP.gg(a),d=$APP.Te.g(c,q6);c=$APP.Te.g(c,p9);b=$APP.gg(b);var e=$APP.Te.g(b,q6);b=$APP.Te.g(b,p9);var f=W8(d,e),g=$APP.Ej.g(function(k){return m9(e,k)},f);g=n9(g);var h=
o9(g,b);b=$APP.Ej.g(function(k){return m9(d,k)},f);var n=n9(b);return $APP.Vi.j(a,p9,$APP.dh(function(k){k=n.h?n.h(k):n.call(null,k);return null==(h.h?h.h(k):h.call(null,k))},c))},cAa=function(a,b){var c=$APP.Hq.g(function(d){return $APP.A.g(d,$APP.uC)||Y8(d)?null:d},b);a=M3(a,c);b=$APP.Th.g($APP.fg,$APP.$g.g(function(d){var e=$APP.C.j(d,0,null);$APP.C.j(d,1,null);return Y8(e)},$APP.Ej.j($APP.ly,b,new $APP.M(null,4,5,$APP.O,["e","a","v","tx"],null))));return new V8(b,a,null,null,null)},dAa=function(a,
b){a=$APP.$g.g(function(d){a:for(var e=b;;){var f=d;if($APP.p($APP.p(f)?e:f)){f=$APP.y(d);var g=$APP.y(e);if($APP.A.g(g,$APP.uC)||Y8(g)||$APP.A.g(f,g))d=$APP.z(d),e=$APP.z(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=$APP.Th.g($APP.fg,$APP.$g.g(function(d){var e=$APP.C.j(d,0,null);$APP.C.j(d,1,null);return Y8(e)},$APP.Ej.j($APP.ly,b,$APP.Xn.B())));return new V8(c,$APP.Hq.g($APP.ef,a),null,null,null)},eAa=function(a,b){return(null!=a?$APP.wd===a.Di||(a.qd?0:$APP.zb(L3,a)):$APP.zb(L3,
a))?cAa(a,b):dAa(a,b)},s9=function(a,b){for(var c=$APP.ch;;){var d=$APP.y(a);if(null==d)return $APP.Cf.g(c,b);$APP.p($APP.hg(W8(q6.h(b),q6.h(d))))?(a=$APP.z(a),b=q9(d,b)):(a=$APP.z(a),c=$APP.Cf.g(c,d))}},t9=function(a,b){return $APP.zg(function(c){return $APP.Ve(q6.h(c),b)?c:null},h9.h(a))},u9=function(a,b){var c=t9(a,b);if(null==c)return null;a=$APP.y(p9.h(c));null==a?b=null:(c=q6.h(c),b=c.h?c.h(b):c.call(null,b),b=a[b]);return b},fAa=function(a,b){return $APP.zg(function(c){return $APP.Ve(q6.h(a),
c)},b)},gAa=function(a,b){var c=$APP.$g.g(function(e){return fAa(e,b)},h9.h(a)),d=$APP.df.g(v9,c);return new $APP.M(null,2,5,$APP.O,[$APP.Vn.j(a,h9,function(e){return $APP.it.g($APP.ej(c),e)}),d],null)},hAa=function(a,b,c,d){a=f9.h(a);b=q6.h(b);for(var e=$APP.de(d),f=Array(e),g=Array(e),h=0;;)if(h<e){var n=$APP.C.g(d,h);if(n instanceof $APP.t){var k=$APP.Te.g(a,n);null==k?g[h]=$APP.Te.g(b,n):f[h]=k}else f[h]=n;h+=1}else break;return c===$APP.ly?function(u){for(var v=f.slice(0),x=0;;)if(x<e){var B=
g[x];null!=B&&(v[x]=u[B]);x+=1}else break;return $APP.Dg.g(c,v)}:function(u){for(var v=0;;)if(v<e){var x=g[v];null!=x&&(f[v]=u[x]);v+=1}else break;return $APP.Dg.g(c,f)}},iAa=function(a,b){var c=$APP.C.j(b,0,null);c=$APP.w(c);var d=$APP.y(c),e=$APP.z(c),f=function(){var n=$APP.Te.g(D6,d);if($APP.p(n))return n;n=u9(a,d);if($APP.p(n))return n;if($APP.p(null))return null;if(null==t9(a,d))throw $APP.Jm.g(["Unknown predicate '",$APP.ck.l($APP.D([d]))," in ",$APP.ck.l($APP.D([b]))].join(""),new $APP.m(null,
3,[$APP.kE,w9,$APP.MB,b,$APP.lp,d],null));return null}();c=gAa(a,$APP.$g.g($APP.zd,e));var g=$APP.C.j(c,0,null),h=$APP.C.j(c,1,null);c=$APP.p(f)?function(){var n=hAa(g,h,f,e);return $APP.Vn.j(h,p9,function(k){return $APP.$g.g(n,k)})}():$APP.Vi.j(h,p9,$APP.ch);return $APP.Vn.F(g,h9,$APP.Cf,c)},jAa=function(a,b){var c=$APP.C.j(b,0,null);c=$APP.w(c);var d=$APP.y(c),e=$APP.z(c);c=$APP.C.j(b,1,null);var f=O7(c),g=function(){var k=$APP.Te.g(D6,d);if($APP.p(k))return k;k=u9(a,d);if($APP.p(k))return k;if($APP.p(null))return null;
if(null==t9(a,d))throw $APP.Jm.g(["Unknown function '",$APP.ck.l($APP.D([d]))," in ",$APP.ck.l($APP.D([b]))].join(""),new $APP.m(null,3,[$APP.kE,w9,$APP.MB,b,$APP.lp,d],null));return null}();c=gAa(a,$APP.$g.g($APP.zd,e));var h=$APP.C.j(c,0,null),n=$APP.C.j(c,1,null);c=$APP.p(g)?function(){var k=hAa(h,n,g,e),u=function(){return function B(x){return new $APP.Nf(null,function(){for(var F=x;;)if(F=$APP.w(F)){if($APP.Ge(F)){var P=$APP.bd(F),U=$APP.de(P),Z=$APP.Qf(U);a:for(var ba=0;;)if(ba<U){var ca=$APP.qe(P,
ba),ia=k(ca);null!=ia&&$APP.Uf(Z,v9.g(new V8(q6.h(n),new $APP.M(null,1,5,$APP.O,[ca],null),null,null,null),d9(f,ia)));ba+=1}else{P=!0;break a}return P?$APP.Tf($APP.Vf(Z),B($APP.cd(F))):$APP.Tf($APP.Vf(Z),null)}Z=$APP.y(F);P=k(Z);if(null!=P)return $APP.Gf(v9.g(new V8(q6.h(n),new $APP.M(null,1,5,$APP.O,[Z],null),null,null,null),d9(f,P)),B($APP.Id(F)));F=$APP.Id(F)}else return null},null,null)}(p9.h(n))}();return $APP.ye(u)?v9.g(n,c9(f)):$APP.df.g(x9,u)}():v9.g($APP.Vi.j(n,p9,$APP.ch),c9(f));return $APP.Vn.F(h,
h9,s9,c)},kAa=function(a,b){if($APP.Ce(b)){var c=X8($APP.y(b))?$APP.ie(b):$APP.y(b);if(c instanceof $APP.t){if(Y8(c)||$APP.Ve(new $APP.$i(null,new $APP.m(null,6,[$APP.Gu,null,$APP.tD,null,z8,null,B8,null,$APP.Mu,null,$APP.uC,null],null),null),c))return!1;if($APP.Ve(g9.h(a),c))return!0;throw $APP.Jm.g(["Unknown rule '",$APP.ck.l($APP.D([c]))," in ",$APP.ck.l($APP.D([b]))].join(""),new $APP.m(null,2,[$APP.kE,w9,$APP.MB,b],null));}}return!1},mAa=function(a,b){var c=$APP.w(a),d=$APP.y(c),e=$APP.z(c),
f=$APP.hk.g(lAa,$APP.Qd),g=$APP.Te.g(g9.h(b),d);return function k(n){return new $APP.Nf(null,function(){for(;;){var u=$APP.w(n);if(u){var v=u;if($APP.Ge(v)){var x=$APP.bd(v),B=$APP.de(x),F=$APP.Qf(B);return function(){for(var fa=0;;)if(fa<B){var ha=$APP.qe(x,fa),ja=ha,ra=$APP.w(ja),ta=$APP.y(ra),va=$APP.z(ra),ya=ta,Ca=$APP.w(ya),Na=$APP.y(Ca),Ua=$APP.z(Ca),Ia=Na,Ka=Ua,fb=va,nb=$APP.hj(Ka,e);$APP.Uf(F,$APP.qv(function(Cb,Rb,ac,kc,Cd,oc,Ug,Xi,zi,Tk,Uk,nm,Vg,om,pm,ld,Yi,Sh,Ai,ak,Vk,qm,rm,Pp,Zu,bk){return function(rd){if(Y8(rd)){var Rn=
Vg.h?Vg.h(rd):Vg.call(null,rd);return null==Rn?$APP.Nj.h([$APP.gj(rd),"__auto__",$APP.q.h(bk)].join("")):Rn}return rd}}(fa,ja,ra,ta,va,ya,Ca,Na,Ua,Ia,Ka,fb,nb,ha,x,B,F,v,u,a,c,d,e,d,e,f,g),fb));fa+=1}else return!0}()?$APP.Tf($APP.Vf(F),k($APP.cd(v))):$APP.Tf($APP.Vf(F),null)}var P=$APP.y(v),U=P,Z=$APP.w(U),ba=$APP.y(Z),ca=$APP.z(Z),ia=ba,oa=$APP.w(ia),la=$APP.y(oa),K=$APP.z(oa),E=la,Q=K,I=ca,N=$APP.hj(Q,e);return $APP.Gf($APP.qv(function(fa,ha,ja,ra,ta,va,ya,Ca,Na,Ua,Ia,Ka,fb,nb,Cb,Rb,ac,kc,Cd,oc,
Ug,Xi){return function(zi){if(Y8(zi)){var Tk=Ka.h?Ka.h(zi):Ka.call(null,zi);return null==Tk?$APP.Nj.h([$APP.gj(zi),"__auto__",$APP.q.h(Xi)].join("")):Tk}return zi}}(U,Z,ba,ca,ia,oa,la,K,E,Q,I,N,P,v,u,a,c,d,e,d,e,f,g),I),k($APP.Id(v)))}return null}},null,null)}(g)},nAa=function(a,b){a=$APP.it.g(function(c){var d=$APP.C.j(c,0,null);c=$APP.C.j(c,1,null);return $APP.A.g(d,c)},$APP.Ej.j($APP.ly,a,b));return new $APP.M(null,2,5,$APP.O,[$APP.Ej.g($APP.y,a),$APP.Ej.g($APP.ie,a)],null)},oAa=function(a,b){a=
$APP.w(a);var c=$APP.y(a),d=$APP.z(a);return function g(f){return new $APP.Nf(null,function(){for(;;){var h=$APP.w(f);if(h){if($APP.Ge(h)){var n=$APP.bd(h),k=$APP.de(n),u=$APP.Qf(k);a:for(var v=0;;)if(v<k){var x=$APP.qe(n,v),B=nAa(d,x);x=$APP.C.j(B,0,null);B=$APP.C.j(B,1,null);$APP.Uf(u,new $APP.M(null,1,5,$APP.O,[$APP.S.l(new $APP.M(null,1,5,$APP.O,[y9],null),x,$APP.D([B]))],null));v+=1}else{n=!0;break a}return n?$APP.Tf($APP.Vf(u),g($APP.cd(h))):$APP.Tf($APP.Vf(u),null)}u=$APP.y(h);n=nAa(d,u);u=
$APP.C.j(n,0,null);n=$APP.C.j(n,1,null);return $APP.Gf(new $APP.M(null,1,5,$APP.O,[$APP.S.l(new $APP.M(null,1,5,$APP.O,[y9],null),u,$APP.D([n]))],null),g($APP.Id(h)))}return null}},null,null)}($APP.Te.g(b,c))},z9=function(a){var b=$APP.gk.h($APP.ch);$APP.qv(function(c){$APP.p(Y8.h?Y8.h(c):Y8.call(null,c))&&$APP.hk.j(b,$APP.Cf,c);return c},a);return $APP.r(b)},pAa=function(a,b){function c(e){e=$APP.C.j(e,0,null);e=$APP.w(e);$APP.y(e);e=$APP.z(e);return $APP.yg(d,e)}var d=$APP.ej(z9(a));return new $APP.M(null,
2,5,$APP.O,[$APP.$g.g(c,b),$APP.it.g(c,b)],null)},rAa=function(a,b){function c(va){return $APP.zg(function(ya){return $APP.ye(p9.h(ya))},h9.h(va))}function d(va,ya){return $APP.df.j(A9,va,ya)}for(var e=$APP.$g.g(Y8,b),f=$APP.hj(e,$APP.Xn.B()),g=new $APP.G(null,new $APP.m(null,5,[B9,$APP.ch,C9,a,$APP.uH,new $APP.M(null,1,5,$APP.O,[b],null),D9,$APP.fg,E9,$APP.fg],null),null,1,null),h=new V8(f,$APP.ch,null,null,null);;){var n=$APP.y(g);if(null==n)return h;var k=n,u=$APP.qj(function(){return function(va){return!kAa(a,
va)}}(g,h,k,n,e,f,d,c),$APP.uH.h(k)),v=$APP.C.j(u,0,null),x=$APP.C.j(u,1,null),B=$APP.w(x),F=$APP.y(B),P=$APP.z(B),U=F,Z=P;if(null==U){b=d(C9.h(k),v);b=F9?F9(b,e):qAa.call(null,b,e);var ba=new V8(f,b,null,null,null);b=$APP.z(g);ba=x9(h,ba);g=b;h=ba}else{var ca=U,ia=$APP.w(ca),oa=$APP.y(ia),la=$APP.z(ia),K=oa,E=la,Q=oAa(U,D9.h(k)),I=pAa($APP.S.g(B9.h(k),v),$APP.S.g(Q,E9.h(k))),N=$APP.C.j(I,0,null),fa=$APP.C.j(I,1,null);if($APP.p($APP.zg(function(){return function(va){return $APP.A.g(va,new $APP.M(null,
1,5,$APP.O,[$APP.R(y9)],null))}}(g,h,ca,ia,oa,la,K,E,Q,I,N,fa,u,v,x,B,F,P,U,Z,k,n,e,f,d,c),N)))b=$APP.z(g),ba=h,g=b,h=ba;else{var ha=$APP.S.g(v,N),ja=d(C9.h(k),ha);if($APP.p(c(ja)))b=$APP.z(g),ba=h,g=b,h=ba;else{var ra=$APP.Vi.j(D9.h(k),K,$APP.Cf.g($APP.Te.j(D9.h(k),K,$APP.ch),E)),ta=mAa(U,a);b=$APP.S.g(function(){return function(va,ya,Ca,Na,Ua,Ia,Ka,fb,nb,Cb,Rb,ac,kc,Cd,oc,Ug,Xi,zi,Tk,Uk,nm,Vg,om,pm,ld,Yi,Sh,Ai,ak,Vk){return function Pp(rm){return new $APP.Nf(null,function(Zu,bk,rd,Rn,Qp,Rp,$u,av,
bv,cv,sm,dv,ev,fv,ve,Sp,gv,hv,Bi,Ef,Bg,Mc,le,uc){return function(){for(;;){var jf=$APP.w(rm);if(jf){if($APP.Ge(jf)){var iv=$APP.bd(jf),VC=$APP.de(iv),Pe=$APP.Qf(VC);a:for(var hy=0;;)if(hy<VC){var iH=$APP.qe(iv,hy);$APP.Uf(Pe,new $APP.m(null,5,[B9,Qp,C9,Rp,$APP.uH,$APP.Th.j($APP.ch,$APP.Vj,$APP.D([iH,uc])),D9,rd,E9,Sp],null));hy+=1}else{iv=!0;break a}return iv?$APP.Tf($APP.Vf(Pe),Pp($APP.cd(jf))):$APP.Tf($APP.Vf(Pe),null)}Pe=$APP.y(jf);return $APP.Gf(new $APP.m(null,5,[B9,Qp,C9,Rp,$APP.uH,$APP.Th.j($APP.ch,
$APP.Vj,$APP.D([Pe,uc])),D9,rd,E9,Sp],null),Pp($APP.Id(jf)))}return null}}}(va,ya,Ca,Na,Ua,Ia,Ka,fb,nb,Cb,Rb,ac,kc,Cd,oc,Ug,Xi,zi,Tk,Uk,nm,Vg,om,pm,ld,Yi,Sh,Ai,ak,Vk),null,null)}}(g,h,ra,ta,ha,ja,ca,ia,oa,la,K,E,Q,I,N,fa,u,v,x,B,F,P,U,Z,k,n,e,f,d,c)(ta)}(),$APP.z(g));ba=h;g=b;h=ba}}}}},sAa=function(a,b){if(null!=a?$APP.wd===a.qh||(a.qd?0:$APP.zb(U3,a)):$APP.zb(U3,a)){var c=$APP.C.j(b,0,null),d=$APP.C.j(b,1,null),e=$APP.C.j(b,2,null),f=$APP.C.j(b,3,null);return $APP.Ml.j(new $APP.M(null,4,5,$APP.O,
[$APP.p(function(){var g=a9(c);return $APP.p(g)?g:Z8(c)}())?M4(a,c):c,d,$APP.p(function(){if($APP.p(e)){var g=Z8(d);return g?(g=L4(a,d))?(g=a9(e),$APP.p(g)?g:Z8(e)):g:g}return e}())?M4(a,e):e,$APP.p(a9(f))?M4(a,f):f],null),0,$APP.de(b))}return b},tAa=function(a,b){var c=$APP.C.j(b,0,null),d=$APP.C.j(b,1,null),e=$APP.C.j(b,2,null);b=$APP.C.j(b,3,null);c=Y8(c)?$APP.Cf.g($APP.aj,c):$APP.aj;c=Y8(b)?$APP.Cf.g(c,b):c;return Y8(e)&&!Y8(d)&&L4(a,d)?$APP.Cf.g(c,e):c},G9=function(a,b){return $APP.Vi.j(a,h9,
$APP.Iq.g(function(c){var d=$APP.hg($APP.Wi(q6.h(c),b));return null==d?null:$APP.Vi.j(c,q6,d)},h9.h(a)))},H9=function(a){return $APP.Th.g($APP.aj,$APP.Yg.l(function(b){return $APP.Qi(q6.h(b))},$APP.D([h9.h(a)])))},I9=function(a,b,c){if($APP.ov(b,a))return null;a=$APP.fx.g($APP.ej(b),a);throw $APP.Jm.g(["Insufficient bindings: ",$APP.ck.l($APP.D([a]))," not bound in ",$APP.ck.l($APP.D([c]))].join(""),new $APP.m(null,3,[$APP.kE,w9,$APP.MB,c,s8,a],null));},uAa=function(a,b,c){b=$APP.Hq.g(function(d){return $APP.fx.g($APP.ej(z9(d)),
a)},b);if($APP.p($APP.Dg.g($APP.A,b)))return null;throw $APP.Jm.g(["All clauses in 'or' must use same set of free vars, had ",$APP.ck.l($APP.D([b]))," in ",$APP.ck.l($APP.D([c]))].join(""),new $APP.m(null,3,[$APP.kE,w9,$APP.MB,c,s8,b],null));},vAa=function(a,b,c){for(var d=$APP.ej($APP.it.g(a,b)),e=$APP.w(c),f=null,g=0,h=0;;)if(h<g){c=f.ga(null,h);var n=$APP.hg($APP.fx.g(d,$APP.ej(z9(c))));if(null!=n)throw e=n,$APP.Ly.l($APP.D([c,a,b,d])),$APP.Jm.g(["All clauses in 'or' must use same set of free vars, had ",
$APP.ck.l($APP.D([e]))," not bound in ",$APP.ck.l($APP.D([c]))].join(""),new $APP.m(null,3,[$APP.kE,w9,$APP.MB,c,s8,e],null));h+=1}else if(c=$APP.w(e)){e=c;if($APP.Ge(e))f=$APP.bd(e),e=$APP.cd(e),c=f,g=$APP.de(f),f=c;else{c=$APP.y(e);f=$APP.hg($APP.fx.g(d,$APP.ej(z9(c))));if(null!=f)throw e=f,$APP.Ly.l($APP.D([c,a,b,d])),$APP.Jm.g(["All clauses in 'or' must use same set of free vars, had ",$APP.ck.l($APP.D([e]))," not bound in ",$APP.ck.l($APP.D([c]))].join(""),new $APP.m(null,3,[$APP.kE,w9,$APP.MB,
c,s8,e],null));e=$APP.z(e);f=null;g=0}h=0}else return null},wAa=function(a,b){var c=l9;l9=$APP.Te.g(f9.h(a),b8);try{return $APP.df.j(J9,a,b)}finally{l9=c}},qAa=function(a){switch(arguments.length){case 2:return F9(arguments[0],arguments[1]);case 3:return xAa(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}},F9=function(a,b){a=h9.h(a);return xAa(new $APP.M(null,1,5,$APP.O,[Array($APP.de(b))],null),a,b)},xAa=function(a,b,c){for(;;){var d=
$APP.y(b);if(null==d)return a;if($APP.ye(p9.h(d)))return $APP.ch;var e=$APP.Wi(q6.h(d),c);if($APP.ye(e)){var f=a,g=$APP.z(b),h=c;a=f;b=g;c=h}else{var n=$APP.ef($APP.Ej.g(function(u,v,x,B){return function(F){return $APP.Te.g(B,F)}}(a,b,c,e,d),c)),k=$APP.de(c);f=function(){return function(u,v,x,B,F,P,U){return function ca(ba){return new $APP.Nf(null,function(ia,oa,la,K,E,Q,I){return function(){for(var N=ba;;){var fa=$APP.w(N);if(fa){var ha=fa,ja=$APP.y(ha);if(fa=$APP.w(function(ra,ta,va,ya,Ca,Na,Ua,
Ia,Ka,fb,nb){return function ac(Rb){return new $APP.Nf(null,function(kc,Cd,oc,Ug,Xi,zi,Tk,Uk,nm){return function(){for(;;){var Vg=$APP.w(Rb);if(Vg){if($APP.Ge(Vg)){var om=$APP.bd(Vg),pm=$APP.de(om),ld=$APP.Qf(pm);return function(){for(var Sh=0;;)if(Sh<pm){for(var Ai=$APP.qe(om,Sh),ak=ld,Vk=$APP.Fb(Xi),qm=0;;)if(qm<nm){var rm=Uk[qm];null!=rm&&(Vk[qm]=Ai[rm]);qm+=1}else break;ak.add(Vk);Sh+=1}else return!0}()?$APP.Tf($APP.Vf(ld),ac($APP.cd(Vg))):$APP.Tf($APP.Vf(ld),null)}var Yi=$APP.y(Vg);return $APP.Gf(function(){for(var Sh=
$APP.Fb(Xi),Ai=0;;)if(Ai<nm){var ak=Uk[Ai];null!=ak&&(Sh[Ai]=Yi[ak]);Ai+=1}else break;return Sh}(),ac($APP.Id(Vg)))}return null}}}(ra,ta,va,ya,Ca,Na,Ua,Ia,Ka,fb,nb),null,null)}}(N,ia,oa,la,ja,ha,fa,K,E,Q,I)(p9.h(I))))return $APP.S.g(fa,ca($APP.Id(N)));N=$APP.Id(N)}else return null}}}(u,v,x,B,F,P,U),null,null)}}(a,b,c,n,k,e,d)(a)}();g=$APP.z(b);h=c;a=f;b=g;c=h}}},yAa=function(a,b){return $APP.ej($APP.Ej.g($APP.ff,F9(a,b)))},K9=function(a,b){if(null!=a&&null!=a.Af)a=a.Af(a,b);else{var c=K9[$APP.ma(null==
a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=K9._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Bb("IContextResolve.-context-resolve",a);}return a},zAa=function(a,b,c){return $APP.Hq.F(function(d,e,f){if(Z7(d)){e=K9($APP.mp.h(d),b);d=$APP.Ej.g(function(h){return K9(h,b)},$APP.fj($APP.qo.h(d)));var g=$APP.Ej.g(function(h){return $APP.C.g(h,f)},c);return $APP.Dg.g(e,$APP.S.g(d,new $APP.M(null,1,5,$APP.O,[g],null)))}return e},a,$APP.y(c),$APP.Xn.B())},AAa=function(a){var b=
$APP.Eg(Z7);return $APP.it.g($APP.sb,$APP.Ej.j(function(c,d){return $APP.p(b.h?b.h(c):b.call(null,c))?d:null},a,$APP.Xn.B()))},BAa=function(a,b,c){var d=AAa(a);return function g(f){return new $APP.Nf(null,function(){for(;;){var h=$APP.w(f);if(h){if($APP.Ge(h)){var n=$APP.bd(h),k=$APP.de(n),u=$APP.Qf(k);a:for(var v=0;;)if(v<k){var x=$APP.qe(n,v);$APP.C.j(x,0,null);x=$APP.C.j(x,1,null);$APP.Uf(u,zAa(a,b,x));v+=1}else{n=!0;break a}return n?$APP.Tf($APP.Vf(u),g($APP.cd(h))):$APP.Tf($APP.Vf(u),null)}u=
$APP.y(h);$APP.C.j(u,0,null);u=$APP.C.j(u,1,null);return $APP.Gf(zAa(a,b,u),g($APP.Id(h)))}return null}},null,null)}($APP.lk(function(f){return $APP.Ej.g(function(g){return $APP.C.g(f,g)},d)},c))},CAa=function(a,b){return $APP.df.j(function(c,d){return $APP.Cf.g(c,a.h?a.h(d):a.call(null,d))},$APP.pe(b),b)},DAa=function(a,b){var c=P8.h(a),d=$APP.Xn.g(0,$APP.de(c));return CAa(function(e){return $APP.df.j(function(f,g){return $APP.Vi.j(f,$APP.C.g(c,g),$APP.C.g(e,g))},$APP.fg,d)},b)},L9=function(a,b,
c){if(null!=a&&null!=a.Bf)a=a.Bf(a,b,c);else{var d=L9[$APP.ma(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=L9._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Bb("IPostProcess.-post-process",a);}return a},EAa=function(a,b,c){var d=function(){return function g(f){return new $APP.Nf(null,function(){for(;;){var h=$APP.w(f);if(h){if($APP.Ge(h)){var n=$APP.bd(h),k=$APP.de(n),u=$APP.Qf(k);return function(){for(var x=0;;)if(x<k){var B=$APP.qe(n,x),F=u;if($7(B)){var P=
K9($APP.xm.h(B),b);B=K9(g6.h(B),b);P=Z6(P,B,null)}else P=null;F.add(P);x+=1}else return!0}()?$APP.Tf($APP.Vf(u),g($APP.cd(h))):$APP.Tf($APP.Vf(u),null)}var v=$APP.y(h);return $APP.Gf($7(v)?function(){var x=K9($APP.xm.h(v),b),B=K9(g6.h(v),b);return Z6(x,B,null)}():null,g($APP.Id(h)))}return null}},null,null)}(a)}();return function g(f){return new $APP.Nf(null,function(){for(;;){var h=$APP.w(f);if(h){var n=h;if($APP.Ge(n)){var k=$APP.bd(n),u=$APP.de(k),v=$APP.Qf(u);return function(){for(var B=0;;)if(B<
u){var F=$APP.qe(k,B);$APP.Uf(v,$APP.Hq.j(function(){return function(P,U){return $APP.p(P)?X6(P,U):U}}(B,F,k,u,v,n,h,d),d,F));B+=1}else return!0}()?$APP.Tf($APP.Vf(v),g($APP.cd(n))):$APP.Tf($APP.Vf(v),null)}var x=$APP.y(n);return $APP.Gf($APP.Hq.j(function(){return function(B,F){return $APP.p(B)?X6(B,F):F}}(x,n,h,d),d,x),g($APP.Id(n)))}return null}},null,null)}(c)},M9=function(a,b){if(a instanceof h4){var c=a.Jc,d=a.oc;return new h4(d,function(e){var f=c.h?c.h(e):c.call(null,e);return $APP.p(f)?b.g?
b.g(d,e):b.call(null,d,e):f},$APP.gk.h(0),null,null,null)}return new h4(a,function(e){return b.g?b.g(a,e):b.call(null,a,e)},$APP.gk.h(0),null,null,null)},N9=function(a){switch(arguments.length){case 2:return N9.g(arguments[0],arguments[1]);case 3:return N9.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}},O9=function(a,b){return R4.h(N9.g(a,b))},P9=function(a,b,c,d){return Q3(a,b,c,d)},R9=function(a){return $APP.gk.l(a,$APP.D([$APP.hb,
new $APP.m(null,1,[Q9,$APP.gk.h($APP.fg)],null)]))},FAa=function(a,b,c){var d=$APP.gk.h(null);$APP.hk.g(a,function(e){e=N9.j(e,b,c);$APP.Ig(d,e);return R4.h(e)});return $APP.r(d)},S9=function(a){return $APP.r(a)},T9=function(a,b){a=a.toString(16);var c=$APP.de(a);return c>b?$APP.wj.j(a,0,b):c<b?[$APP.q.h($APP.Dg.g($APP.q,$APP.oo.g(b-c,"0"))),$APP.q.h(a)].join(""):a},U9=function U9(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return U9.l(0<c.length?new $APP.Ed(c.slice(0),
0,null):null)};U9.l=function(a){return $APP.Kj(a,$APP.Vi.j($APP.mb(),$APP.eb,!1))};U9.A=0;U9.D=function(a){return this.l($APP.w(a))};
var GAa=new $APP.t(null,"ground","ground",-1460862835,null),HAa=new $APP.t("datascript","Datom","datascript/Datom",-901340080,null),g6=new $APP.H(null,"pattern","pattern",242135423),IAa=new $APP.t("datascript.core","squuid","datascript.core/squuid",-408746813,null),Jza=new $APP.H("parser","rule-var","parser/rule-var",-1584354459),k4=new $APP.H("db.unique","identity","db.unique/identity",1675950722),C5=new $APP.H("db","retract","db/retract",-1549825231),JAa=new $APP.t("datascript.core","create-conn",
"datascript.core/create-conn",-768042587,null),N5=new $APP.H(null,"new","new",-2085437848),cza=new $APP.H(null,"index","index",-1531685915),KAa=new $APP.t("datascript.db","IDatom","datascript.db/IDatom",293960966,null),LAa=new $APP.H(null,"incomparable","incomparable",1634329662),MAa=new $APP.t(null,"datom-tx","datom-tx",1349109608,null),R8=new $APP.H(null,"strs","strs",1175537277),z4=new $APP.H("db.cardinality","one","db.cardinality/one",1428352190),o5=new $APP.H("transact","upsert","transact/upsert",
412688078),K8=new $APP.H(null,"qreturn-map","qreturn-map",1841215994),NAa=new $APP.t("datascript.core","empty-db","datascript.core/empty-db",-807971396,null),OAa=new $APP.t(null,"stddev","stddev",775056588,null),V9=new $APP.t(null,"msec","msec",-1372914914,null),Y4=new $APP.H(null,"entity-id","entity-id",1485898093),PAa=new $APP.t(null,"datom-added","datom-added",-363961980,null),g9=new $APP.H(null,"rules","rules",1198912366),QAa=new $APP.t("datascript.core","filter","datascript.core/filter",-1276765471,
null),J5=new $APP.H("db","cas","db/cas",-451542322),W9=new $APP.H(null,"acc","acc",838566312),RAa=new $APP.t("datascript.core","from-serializable","datascript.core/from-serializable",-1560031101,null),kza=new $APP.H("lookup-ref","unique","lookup-ref/unique",-960647710),b4=new $APP.H(null,"max-tx","max-tx",1119558339),E8=new $APP.H("parser","rule","parser/rule",-464044566),r6=new $APP.H(null,"first-attr","first-attr",-1993039831),SAa=new $APP.t("datascript.core","q","datascript.core/q",2106686416,
null),m6=new $APP.H(null,"ref?","ref?",1932693720),X9=new $APP.t(null,"added","added",-596784081,null),TAa=new $APP.t(null,"sum","sum",1777518341,null),c8=new $APP.H("parser","find","parser/find",-801023103),Y9=new $APP.H(null,"attr","attr",-604132353),Y6=new $APP.H(null,"visitor","visitor",-1026865865),Z9=new $APP.H(null,"elements","elements",657646735),UAa=new $APP.t(null,"entity","entity",1189561251,null),$9=new $APP.H("datascript.impl.entity","nf","datascript.impl.entity/nf",-953741353),u6=new $APP.H(null,
"wildcard?","wildcard?",-686044101),u5=new $APP.H("datascript.db","tx-redundant","datascript.db/tx-redundant",-1117921977),w9=new $APP.H("query","where","query/where",-1935159429),O8=new $APP.H("parser","query","parser/query",1877320671),c5=new $APP.H(null,"context","context",-830191113),VAa=new $APP.t("datascript.db","validate-schema","datascript.db/validate-schema",-783030261,null),s6=new $APP.H(null,"last-attr","last-attr",-526000708),q5=new $APP.H(null,"conflict","conflict",1978796605),WAa=new $APP.t(null,
"!\x3d","!\x3d",-201205829,null),h9=new $APP.H(null,"rels","rels",1770187185),vza=new $APP.H("db","fn","db/fn",-1175261470),XAa=new $APP.t("datascript.core","init-db","datascript.core/init-db",1493526573,null),YAa=new $APP.t("datascript.core","touch","datascript.core/touch",632058772,null),Q4=new $APP.H(null,"db-before","db-before",-553691536),h6=new $APP.H(null,"recursion-limit","recursion-limit",52345639),E5=new $APP.H("datascript.db","value-tempids","datascript.db/value-tempids",244806162),oza=
new $APP.H(null,"datom","datom",-371556090),nza=new $APP.H("transact","unique","transact/unique",-940992320),o4=new $APP.H("db.type","ref","db.type/ref",-1728373079),ZAa=new $APP.t("datascript.db","datom","datascript.db/datom",399198004,null),$Aa=new $APP.t(null,"variance","variance",-1522424942,null),aBa=new $APP.t("datascript.core","reset-conn!","datascript.core/reset-conn!",-458464444,null),bBa=new $APP.t("datascript.core","with","datascript.core/with",-1124098173,null),r5=new $APP.H("db","id",
"db/id",-1388397098),L5=new $APP.H(null,"old","old",-1825222690),O5=new $APP.H("db.fn","retractAttribute","db.fn/retractAttribute",937402164),cBa=new $APP.t("datascript.db","datom-added","datascript.db/datom-added",-560586371,null),F7=new $APP.H(null,"required","required",1807647006),dBa=new $APP.H("db.pull","attr","db.pull/attr",-533298746),jza=new $APP.H("lookup-ref","syntax","lookup-ref/syntax",-317304012),eBa=new $APP.t("datascript.core","conn-from-db","datascript.core/conn-from-db",1590561228,
null),Dza=new $APP.H("db.pull","wildcard","db.pull/wildcard",116316031),d4=new $APP.H(null,"pull-patterns","pull-patterns",-343695048),fBa=new $APP.t(null,"init-db","init-db",-1059254491,null),gBa=new $APP.t("datascript.core","db","datascript.core/db",667170070,null),hBa=new $APP.t(null,"-index-range","-index-range",898114142,null),S4=new $APP.H(null,"tx-data","tx-data",934159761),D9=new $APP.H(null,"used-args","used-args",23596256),M5=new $APP.H(null,"expected","expected",1583670997),iBa=new $APP.t(null,
"datom-from-reader","datom-from-reader",1334075127,null),e9=new $APP.H(null,"variable","variable",-281346492),M8=new $APP.H(null,"qwhere","qwhere",-1645067378),Z4=new $APP.H("db","ident","db/ident",-737096),jBa=new $APP.t(null,"transact!","transact!",817805717,null),T4=new $APP.H(null,"tempids","tempids",1767509089),s4=new $APP.H("db","attrTuples","db/attrTuples",860541631),Yza=new $APP.H(null,"in","in",-1531184865),I8=new $APP.H(null,"qfind","qfind",1529332972),n6=new $APP.H(null,"component?","component?",
407783990),kBa=new $APP.t("datascript.core","serializable","datascript.core/serializable",-630048076,null),b8=new $APP.t(null,"$","$",-1580747756,null),C9=new $APP.H(null,"prefix-context","prefix-context",-1269613591),n4=new $APP.H("db.cardinality","many","db.cardinality/many",772806234),k5=new $APP.H("datascript.db","queued-tuples","datascript.db/queued-tuples",-762852029),Lza=new $APP.t(null,"aggregate","aggregate",-1142967327,null),s5=new $APP.H("db","add","db/add",235286841),lBa=new $APP.t(null,
"q","q",-1965434072,null),mBa=new $APP.t("datascript.core","pull","datascript.core/pull",-1213970902,null),e4=new $APP.H(null,"pull-attrs","pull-attrs",-974863177),R4=new $APP.H(null,"db-after","db-after",-571884666),q8=new $APP.H("parser","where","parser/where",-966053850),a$=new $APP.H(null,"seen","seen",-518999789),nBa=new $APP.t("clojure.string","starts-with?","clojure.string/starts-with?",656256322,null),m4=new $APP.H("db.unique","value","db.unique/value",276903088),$ya=new $APP.H(null,"tx",
"tx",466630418),P7=new $APP.H("parser","binding","parser/binding",-346395752),y5=new $APP.H("db.fn","retractEntity","db.fn/retractEntity",-1423535441),s8=new $APP.H(null,"vars","vars",-2046957217),oBa=new $APP.t(null,"attr","attr",1036399174,null),lza=new $APP.H("entity-id","missing","entity-id/missing",1234588374),pBa=new $APP.t("datascript.db","datom-from-reader","datascript.db/datom-from-reader",2070683374,null),b$=new $APP.H(null,"element","element",1974019749),qBa=new $APP.t(null,"DB","DB",1622874957,
null),B8=new $APP.t(null,"or-join","or-join",591375469,null),rBa=new $APP.H("db.pull","reverse","db.pull/reverse",1999788297),sBa=new $APP.t(null,"db-from-reader","db-from-reader",1527469533,null),tBa=new $APP.t(null,"get-some","get-some",409442058,null),uBa=new $APP.t(null,"avg","avg",1837937727,null),c$=new $APP.H(null,"unfiltered-db","unfiltered-db",-1363720391),vBa=new $APP.t(null,"println-str","println-str",-2049216703,null),q6=new $APP.H(null,"attrs","attrs",-2090668713),dza=new $APP.H(null,
"components","components",-1073188942),Xza=new $APP.H("parser","with","parser/with",-386255821),wBa=new $APP.t(null,"missing?","missing?",-1710383910,null),xBa=new $APP.t("clojure.string","ends-with?","clojure.string/ends-with?",-745964149,null),yBa=new $APP.t("datascript.core","transact!","datascript.core/transact!",1506351773,null),R3=new $APP.H(null,"avet","avet",1383857032),Aza=new $APP.t(null,"limit","limit",284709164,null),d$=new $APP.t(null,"schema","schema",58529736,null),uza=new $APP.H(null,
"entity","entity",-450970276),zBa=new $APP.t("datascript.db","datom-tx","datascript.db/datom-tx",2084964209,null),Oza=new $APP.H("parser","in","parser/in",1617442048),ABa=new $APP.H(null,"init-db","init-db",1595181278),BBa=new $APP.t(null,"create-conn","create-conn",2071410861,null),f4=new $APP.H(null,"hash","hash",-13781596),k6=new $APP.H(null,"xform","xform",-1725711008),CBa=new $APP.t(null,"rschema","rschema",444397473,null),DBa=new $APP.t(null,"with","with",104234651,null),z8=new $APP.t(null,
"not-join","not-join",-645515756,null),J8=new $APP.H(null,"qwith","qwith",-45809392),l6=new $APP.H(null,"multival?","multival?",1072388383),T8=new $APP.H(null,"with","with",-1536296876),EBa=new $APP.t("datascript.core","datoms","datascript.core/datoms",961250077,null),w6=new $APP.H("parser","pull","parser/pull",-2147427204),e$=new $APP.t(null,"tx","tx",2107161945,null),D7=new $APP.H("parser","rule-vars","parser/rule-vars",-1493174969),FBa=new $APP.t("datascript.core","tx0","datascript.core/tx0",1432817831,
null),GBa=new $APP.t("datascript.core","entity","datascript.core/entity",-1406213973,null),f$=new $APP.t(null,"tx-data","tx-data",-1720276008,null),t6=new $APP.H(null,"reverse-attrs","reverse-attrs",630097702),u4=new $APP.H("schema","validation","schema/validation",1178447161),HBa=new $APP.t(null,"reset-conn!","reset-conn!",1315177148,null),j9=new $APP.H(null,"got","got",-1674745710),u8=new $APP.H(null,"rule-vars","rule-vars",1665972520),x4=new $APP.H("db","valueType","db/valueType",1827971944),g$=
new $APP.t(null,"Datom","Datom",1208901035,null),j6=new $APP.H(null,"reverse?","reverse?",-1672868474),$3=new $APP.H(null,"aevt","aevt",-585148059),IBa=new $APP.H("datascript","db","datascript/db",-1190971692),i9=new $APP.H("query","inputs","query/inputs",1042810394),y4=new $APP.H("db","cardinality","db/cardinality",-104975659),JBa=new $APP.t(null,"serializable","serializable",1941609404,null),KBa=new $APP.H(null,"thaw-fn","thaw-fn",-240544261),h$=new $APP.H(null,"binding","binding",539932593),LBa=
new $APP.t("datascript.db","db-from-reader","datascript.db/db-from-reader",266573302,null),p5=new $APP.H(null,"assertion","assertion",-1645134882),F4=new $APP.H(null,"datoms","datoms",-290874434),MBa=new $APP.t(null,"count-distinct","count-distinct",-1566572514,null),a8=new $APP.t(null,"pull","pull",779986722,null),NBa=new $APP.t(null,"listen!","listen!",-115577950,null),OBa=new $APP.t(null,"db-with","db-with",233242042,null),G5=new $APP.H("db.fn","call","db.fn/call",-151594418),i$=new $APP.t(null,
"datascript.core","datascript.core",-1034255346,null),PBa=new $APP.t("datascript.core","conn-from-datoms","datascript.core/conn-from-datoms",253878827,null),j$=new $APP.H(null,"pred","pred",1927423397),QBa=new $APP.t(null,"untuple","untuple",-606149900,null),k$=new $APP.t(null,"c1","c1",-1521904966,null),l$=new $APP.t(null,"c2","c2",78651156,null),m$=new $APP.t(null,"c3","c3",468715789,null),n$=new $APP.t(null,"c4","c4",-1626390159,null),B9=new $APP.H(null,"prefix-clauses","prefix-clauses",1294180028),
RBa=new $APP.t(null,"index-range","index-range",1044940937,null),y9=new $APP.t(null,"-differ?","-differ?",1465687357,null),p4=new $APP.H("db","isComponent","db/isComponent",423352398),I4=new $APP.t(null,"db","db",-1661185010,null),SBa=new $APP.t(null,"touch","touch",-1158163300,null),TBa=new $APP.t(null,"sample","sample",1719555128,null),o$=new $APP.t(null,"datom","datom",1268975437,null),UBa=new $APP.H(null,"serialize","serialize",-69216574),q4=new $APP.H("db","tupleAttrs","db/tupleAttrs",250080092),
VBa=new $APP.t("datascript.core","datom","datascript.core/datom",-1596234155,null),f5=new $APP.H("db","current-tx","db/current-tx",1600722132),i6=new $APP.H(null,"recursive?","recursive?",1340075244),p$=new $APP.t(null,"conn","conn",1918841190,null),WBa=new $APP.H(null,"thaw-kw","thaw-kw",1076733097),E9=new $APP.H(null,"pending-guards","pending-guards",-1255527308),q$=new $APP.H("query","binding","query/binding",698240489),Vza=new $APP.H(null,"return-map","return-map",1620104901),p9=new $APP.H(null,
"tuples","tuples",-676032639),r$=new $APP.H(null,"branches","branches",-1240337268),s$=new $APP.t(null,"datoms","datoms",1349657093,null),K5=new $APP.H("transact","cas","transact/cas",816687170),XBa=new $APP.t("clojure.string","blank?","clojure.string/blank?",1772874244,null),bza=new $APP.H(null,"index-access","index-access",-1548960265),YBa=new $APP.t(null,"validate-schema","validate-schema",758884380,null),Q9=new $APP.H(null,"listeners","listeners",394544445),Z3=new $APP.H(null,"eavt","eavt",-666437073),
L8=new $APP.H(null,"qin","qin",1372651151),a4=new $APP.H(null,"max-eid","max-eid",2134868075),ZBa=new $APP.t("datascript.core","index-range","datascript.core/index-range",-1484576383,null),$Ba=new $APP.t(null,"tuple","tuple",1167864243,null),P8=new $APP.H(null,"symbols","symbols",1211743),P5=new $APP.H("db","retractEntity","db/retractEntity",-1452737935),aCa=new $APP.t("datascript.core","listen!","datascript.core/listen!",1659161258,null),bCa=new $APP.t(null,"squuid","squuid",-1898207797,null),x6=
new $APP.H(null,"fragment","fragment",826775688),cCa=new $APP.H("transaction","filtered","transaction/filtered",1699706605),v4=new $APP.H(null,"attribute","attribute",-2074029119),S8=new $APP.H(null,"where","where",-2044795965),D5=new $APP.H("datascript.db","internal","datascript.db/internal",-249301114),Y3=new $APP.H(null,"schema","schema",-1582001791),c4=new $APP.H(null,"rschema","rschema",-1196134054),dCa=new $APP.t(null,"conn-from-datoms","conn-from-datoms",-1502002909,null),eCa=new $APP.t("datascript.db",
"DB","datascript.db/DB",348347258,null),fCa=new $APP.t(null,"median","median",-2084869638,null),gCa=new $APP.t("clojure.string","includes?","clojure.string/includes?",-1842146260,null),hCa=new $APP.t(null,"empty-db","empty-db",1486862004,null),q3=new $APP.H(null,"v","v",21465059),b5=new $APP.H("transact","syntax","transact/syntax",-299207078),iCa=new $APP.t("datascript.db","Datom","datascript.db/Datom",1951800754,null),t$=new $APP.H(null,"recursion-limits","recursion-limits",1762857814),G6=new $APP.t(null,
"...","...",-1926939749,null),Iza=new $APP.H(null,"freeze-kw","freeze-kw",391758233),r4=new $APP.H("db.type","tuple","db.type/tuple",938234914),l4=new $APP.H("db","index","db/index",-1531680669),Q8=new $APP.H(null,"find","find",496279456),r3=new $APP.H(null,"a","a",-2123407586),jCa=new $APP.t("datascript","DB","datascript/DB",-487332776,null),Cza=new $APP.H(null,"*","*",-1294732318),Hza=new $APP.H(null,"freeze-fn","freeze-fn",-575885995),kCa=new $APP.t("datascript.core","db-with","datascript.core/db-with",
-1263574350,null),G7=new $APP.H(null,"free","free",801364328),u$=new $APP.t(null,"datascript.db","datascript.db",-444456104,null),I5=new $APP.H("db.fn","cas","db.fn/cas",-379352172),lCa=new $APP.t(null,"tx0","tx0",-4656209,null),F8=new $APP.H(null,"rule","rule",729973257),j4=new $APP.H("db","unique","db/unique",329396388),mCa=new $APP.t(null,"from-serializable","from-serializable",945516427,null),iza=new $APP.t(null,"resolve-datom","resolve-datom",-294110827,null),nCa=new $APP.t("datascript.db","rschema",
"datascript.db/rschema",1982085018,null),$4=new $APP.H("entity-id","syntax","entity-id/syntax",1921317045),f9=new $APP.H(null,"sources","sources",-321166424),oCa=new $APP.t(null,"get-else","get-else",1312024065,null),F5=new $APP.H("datascript.db","flush-tuples","datascript.db/flush-tuples",-797350002),v$=new $APP.t(null,"tx-meta","tx-meta",-1495152575,null),f6=new $APP.H(null,"limit","limit",-1355822363),U4=new $APP.H(null,"tx-meta","tx-meta",1159283194),pCa=new $APP.t(null,"pull-many","pull-many",
1857679657,null),qCa=new $APP.t("datascript.core","pull-many","datascript.core/pull-many",394351057,null),rCa=new $APP.t(null,"conn-from-db","conn-from-db",-184109372,null);var Xya,n2;datascript={};Xya={};$APP.l=j2.prototype;$APP.l.R=function(a,b,c){return l2.j?l2.j(this,b,c):l2.call(null,this,b,c)};$APP.l.ha=function(a,b){return $APP.Yb(this.Ne,b)};$APP.l.ca=function(a,b){return $APP.rx(this.Ne,b,null)};$APP.l.I=function(a,b,c){return $APP.rx(this.Ne,b,c)};$APP.l.T=function(a,b,c){return $APP.Oc(this.Ne,b,c)};var M2=$APP.y($APP.$g.g(function(a){return 0!=(32&1<<a)},$APP.Xn.j(31,-1,-1)))+1,L2=(1<<M2)-1;$APP.l=I2.prototype;$APP.l.Ih=function(){var a=this.keys;return a[a.length-1]};$APP.l.Ki=function(){return this.keys.length};$APP.l.Kh=function(a,b){return new I2(this.keys.concat(b.keys),this.Pb.concat(b.Pb))};$APP.l.Lh=function(a,b){a=w2(this.keys,b.keys);b=w2(this.Pb,b.Pb);return y2(new I2(a[0],b[0]),new I2(a[1],b[1]))};$APP.l.Jh=function(a,b,c){a=t2(b,this.keys,c);return-1===a?null:E2(this.Pb[a],b,c)};
$APP.l.Gh=function(a,b,c){a=q2(b,this.keys,this.keys.length-2,c);c=F2(this.Pb[a],b,c);if($APP.p(c)){var d=this.keys,e=a+1,f=c.map(A2);b=x2(b,d,a,e,f,f.length)?d:v2(d,a,e,f);a=v2(this.Pb,a,a+1,c);if(32>=a.length)return[new I2(b,a)];c=a.length>>>1;return[new I2(b.slice(0,c),a.slice(0,c)),new I2(b.slice(c),a.slice(c))]}return null};
$APP.l.Hh=function(a,b,c,d,e,f){var g=t2(b,this.keys,c);if(-1===g)return null;a=0<=g-1?this.Pb[g-1]:null;var h=g+1<this.Pb.length?this.Pb[g+1]:null;c=G2(this.Pb[g],b,c,!1,a,h);if($APP.p(c)){a=$APP.p(a)?g-1:g;g=$APP.p(h)?2+g:1+g;h=this.keys;var n=c.map(A2);b=x2(b,h,a,g,n,n.length)?h:v2(h,a,g,n);c=v2(this.Pb,a,g,c);return H2(new I2(b,c),d,e,f)}return null};$APP.l=J2.prototype;$APP.l.Ih=function(){var a=this.keys;return a[a.length-1]};$APP.l.Ki=function(){return this.keys.length};
$APP.l.Kh=function(a,b){return new J2(this.keys.concat(b.keys))};$APP.l.Lh=function(a,b){a=w2(this.keys,b.keys);return y2(new J2(a[0]),new J2(a[1]))};$APP.l.Jh=function(a,b,c){a=s2(b,this.keys,c);return-1===a?null:this.keys[a]};
$APP.l.Gh=function(a,b,c){a=q2(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.g?b.g(c,e):b.call(null,c,e));return e?null:32===d?(b=d+1>>>1,a>b?[new J2(this.keys.slice(0,b)),new J2(u2(this.keys,b,d,a,a,[c]))]:[new J2(u2(this.keys,0,b,a,a,[c])),new J2(this.keys.slice(b,d))]):[new J2(v2(this.keys,a,a,[c]))]};$APP.l.Hh=function(a,b,c,d,e,f){a=s2(b,this.keys,c);if(-1===a)return null;a=v2(this.keys,a,a+1,[]);return H2(new J2(a),d,e,f)};$APP.l=K2.prototype;
$APP.l.toString=function(){return $APP.nd(this)};$APP.l.ca=function(a,b){return E2(this.root,this.Ic,b)};$APP.l.I=function(a,b,c){a=E2(this.root,this.Ic,b);return $APP.p(a)?a:c};$APP.l.T=function(a,b,c){return $APP.Aj(b,$APP.Dj,"#{"," ","}",c,$APP.w(this))};$APP.l.U=function(){return this.K};$APP.l.aa=function(){return new K2(this.root,this.shift,this.M,this.Ic,this.K,this.Lc)};$APP.l.Z=function(){return this.M};$APP.l.fd=function(){return $APP.Fc(V2.h?V2.h(this):V2.call(null,this))};
$APP.l.V=function(){var a=this.Lc;return null!=a?a:this.Lc=a=$APP.Nd(this)};$APP.l.O=function(a,b){var c=this;return $APP.Ae(b)&&this.M===$APP.de(b)&&$APP.yg(function(d){return $APP.Ve(c,d)},b)};$APP.l.re=function(){return this};$APP.l.Da=function(){return new K2(new J2([]),0,0,this.Ic,this.K,null)};$APP.l.bg=function(a,b){return d3.j?d3.j(this,b,this.Ic):d3.call(null,this,b,this.Ic)};$APP.l.bb=function(a,b){a=V2.h?V2.h(this):V2.call(null,this);return $APP.p(a)?$APP.tx(a,b):b.B?b.B():b.call(null)};
$APP.l.ab=function(a,b,c){a=V2.h?V2.h(this):V2.call(null,this);return $APP.p(a)?$APP.tx(a,b,c):c};$APP.l.te=function(a,b){return c3.j?c3.j(this,b,this.Ic):c3.call(null,this,b,this.Ic)};$APP.l.Ge=function(){return this};$APP.l.Y=function(){return V2.h?V2.h(this):V2.call(null,this)};$APP.l.jh=function(a,b){return d3.j?d3.j(this,b,this.Ic):d3.call(null,this,b,this.Ic)};$APP.l.W=function(a,b){return new K2(this.root,this.shift,this.M,this.Ic,b,this.Lc)};
$APP.l.ba=function(a,b){return c3.j?c3.j(this,b,this.Ic):c3.call(null,this,b,this.Ic)};$APP.l.call=function(a){switch(arguments.length-1){case 1:return this.h(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length-1)].join(""));}};$APP.l.apply=function(a,b){return this.call.apply(this,[this].concat($APP.Fb(b)))};$APP.l.h=function(a){return this.ca(null,a)};$APP.l.g=function(a,b){return this.I(null,a,b)};
var P2=function P2(a,b,c){var e=L2&b>>>c;if(0<c){var f=a.Pb[e],g=c-M2;b=P2.j?P2.j(f,b,g):P2.call(null,f,b,g);return-1===b?e+1<a.Pb.length?0|e+1<<c:-1:b|e<<c}return e+1<a.keys.length?0|e+1<<0:-1},S2=function S2(a,b,c){var e=L2&b>>>c;if(0<c){var f=c-M2,g=a.Pb[e];b=S2.j?S2.j(g,b,f):S2.call(null,g,b,f);return-1===b?0<=e-1?(--e,R2(a.Pb[e],f)|e<<c):-1:b|e<<c}return 0<=e-1?0|e-1<<0:-1};$APP.l=W2.prototype;$APP.l.Z=function(){return this.end-this.kb};$APP.l.ga=function(a,b){return this.H[this.kb+b]};
$APP.l.Eb=function(a,b,c){return 0<=b&&b<this.end-this.kb?this.H[this.kb+b]:c};$APP.l.sf=function(){if(this.kb===this.end)throw Error("-drop-first of empty chunk");return new $APP.Rf(this.H,this.kb+1,this.end)};$APP.l.bb=function(a,b){return this.kb===this.end?b.B?b.B():b.call(null):$APP.tx(this.sf(null),b,this.H[this.kb])};$APP.l.ab=function(a,b,c){for(a=this.kb;;)if(a<this.end){var d=this.H[a];c=b.g?b.g(c,d):b.call(null,c,d);if($APP.Td(c))return $APP.r(c);a+=1}else return c};$APP.l=X2.prototype;
$APP.l.toString=function(){return $APP.nd(this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,$APP.Dj,"("," ",")",c,$APP.w(this))};$APP.l.La=function(){if($APP.p(this.keys)){if(this.idx+1<this.keys.length)return this.left+1<this.right?new X2(this.set,this.left+1,this.right,this.keys,this.idx+1):null;var a=Q2(this.set,this.left);return $APP.Ui.g(-1,a)&&a<this.right?this.qg(a,this.right):null}return null};
$APP.l.fd=function(){if($APP.p(this.keys)){var a=this.set,b=T2(this.set,this.left),c=T2(this.set,this.right);return Z2.j?Z2.j(a,b,c):Z2.call(null,a,b,c)}return null};$APP.l.O=function(a,b){return $APP.yf(this,b)};$APP.l.bb=function(a,b){if(null==this.keys)return b.B?b.B():b.call(null);a=this.Ya(null);var c=this.La(null);return null==c?a:$APP.tx(c,b,a)};
$APP.l.ab=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.g?b.g(c,f):b.call(null,c,f);if($APP.Td(c))return $APP.r(c);if(e+1<d.length)if(a+1<this.right)e+=1,a+=1;else return c;else if(a=Q2(this.set,a),-1!==a&&a<this.right)d=N2(this.set,a),e=L2&a>>>0;else return c}};$APP.l.Ya=function(){return $APP.p(this.keys)?this.keys[this.idx]:null};$APP.l.fb=function(){var a=this.La(null);return $APP.p(a)?a:$APP.Hd};
$APP.l.Y=function(){return $APP.p(this.keys)?this:null};$APP.l.af=function(){var a=$APP.A.g(this.left|L2,this.right|L2)?this.right&L2:this.keys.length;return new W2(this.keys,this.idx,a)};$APP.l.ee=function(){var a=this.Fe();return $APP.p(a)?a:$APP.Hd};$APP.l.qg=function(a,b){return new X2(this.set,a,b,N2(this.set,a),L2&a>>>0)};$APP.l.Fe=function(){var a=Q2(this.set,this.left+(this.keys.length-this.idx-1));return $APP.Ui.g(-1,a)&&a<this.right?this.qg(a,this.right):null};$APP.l=Y2.prototype;
$APP.l.toString=function(){return $APP.nd(this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,$APP.Dj,"("," ",")",c,$APP.w(this))};$APP.l.La=function(){if($APP.p(this.keys)){if(0<=this.idx-1)return this.right-1>this.left?new Y2(this.set,this.left,this.right-1,this.keys,this.idx-1):null;var a=T2(this.set,this.right);return $APP.Ui.g(-1,a)&&a>this.left?this.qg(this.left,a):null}return null};
$APP.l.fd=function(){if($APP.p(this.keys)){var a=-1===this.left?0:Q2(this.set,this.left),b=Q2(this.set,this.right);return U2(this.set,a,-1===b?this.right+1:b)}return null};$APP.l.O=function(a,b){return $APP.yf(this,b)};$APP.l.Ya=function(){return $APP.p(this.keys)?this.keys[this.idx]:null};$APP.l.fb=function(){var a=this.La(null);return $APP.p(a)?a:$APP.Hd};$APP.l.Y=function(){return $APP.p(this.keys)?this:null};$APP.l.qg=function(a,b){return new Y2(this.set,a,b,N2(this.set,b),L2&b>>>0)};var aza=Error,v5=$APP.Ns.g($APP.Cf,$APP.ch),gza=$APP.Ns.g($APP.Cf,$APP.aj);$APP.l=l3.prototype;$APP.l.Za=function(){return 0<this.tx?this.tx:-this.tx};$APP.l.Wc=function(){return 0<this.tx};$APP.l.V=function(){return 0===this.Lc?this.Lc=n3.h?n3.h(this):n3.call(null,this):this.Lc};$APP.l.O=function(a,b){return(a=b instanceof l3)?o3.g?o3.g(this,b):o3.call(null,this,b):a};$APP.l.Y=function(){return p3.h?p3.h(this):p3.call(null,this)};
$APP.l.ca=function(a,b){return s3.j?s3.j(this,b,null):s3.call(null,this,b,null)};$APP.l.I=function(a,b,c){return s3.j?s3.j(this,b,c):s3.call(null,this,b,c)};$APP.l.ga=function(a,b){return t3?t3(this,b):v3.call(null,this,b)};$APP.l.Eb=function(a,b,c){return u3?u3(this,b,c):v3.call(null,this,b,c)};$APP.l.R=function(a,b,c){return x3.j?x3.j(this,b,c):x3.call(null,this,b,c)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,$APP.Dj,"#datascript/Datom ["," ","]",c,new $APP.M(null,5,5,$APP.O,[this.e,this.a,this.v,this.Za(null),this.Wc(null)],null))};$APP.wa("datascript.db.Datom",l3);
var w3=function w3(a){switch(arguments.length){case 3:return w3.j(arguments[0],arguments[1],arguments[2]);case 4:return w3.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return w3.N(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};w3.j=function(a,b,c){return new l3(a,b,c,536870912,0,0)};w3.F=function(a,b,c,d){return new l3(a,b,c,d,0,0)};
w3.N=function(a,b,c,d,e){return new l3(a,b,c,$APP.p(e)?d:-d,0,0)};w3.A=5;$APP.l=X3.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};
$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "schema":return this.cc;case "eavt":return this.Kb;case "aevt":return this.hc;case "avet":return this.Zb;case "max-eid":return this.vc;case "max-tx":return this.wc;case "rschema":return this.mc;case "pull-patterns":return this.lc;case "pull-attrs":return this.kc;case "hash":return this.hash;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,$APP.S.g(new $APP.M(null,10,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[Y3,this.cc],null),new $APP.M(null,2,5,$APP.O,[Z3,this.Kb],null),new $APP.M(null,2,5,$APP.O,[$3,this.hc],null),new $APP.M(null,2,5,$APP.O,[R3,this.Zb],null),new $APP.M(null,2,5,$APP.O,[a4,this.vc],null),new $APP.M(null,2,5,$APP.O,[b4,this.wc],null),new $APP.M(null,2,5,$APP.O,[c4,this.mc],null),new $APP.M(null,
2,5,$APP.O,[d4,this.lc],null),new $APP.M(null,2,5,$APP.O,[e4,this.kc],null),new $APP.M(null,2,5,$APP.O,[f4,this.hash],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,10,new $APP.M(null,10,5,$APP.O,[Y3,Z3,$3,R3,a4,b4,c4,d4,e4,f4],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new X3(this.cc,this.Kb,this.hc,this.Zb,this.vc,this.wc,this.mc,this.lc,this.kc,this.hash,this.s,this.o,this.C)};
$APP.l.Z=function(){return 10+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-1515640948^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.cc,b.cc)&&$APP.A.g(this.Kb,b.Kb)&&$APP.A.g(this.hc,b.hc)&&$APP.A.g(this.Zb,b.Zb)&&$APP.A.g(this.vc,b.vc)&&$APP.A.g(this.wc,b.wc)&&$APP.A.g(this.mc,b.mc)&&$APP.A.g(this.lc,b.lc)&&$APP.A.g(this.kc,b.kc)&&$APP.A.g(this.hash,b.hash)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,10,[Y3,null,b4,null,f4,null,$3,null,R3,null,a4,null,Z3,null,e4,null,d4,null,c4,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new X3(this.cc,this.Kb,this.hc,this.Zb,this.vc,this.wc,this.mc,this.lc,this.kc,this.hash,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "schema":case "eavt":case "aevt":case "avet":case "max-eid":case "max-tx":case "rschema":case "pull-patterns":case "pull-attrs":case "hash":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(Y3,b):$APP.J.call(null,Y3,b))?new X3(c,this.Kb,this.hc,this.Zb,this.vc,this.wc,this.mc,this.lc,this.kc,this.hash,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(Z3,b):$APP.J.call(null,Z3,b))?new X3(this.cc,c,this.hc,this.Zb,this.vc,this.wc,this.mc,this.lc,this.kc,this.hash,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($3,b):$APP.J.call(null,$3,b))?new X3(this.cc,this.Kb,c,this.Zb,this.vc,this.wc,this.mc,this.lc,this.kc,this.hash,this.s,this.o,null):
$APP.p($APP.J.g?$APP.J.g(R3,b):$APP.J.call(null,R3,b))?new X3(this.cc,this.Kb,this.hc,c,this.vc,this.wc,this.mc,this.lc,this.kc,this.hash,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(a4,b):$APP.J.call(null,a4,b))?new X3(this.cc,this.Kb,this.hc,this.Zb,c,this.wc,this.mc,this.lc,this.kc,this.hash,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(b4,b):$APP.J.call(null,b4,b))?new X3(this.cc,this.Kb,this.hc,this.Zb,this.vc,c,this.mc,this.lc,this.kc,this.hash,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(c4,
b):$APP.J.call(null,c4,b))?new X3(this.cc,this.Kb,this.hc,this.Zb,this.vc,this.wc,c,this.lc,this.kc,this.hash,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(d4,b):$APP.J.call(null,d4,b))?new X3(this.cc,this.Kb,this.hc,this.Zb,this.vc,this.wc,this.mc,c,this.kc,this.hash,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(e4,b):$APP.J.call(null,e4,b))?new X3(this.cc,this.Kb,this.hc,this.Zb,this.vc,this.wc,this.mc,this.lc,c,this.hash,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(f4,b):$APP.J.call(null,f4,b))?
new X3(this.cc,this.Kb,this.hc,this.Zb,this.vc,this.wc,this.mc,this.lc,this.kc,c,this.s,this.o,null):new X3(this.cc,this.Kb,this.hc,this.Zb,this.vc,this.wc,this.mc,this.lc,this.kc,this.hash,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,10,5,$APP.O,[new $APP.We(Y3,this.cc,null),new $APP.We(Z3,this.Kb,null),new $APP.We($3,this.hc,null),new $APP.We(R3,this.Zb,null),new $APP.We(a4,this.vc,null),new $APP.We(b4,this.wc,null),new $APP.We(c4,this.mc,null),new $APP.We(d4,this.lc,null),new $APP.We(e4,this.kc,null),new $APP.We(f4,this.hash,null)],null),this.o))};
$APP.l.W=function(a,b){return new X3(this.cc,this.Kb,this.hc,this.Zb,this.vc,this.wc,this.mc,this.lc,this.kc,this.hash,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};
$APP.l.Bi=function(a,b){a:for(var c=Z3.h(b),d=b=a=$APP.ch,e=this.Kb;;){if($APP.ye(e)){var f=new $APP.M(null,3,5,$APP.O,[$APP.hg(a),$APP.hg($APP.Th.g(b,c)),$APP.hg(d)],null);break a}if($APP.ye(c)){f=new $APP.M(null,3,5,$APP.O,[$APP.hg($APP.Th.g(a,e)),$APP.hg(b),$APP.hg(d)],null);break a}var g=$APP.y(e),h=$APP.y(c);try{f=H3.g?H3.g(g,h):H3.call(null,g,h)}catch(n){if(n instanceof Error)f=LAa;else throw n;}if($APP.A.g(f,LAa))a=$APP.Cf.g(a,g),b=$APP.Cf.g(b,h),e=$APP.z(e),c=$APP.z(c);else if(0===f)d=$APP.Cf.g(d,
g),e=$APP.z(e),c=$APP.z(c);else if(0>f)a=$APP.Cf.g(a,g),e=$APP.z(e);else if(0<f)b=$APP.Cf.g(b,h),c=$APP.z(c);else{f=null;break a}}return f};$APP.l.za=$APP.wd;$APP.l.T=function(a,b,c){return E4.j?E4.j(this,b,c):E4.call(null,this,b,c)};$APP.l.Vg=$APP.wd;$APP.l.Z=function(){return $APP.de(this.Kb)};$APP.l.Qj=$APP.wd;$APP.l.fd=function(){return $APP.Fc(this.Kb)};$APP.l.tf=$APP.wd;$APP.l.V=function(){return B4.h?B4.h(this):B4.call(null,this)};
$APP.l.O=function(a,b){return D4.g?D4.g(this,b):D4.call(null,this,b)};$APP.l.Wg=$APP.wd;$APP.l.re=function(){return $APP.Vn.j($APP.Vn.j($APP.Vn.j(this,Z3,$APP.Xf),$3,$APP.Xf),R3,$APP.Xf)};$APP.l.Xg=$APP.wd;$APP.l.Da=function(){var a=this.cc;a=w$.h?w$.h(a):w$.call(null,a);return $APP.te(a,$APP.ue(this))};$APP.l.te=function(){throw $APP.Jm.g("datascript.DB/conj! is not supported",$APP.fg);};$APP.l.Ge=function(){return $APP.Vn.j($APP.Vn.j($APP.Vn.j(this,Z3,$APP.Yf),$3,$APP.Yf),R3,$APP.Yf)};
$APP.l.Ci=function(){return IBa};$APP.l.th=function(a,b,c){T3(this,b,c);return e3($APP.Te.g(this,b),O4.N?O4.N(this,b,c,0,536870912):O4.call(null,this,b,c,0,536870912),O4.N?O4.N(this,b,c,2147483647,2147483647):O4.call(null,this,b,c,2147483647,2147483647))};$APP.l.vh=function(a,b,c){T3(this,b,c);return e3($APP.Te.g(this,b),O4.N?O4.N(this,b,c,0,536870912):O4.call(null,this,b,c,0,536870912),w3.F(2147483647,null,null,2147483647))};
$APP.l.uh=function(a,b,c,d){T3(this,R3,new $APP.M(null,1,5,$APP.O,[b],null));a=new $APP.G(null,hBa,new $APP.G(null,I4,new $APP.G(null,b,new $APP.G(null,c,new $APP.G(null,d,null,1,null),2,null),3,null),4,null),5,null);J4.g?J4.g(b,a):J4.call(null,b,a);return e3(this.Zb,N4.Ca?N4.Ca(this,null,b,c,null,0,536870912):N4.call(null,this,null,b,c,null,0,536870912),N4.Ca?N4.Ca(this,null,b,d,null,2147483647,2147483647):N4.call(null,this,null,b,d,null,2147483647,2147483647))};$APP.l.qh=$APP.wd;$APP.l.sh=function(){return this.cc};
$APP.l.rh=function(a,b){a=this.mc;return a.h?a.h(b):a.call(null,b)};$APP.l.Di=$APP.wd;
$APP.l.wh=function(a,b){a=$APP.C.j(b,0,null);var c=$APP.C.j(b,1,null),d=$APP.C.j(b,2,null),e=$APP.C.j(b,3,null);b=this.Kb;var f=this.hc,g=this.Zb;$APP.Ve(W3(this,n4),c);return $APP.p(a)?$APP.p(c)?null!=d?$APP.p(e)?e3(b,w3.F(a,c,d,e),w3.F(a,c,d,e)):e3(b,w3.F(a,c,d,536870912),w3.F(a,c,d,2147483647)):$APP.p(e)?$APP.$g.g(function(h){return $APP.A.g(e,h.Za(null))},e3(b,w3.F(a,c,null,536870912),w3.F(a,c,null,2147483647))):e3(b,w3.F(a,c,null,536870912),w3.F(a,c,null,2147483647)):null!=d?$APP.p(e)?$APP.$g.g(function(h){return $APP.A.g(d,
h.v)&&$APP.A.g(e,h.Za(null))},e3(b,w3.F(a,null,null,536870912),w3.F(a,null,null,2147483647))):$APP.$g.g(function(h){return $APP.A.g(d,h.v)},e3(b,w3.F(a,null,null,536870912),w3.F(a,null,null,2147483647))):$APP.p(e)?$APP.$g.g(function(h){return $APP.A.g(e,h.Za(null))},e3(b,w3.F(a,null,null,536870912),w3.F(a,null,null,2147483647))):e3(b,w3.F(a,null,null,536870912),w3.F(a,null,null,2147483647)):$APP.p(c)?null!=d?$APP.p(e)?$APP.p(S3.g?S3.g(this,c):S3.call(null,this,c))?$APP.$g.g(function(h){return $APP.A.g(e,
h.Za(null))},e3(g,w3.F(0,c,d,536870912),w3.F(2147483647,c,d,2147483647))):$APP.$g.g(function(h){return $APP.A.g(d,h.v)&&$APP.A.g(e,h.Za(null))},e3(f,w3.F(0,c,null,536870912),w3.F(2147483647,c,null,2147483647))):$APP.p(S3.g?S3.g(this,c):S3.call(null,this,c))?e3(g,w3.F(0,c,d,536870912),w3.F(2147483647,c,d,2147483647)):$APP.$g.g(function(h){return $APP.A.g(d,h.v)},e3(f,w3.F(0,c,null,536870912),w3.F(2147483647,c,null,2147483647))):$APP.p(e)?$APP.$g.g(function(h){return $APP.A.g(e,h.Za(null))},e3(f,w3.F(0,
c,null,536870912),w3.F(2147483647,c,null,2147483647))):e3(f,w3.F(0,c,null,536870912),w3.F(2147483647,c,null,2147483647)):null!=d?$APP.p(e)?$APP.$g.g(function(h){return $APP.A.g(d,h.v)&&$APP.A.g(e,h.Za(null))},b):$APP.$g.g(function(h){return $APP.A.g(d,h.v)},b):$APP.p(e)?$APP.$g.g(function(h){return $APP.A.g(e,h.Za(null))},b):b};$APP.l=h4.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};
$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "unfiltered-db":return this.oc;case "pred":return this.Jc;case "hash":return this.hash;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.db.FilteredDB{",", ","}",c,$APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[c$,this.oc],null),new $APP.M(null,2,5,$APP.O,[j$,this.Jc],null),new $APP.M(null,2,5,$APP.O,[f4,this.hash],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,3,new $APP.M(null,3,5,$APP.O,[c$,j$,f4],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};
$APP.l.aa=function(){return new h4(this.oc,this.Jc,this.hash,this.s,this.o,this.C)};$APP.l.Z=function(){return 3+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-351969977^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.oc,b.oc)&&$APP.A.g(this.Jc,b.Jc)&&$APP.A.g(this.hash,b.hash)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,3,[f4,null,j$,null,c$,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new h4(this.oc,this.Jc,this.hash,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "unfiltered-db":case "pred":case "hash":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(c$,b):$APP.J.call(null,c$,b))?new h4(c,this.Jc,this.hash,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(j$,b):$APP.J.call(null,j$,b))?new h4(this.oc,c,this.hash,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(f4,b):$APP.J.call(null,f4,b))?new h4(this.oc,this.Jc,c,this.s,this.o,null):new h4(this.oc,this.Jc,this.hash,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.We(c$,this.oc,null),new $APP.We(j$,this.Jc,null),new $APP.We(f4,this.hash,null)],null),this.o))};$APP.l.W=function(a,b){return new h4(this.oc,this.Jc,this.hash,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.oi=$APP.wd;$APP.l.ca=function(){throw Error("-lookup is not supported on FilteredDB");};
$APP.l.I=function(){throw Error("-lookup is not supported on FilteredDB");};$APP.l.za=$APP.wd;$APP.l.T=function(a,b,c){return E4.j?E4.j(this,b,c):E4.call(null,this,b,c)};$APP.l.Vg=$APP.wd;$APP.l.Z=function(){return $APP.de(O3(this,Z3,$APP.ch))};$APP.l.tf=$APP.wd;$APP.l.V=function(){return C4.h?C4.h(this):C4.call(null,this)};$APP.l.O=function(a,b){return D4.g?D4.g(this,b):D4.call(null,this,b)};$APP.l.Xg=$APP.wd;$APP.l.Da=function(){throw Error("-empty is not supported on FilteredDB");};$APP.l.Ug=$APP.wd;
$APP.l.ha=function(){throw Error("-contains-key? is not supported on FilteredDB");};$APP.l.R=function(){throw Error("-assoc is not supported on FilteredDB");};$APP.l.th=function(a,b,c){return $APP.$g.g(this.Jc,O3(this.oc,b,c))};$APP.l.vh=function(a,b,c){return $APP.$g.g(this.Jc,P3(this.oc,b,c))};$APP.l.uh=function(a,b,c,d){return $APP.$g.g(this.Jc,Q3(this.oc,b,c,d))};$APP.l.qh=$APP.wd;$APP.l.sh=function(){return V3(this.oc)};$APP.l.rh=function(a,b){return W3(this.oc,b)};$APP.l.Di=$APP.wd;
$APP.l.wh=function(a,b){return $APP.$g.g(this.Jc,M3(this.oc,b))};var w$=function w$(a){switch(arguments.length){case 0:return w$.B();case 1:return w$.h(arguments[0]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};w$.B=function(){return w$.h(null)};w$.h=function(a){A4(a);return g4($APP.yi([Y3,b4,f4,$3,R3,a4,Z3,e4,d4,c4],[a,536870912,$APP.gk.h(0),g3(E3),g3(F3),0,g3(D3),o2(),o2(),t4($APP.ym.l($APP.D([new $APP.m(null,1,[Z4,new $APP.m(null,1,[j4,k4],null)],null),a])))]))};
w$.A=1;var G4=function G4(a){switch(arguments.length){case 1:return G4.h(arguments[0]);case 2:return G4.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};G4.h=function(a){return G4.g(a,null)};
G4.g=function(a,b){var c=$APP.y($APP.pj.g(m3,a));if(null!=c)throw $APP.Jm.g(["init-db expects list of Datoms, got ",$APP.ck.l($APP.D([$APP.Ab(c)]))].join(""),new $APP.m(null,1,[$APP.kE,ABa],null));A4(b);c=t4($APP.ym.l($APP.D([new $APP.m(null,1,[Z4,new $APP.m(null,1,[j4,k4],null)],null),b])));var d=l4.h(c),e=p2(a)?a:Yya(a);e.sort(I3);var f=f3(D3,e);e.sort(J3);e=f3(E3,e);a=$APP.$g.g(function(n){return $APP.Ve(d,n.a)},a);a=$APP.ef(a);a.sort(K3);a=f3(F3,a);var g=hza(f),h=$APP.Bx.F($APP.Ej.h(function(n){return n.Za(null)}),
$APP.Wn,536870912,f);return g4($APP.yi([Y3,b4,f4,$3,R3,a4,Z3,e4,d4,c4],[b,h,$APP.gk.h(0),e,a,g,f,o2(),o2(),c]))};G4.A=2;$APP.l=P4.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "db-before":return this.hd;case "db-after":return this.gd;case "tx-data":return this.ld;case "tempids":return this.jd;case "tx-meta":return this.md;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,$APP.S.g(new $APP.M(null,5,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[Q4,this.hd],null),new $APP.M(null,2,5,$APP.O,[R4,this.gd],null),new $APP.M(null,2,5,$APP.O,[S4,this.ld],null),new $APP.M(null,2,5,$APP.O,[T4,this.jd],null),new $APP.M(null,2,5,$APP.O,[U4,this.md],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,5,new $APP.M(null,5,5,$APP.O,[Q4,R4,S4,T4,U4],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new P4(this.hd,this.gd,this.ld,this.jd,this.md,this.s,this.o,this.C)};$APP.l.Z=function(){return 5+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-2022644885^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.hd,b.hd)&&$APP.A.g(this.gd,b.gd)&&$APP.A.g(this.ld,b.ld)&&$APP.A.g(this.jd,b.jd)&&$APP.A.g(this.md,b.md)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,5,[T4,null,R4,null,Q4,null,S4,null,U4,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new P4(this.hd,this.gd,this.ld,this.jd,this.md,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "db-before":case "db-after":case "tx-data":case "tempids":case "tx-meta":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(Q4,b):$APP.J.call(null,Q4,b))?new P4(c,this.gd,this.ld,this.jd,this.md,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(R4,b):$APP.J.call(null,R4,b))?new P4(this.hd,c,this.ld,this.jd,this.md,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(S4,b):$APP.J.call(null,S4,b))?new P4(this.hd,this.gd,c,this.jd,this.md,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(T4,b):$APP.J.call(null,T4,b))?new P4(this.hd,this.gd,this.ld,c,this.md,this.s,this.o,null):$APP.p($APP.J.g?
$APP.J.g(U4,b):$APP.J.call(null,U4,b))?new P4(this.hd,this.gd,this.ld,this.jd,c,this.s,this.o,null):new P4(this.hd,this.gd,this.ld,this.jd,this.md,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,5,5,$APP.O,[new $APP.We(Q4,this.hd,null),new $APP.We(R4,this.gd,null),new $APP.We(S4,this.ld,null),new $APP.We(T4,this.jd,null),new $APP.We(U4,this.md,null)],null),this.o))};
$APP.l.W=function(a,b){return new P4(this.hd,this.gd,this.ld,this.jd,this.md,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};var H5=new $APP.$i(null,new $APP.m(null,8,[G5,null,J5,null,y5,null,P5,null,C5,null,O5,null,I5,null,s5,null],null),null);$APP.l=X5.prototype;$APP.l.entry_set=function(){return $APP.ef($APP.Ej.g($APP.ef,W5(this)))};
$APP.l.forEach=function(){function a(d,e){for(var f=$APP.w(W5(this)),g=null,h=0,n=0;;)if(n<h){var k=g.ga(null,n),u=$APP.C.j(k,0,null);k=$APP.C.j(k,1,null);d.call(e,k,u,this);n+=1}else if(f=$APP.w(f))$APP.Ge(f)?(g=$APP.bd(f),f=$APP.cd(f),u=g,h=$APP.de(g),g=u):(g=$APP.y(f),u=$APP.C.j(g,0,null),k=$APP.C.j(g,1,null),d.call(e,k,u,this),f=$APP.z(f),g=null,h=0),n=0;else return null}function b(d){for(var e=$APP.w(W5(this)),f=null,g=0,h=0;;)if(h<g){var n=f.ga(null,h),k=$APP.C.j(n,0,null);n=$APP.C.j(n,1,null);
d.j?d.j(n,k,this):d.call(null,n,k,this);h+=1}else if(e=$APP.w(e))$APP.Ge(e)?(f=$APP.bd(e),e=$APP.cd(e),k=f,g=$APP.de(f),f=k):(f=$APP.y(e),k=$APP.C.j(f,0,null),n=$APP.C.j(f,1,null),d.j?d.j(n,k,this):d.call(null,n,k,this),e=$APP.z(e),f=null,g=0),h=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.h=b;c.g=a;return c}();
$APP.l.get=function(a){if($APP.A.g(a,":db/id"))return this.eid;if(m5(a))return U5(T5(this.db,this.eid,n5(a),null));var b=Z5?Z5(this,a):a6.call(null,this,a);return X4(this.db,a)?U5(b):b};$APP.l.key_set=function(){return $APP.ef($APP.Qi(this))};$APP.l.entries=function(){return new $APP.Lh($APP.w(W5(this)))};$APP.l.value_set=function(){return $APP.ef($APP.Ej.g($APP.ie,W5(this)))};$APP.l.toString=function(){return $APP.nd(this)};$APP.l.keys=function(){return $APP.Kd($APP.Qi(this))};
$APP.l.values=function(){return $APP.Kd($APP.Ej.g($APP.ie,W5(this)))};$APP.l.equiv=function(a){return Y5.g?Y5.g(this,a):Y5.call(null,this,a)};$APP.l.has=function(a){return null!=this.get(a)};$APP.l.ca=function(a,b){return $5?$5(this,b,null):a6.call(null,this,b,null)};$APP.l.I=function(a,b,c){return $5?$5(this,b,c):a6.call(null,this,b,c)};$APP.l.T=function(a,b,c){return $APP.Oc($APP.Vi.j($APP.r(this.cache),r5,this.eid),b,c)};$APP.l.Z=function(){V5.h?V5.h(this):V5.call(null,this);return $APP.de($APP.r(this.cache))};
$APP.l.V=function(){return $APP.xd(this.eid)};$APP.l.O=function(a,b){return Y5.g?Y5.g(this,b):Y5.call(null,this,b)};$APP.l.ha=function(a,b){return $APP.Ui.g($9,$5?$5(this,b,$9):a6.call(null,this,b,$9))};$APP.l.Y=function(){V5.h?V5.h(this):V5.call(null,this);return $APP.w($APP.r(this.cache))};
$APP.l.call=function(a){switch(arguments.length-1){case 1:return this.h(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length-1)].join(""));}};$APP.l.apply=function(a,b){return this.call.apply(this,[this].concat($APP.Fb(b)))};$APP.l.h=function(a){return Z5?Z5(this,a):a6.call(null,this,a)};$APP.l.g=function(a,b){return $5?$5(this,a,b):a6.call(null,this,a,b)};$APP.wa("datascript.impl.entity.Entity",X5);var x$=function x$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return x$.l(0<c.length?new $APP.Ed(c.slice(0),0,null):null)};x$.l=function(a){var b=$APP.de(a);return $APP.Ui.g($APP.Qg.g(b/2,a),$APP.Mg.g(b/2,a))};x$.A=0;x$.D=function(a){return this.l($APP.w(a))};var y$=function y$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return y$.l(arguments[0],arguments[1],2<c.length?new $APP.Ed(c.slice(2),0,null):null)};
y$.l=function(a,b,c){return $APP.df.j(function(d,e){d=$APP.y(M3(a,new $APP.M(null,2,5,$APP.O,[b,e],null)));return null==d?null:$APP.Sd(new $APP.M(null,2,5,$APP.O,[r3.h(d),q3.h(d)],null))},null,c)};y$.A=2;y$.D=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.l(b,a,c)};var z$=function z$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return z$.l(0<c.length?new $APP.Ed(c.slice(0),0,null):null)};
z$.l=function(a){return $APP.df.j(function(b,c){return $APP.p(c)?c:$APP.Sd(c)},!0,a)};z$.A=0;z$.D=function(a){return this.l($APP.w(a))};var A$=function A$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return A$.l(0<c.length?new $APP.Ed(c.slice(0),0,null):null)};A$.l=function(a){return $APP.df.j(function(b,c){return $APP.p(c)?$APP.Sd(c):c},null,a)};A$.A=0;A$.D=function(a){return this.l($APP.w(a))};
var B$=function B$(a){switch(arguments.length){case 1:return B$.h(arguments[0]);case 2:return B$.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return B$.l(arguments[0],arguments[1],new $APP.Ed(c.slice(2),0,null))}};B$.h=function(){return!0};B$.g=function(a,b){return 0>B3(a,b)};B$.l=function(a,b,c){for(;;)if(B$.g(a,b))if($APP.z(c))a=b,b=$APP.y(c),c=$APP.z(c);else return B$.g(b,$APP.y(c));else return!1};
B$.D=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.l(b,a,c)};B$.A=2;var C$=function C$(a){switch(arguments.length){case 1:return C$.h(arguments[0]);case 2:return C$.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return C$.l(arguments[0],arguments[1],new $APP.Ed(c.slice(2),0,null))}};C$.h=function(){return!0};C$.g=function(a,b){return 0<B3(a,b)};
C$.l=function(a,b,c){for(;;)if(C$.g(a,b))if($APP.z(c))a=b,b=$APP.y(c),c=$APP.z(c);else return C$.g(b,$APP.y(c));else return!1};C$.D=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.l(b,a,c)};C$.A=2;
var D$=function D$(a){switch(arguments.length){case 1:return D$.h(arguments[0]);case 2:return D$.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return D$.l(arguments[0],arguments[1],new $APP.Ed(c.slice(2),0,null))}};D$.h=function(){return!0};D$.g=function(a,b){return!(0<B3(a,b))};D$.l=function(a,b,c){for(;;)if(D$.g(a,b))if($APP.z(c))a=b,b=$APP.y(c),c=$APP.z(c);else return D$.g(b,$APP.y(c));else return!1};
D$.D=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.l(b,a,c)};D$.A=2;var E$=function E$(a){switch(arguments.length){case 1:return E$.h(arguments[0]);case 2:return E$.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return E$.l(arguments[0],arguments[1],new $APP.Ed(c.slice(2),0,null))}};E$.h=function(){return!0};E$.g=function(a,b){return!(0>B3(a,b))};
E$.l=function(a,b,c){for(;;)if(E$.g(a,b))if($APP.z(c))a=b,b=$APP.y(c),c=$APP.z(c);else return E$.g(b,$APP.y(c));else return!1};E$.D=function(a){var b=$APP.y(a),c=$APP.z(a);a=$APP.y(c);c=$APP.z(c);return this.l(b,a,c)};E$.A=2;
var D6=$APP.yi([$APP.KD,$APP.Gu,$APP.bA,oCa,$APP.WC,$APP.IA,$APP.NC,$APP.jA,tBa,$APP.nz,QBa,$APP.WD,$APP.zn,$APP.OH,$APP.gG,$APP.tD,$APP.zH,y9,$Ba,$APP.dC,$APP.KC,nBa,$APP.OC,$APP.ME,$APP.oC,$APP.kD,wBa,GAa,$APP.kB,$APP.FE,$APP.SC,$APP.fz,$APP.yG,$APP.AG,$APP.wG,$APP.zA,$APP.mC,$APP.gE,vBa,$APP.DA,$APP.iB,WAa,$APP.GB,$APP.iG,$APP.IC,$APP.SA,$APP.ED,$APP.JA,$APP.FA,$APP.MC,$APP.mH,$APP.GE,$APP.pC,$APP.kH,$APP.Oz,$APP.AB,$APP.uD,$APP.mE,$APP.sA,xBa,$APP.$C,$APP.EF,gCa,$APP.JE,$APP.LD,$APP.Bz,$APP.AF,
$APP.Cz,XBa,$APP.QE,$APP.Mu,$APP.IE,$APP.mB,$APP.xB],[$APP.Je,z$,$APP.Cg,function(a,b,c,d){if(null==d)throw $APP.Jm.g("get-else: nil default value is not supported",new $APP.m(null,1,[$APP.kE,w9],null));a=$APP.y(M3(a,new $APP.M(null,2,5,$APP.O,[b,c],null)));return null==a?d:q3.h(a)},E$,$APP.Jy,C$,$APP.de,y$,$APP.sb,$APP.mf,$APP.Qd,$APP.Ex,$APP.sf,$APP.Ie,$APP.vb,$APP.mf,x$,$APP.ly,$APP.vj,D$,$APP.Ql,$APP.A,$APP.Jx,$APP.Cx,$APP.gj,function(a,b,c){return null==$APP.Te.g(R5(a,b),c)},$APP.mf,$APP.jk,
$APP.Eg,$APP.Ll,$APP.sp,$APP.Ye,$APP.Xn,$APP.Wn,$APP.ye,$APP.Dx,$APP.ck,U9,$APP.ue,$APP.wf,$APP.Ui,$APP.Hy,$APP.nf,$APP.xj,$APP.ly,$APP.Ui,$APP.Te,$APP.q,B$,$APP.If,$APP.Fj,$APP.hp,$APP.wb,$APP.vf,$APP.Sy,$APP.sj,$APP.R,$APP.Ve,$APP.Rl,$APP.wj,$APP.rf,$APP.Sl,$APP.rp,$APP.tf,$APP.Ag,$APP.Ab,$APP.xf,$APP.Pl,$APP.hg,A$,$APP.rb,$APP.ej,$APP.tj]),F$=function F$(a){switch(arguments.length){case 1:return F$.h(arguments[0]);case 2:return F$.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",
$APP.q.h(arguments.length)].join(""));}};F$.h=function(a){return $APP.df.j(function(b,c){return 0>$APP.Ye(c,b)?c:b},$APP.y(a),$APP.z(a))};F$.g=function(a,b){return $APP.ff($APP.df.j(function(c,d){return $APP.de(c)<a?$APP.tl.g($APP.Ye,$APP.Cf.g(c,d)):0>$APP.Ye(d,$APP.oe(c))?$APP.tl.g($APP.Ye,$APP.Cf.g($APP.fj(c),d)):c},$APP.ch,b))};F$.A=2;
var G$=function G$(a){switch(arguments.length){case 1:return G$.h(arguments[0]);case 2:return G$.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};G$.h=function(a){return $APP.df.j(function(b,c){return 0<$APP.Ye(c,b)?c:b},$APP.y(a),$APP.z(a))};G$.g=function(a,b){return $APP.ff($APP.df.j(function(c,d){return $APP.de(c)<a?$APP.tl.g($APP.Ye,$APP.Cf.g(c,d)):0<$APP.Ye(d,$APP.y(c))?$APP.tl.g($APP.Ye,$APP.Cf.g($APP.z(c),d)):c},$APP.ch,b))};
G$.A=2;var H$=function H$(a){switch(arguments.length){case 1:return H$.h(arguments[0]);case 2:return H$.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};H$.h=function(a){return $APP.kk(a)};H$.g=function(a,b){return $APP.ff($APP.Tt.g(a,function(){return $APP.kk(b)}))};H$.A=2;
var sCa=$APP.yi([$Aa,$APP.jA,fCa,TAa,$APP.ME,$APP.wG,MBa,$APP.yD,uBa,OAa,$APP.AB,TBa],[d6,$APP.de,function(a){var b=$APP.tl.h(a);a=$APP.de(a);var c=a>>1,d=$APP.C.g(b,c);return $APP.Ag(a)?(d+$APP.C.g(b,c-1))/2:d},b6,F$,G$,function(a){return $APP.de($APP.yy.h(a))},$APP.ej,c6,function(a){return Math.sqrt(d6(a))},H$,function(a,b){return $APP.ff($APP.Qg.g(a,$APP.gf(b)))}]);$APP.l=e6.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};
$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "as":return this.as;case "default":return this.qc;case "limit":return this.jb;case "name":return this.name;case "pattern":return this.pattern;case "recursion-limit":return this.Wb;case "recursive?":return this.Xb;case "reverse?":return this.bc;case "xform":return this.lb;case "multival?":return this.Vb;case "ref?":return this.Yb;case "component?":return this.Tb;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.pull-parser.PullAttr{",", ","}",c,$APP.S.g(new $APP.M(null,12,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.vo,this.as],null),new $APP.M(null,2,5,$APP.O,[$APP.In,this.qc],null),new $APP.M(null,2,5,$APP.O,[f6,this.jb],null),new $APP.M(null,2,5,$APP.O,[$APP.V,this.name],null),new $APP.M(null,2,5,$APP.O,[g6,this.pattern],null),new $APP.M(null,2,5,$APP.O,[h6,this.Wb],null),new $APP.M(null,2,5,$APP.O,
[i6,this.Xb],null),new $APP.M(null,2,5,$APP.O,[j6,this.bc],null),new $APP.M(null,2,5,$APP.O,[k6,this.lb],null),new $APP.M(null,2,5,$APP.O,[l6,this.Vb],null),new $APP.M(null,2,5,$APP.O,[m6,this.Yb],null),new $APP.M(null,2,5,$APP.O,[n6,this.Tb],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,12,new $APP.M(null,12,5,$APP.O,[$APP.vo,$APP.In,f6,$APP.V,g6,h6,i6,j6,k6,l6,m6,n6],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};
$APP.l.aa=function(){return new e6(this.as,this.qc,this.jb,this.name,this.pattern,this.Wb,this.Xb,this.bc,this.lb,this.Vb,this.Yb,this.Tb,this.s,this.o,this.C)};$APP.l.Z=function(){return 12+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-1743810262^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.as,b.as)&&$APP.A.g(this.default,b.default)&&$APP.A.g(this.jb,b.jb)&&$APP.A.g(this.name,b.name)&&$APP.A.g(this.pattern,b.pattern)&&$APP.A.g(this.Wb,b.Wb)&&$APP.A.g(this.Xb,b.Xb)&&$APP.A.g(this.bc,b.bc)&&$APP.A.g(this.lb,b.lb)&&$APP.A.g(this.Vb,b.Vb)&&$APP.A.g(this.Yb,b.Yb)&&$APP.A.g(this.Tb,b.Tb)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,12,[k6,null,f6,null,j6,null,h6,null,$APP.In,null,$APP.V,null,$APP.vo,null,i6,null,n6,null,m6,null,l6,null,g6,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new e6(this.as,this.qc,this.jb,this.name,this.pattern,this.Wb,this.Xb,this.bc,this.lb,this.Vb,this.Yb,this.Tb,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "as":case "default":case "limit":case "name":case "pattern":case "recursion-limit":case "recursive?":case "reverse?":case "xform":case "multival?":case "ref?":case "component?":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.vo,b):$APP.J.call(null,$APP.vo,b))?new e6(c,this.qc,this.jb,this.name,this.pattern,this.Wb,this.Xb,this.bc,this.lb,this.Vb,this.Yb,this.Tb,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.In,b):$APP.J.call(null,$APP.In,b))?new e6(this.as,c,this.jb,this.name,this.pattern,this.Wb,this.Xb,this.bc,this.lb,this.Vb,this.Yb,this.Tb,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(f6,b):$APP.J.call(null,f6,b))?new e6(this.as,this.qc,c,this.name,this.pattern,
this.Wb,this.Xb,this.bc,this.lb,this.Vb,this.Yb,this.Tb,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.V,b):$APP.J.call(null,$APP.V,b))?new e6(this.as,this.qc,this.jb,c,this.pattern,this.Wb,this.Xb,this.bc,this.lb,this.Vb,this.Yb,this.Tb,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(g6,b):$APP.J.call(null,g6,b))?new e6(this.as,this.qc,this.jb,this.name,c,this.Wb,this.Xb,this.bc,this.lb,this.Vb,this.Yb,this.Tb,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(h6,b):$APP.J.call(null,h6,b))?new e6(this.as,
this.qc,this.jb,this.name,this.pattern,c,this.Xb,this.bc,this.lb,this.Vb,this.Yb,this.Tb,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(i6,b):$APP.J.call(null,i6,b))?new e6(this.as,this.qc,this.jb,this.name,this.pattern,this.Wb,c,this.bc,this.lb,this.Vb,this.Yb,this.Tb,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(j6,b):$APP.J.call(null,j6,b))?new e6(this.as,this.qc,this.jb,this.name,this.pattern,this.Wb,this.Xb,c,this.lb,this.Vb,this.Yb,this.Tb,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(k6,b):$APP.J.call(null,
k6,b))?new e6(this.as,this.qc,this.jb,this.name,this.pattern,this.Wb,this.Xb,this.bc,c,this.Vb,this.Yb,this.Tb,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(l6,b):$APP.J.call(null,l6,b))?new e6(this.as,this.qc,this.jb,this.name,this.pattern,this.Wb,this.Xb,this.bc,this.lb,c,this.Yb,this.Tb,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(m6,b):$APP.J.call(null,m6,b))?new e6(this.as,this.qc,this.jb,this.name,this.pattern,this.Wb,this.Xb,this.bc,this.lb,this.Vb,c,this.Tb,this.s,this.o,null):$APP.p($APP.J.g?
$APP.J.g(n6,b):$APP.J.call(null,n6,b))?new e6(this.as,this.qc,this.jb,this.name,this.pattern,this.Wb,this.Xb,this.bc,this.lb,this.Vb,this.Yb,c,this.s,this.o,null):new e6(this.as,this.qc,this.jb,this.name,this.pattern,this.Wb,this.Xb,this.bc,this.lb,this.Vb,this.Yb,this.Tb,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,12,5,$APP.O,[new $APP.We($APP.vo,this.as,null),new $APP.We($APP.In,this.qc,null),new $APP.We(f6,this.jb,null),new $APP.We($APP.V,this.name,null),new $APP.We(g6,this.pattern,null),new $APP.We(h6,this.Wb,null),new $APP.We(i6,this.Xb,null),new $APP.We(j6,this.bc,null),new $APP.We(k6,this.lb,null),new $APP.We(l6,this.Vb,null),new $APP.We(m6,this.Yb,null),new $APP.We(n6,this.Tb,null)],null),this.o))};
$APP.l.W=function(a,b){return new e6(this.as,this.qc,this.jb,this.name,this.pattern,this.Wb,this.Xb,this.bc,this.lb,this.Vb,this.Yb,this.Tb,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l=p6.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};
$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "attrs":return this.ma;case "first-attr":return this.Oc;case "last-attr":return this.Zc;case "reverse-attrs":return this.Kc;case "wildcard?":return this.fc;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,$APP.S.g(new $APP.M(null,5,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[q6,this.ma],null),new $APP.M(null,2,5,$APP.O,[r6,this.Oc],null),new $APP.M(null,2,5,$APP.O,[s6,this.Zc],null),new $APP.M(null,2,5,$APP.O,[t6,this.Kc],null),new $APP.M(null,2,5,$APP.O,[u6,this.fc],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,5,new $APP.M(null,5,5,$APP.O,[q6,r6,s6,t6,u6],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new p6(this.ma,this.Oc,this.Zc,this.Kc,this.fc,this.s,this.o,this.C)};$APP.l.Z=function(){return 5+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-795554044^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.ma,b.ma)&&$APP.A.g(this.Oc,b.Oc)&&$APP.A.g(this.Zc,b.Zc)&&$APP.A.g(this.Kc,b.Kc)&&$APP.A.g(this.fc,b.fc)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,5,[t6,null,r6,null,q6,null,u6,null,s6,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new p6(this.ma,this.Oc,this.Zc,this.Kc,this.fc,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "attrs":case "first-attr":case "last-attr":case "reverse-attrs":case "wildcard?":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(q6,b):$APP.J.call(null,q6,b))?new p6(c,this.Oc,this.Zc,this.Kc,this.fc,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(r6,b):$APP.J.call(null,r6,b))?new p6(this.ma,c,this.Zc,this.Kc,this.fc,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(s6,b):$APP.J.call(null,s6,b))?new p6(this.ma,this.Oc,c,this.Kc,this.fc,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(t6,b):$APP.J.call(null,t6,b))?new p6(this.ma,this.Oc,this.Zc,c,this.fc,this.s,this.o,null):$APP.p($APP.J.g?
$APP.J.g(u6,b):$APP.J.call(null,u6,b))?new p6(this.ma,this.Oc,this.Zc,this.Kc,c,this.s,this.o,null):new p6(this.ma,this.Oc,this.Zc,this.Kc,this.fc,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,5,5,$APP.O,[new $APP.We(q6,this.ma,null),new $APP.We(r6,this.Oc,null),new $APP.We(s6,this.Zc,null),new $APP.We(t6,this.Kc,null),new $APP.We(u6,this.fc,null)],null),this.o))};
$APP.l.W=function(a,b){return new p6(this.ma,this.Oc,this.Zc,this.Kc,this.fc,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};var F6=o6(new $APP.m(null,3,[$APP.V,r5,$APP.vo,r5,k6,$APP.mf],null)),z6=v6(new $APP.m(null,1,[q6,new $APP.G(null,F6,null,1,null)],null)),yza=$APP.Vi.j(z6,u6,!0);$APP.l=L6.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "db":return this.db;case "visitor":return this.Td;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.pull-api.Context{",", ","}",c,$APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.tB,this.db],null),new $APP.M(null,2,5,$APP.O,[Y6,this.Td],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,2,new $APP.M(null,2,5,$APP.O,[$APP.tB,Y6],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};
$APP.l.aa=function(){return new L6(this.db,this.Td,this.s,this.o,this.C)};$APP.l.Z=function(){return 2+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=1727735959^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.db,b.db)&&$APP.A.g(this.Td,b.Td)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,2,[$APP.tB,null,Y6,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new L6(this.db,this.Td,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "db":case "visitor":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.tB,b):$APP.J.call(null,$APP.tB,b))?new L6(c,this.Td,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(Y6,b):$APP.J.call(null,Y6,b))?new L6(this.db,c,this.s,this.o,null):new L6(this.db,this.Td,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.We($APP.tB,this.db,null),new $APP.We(Y6,this.Td,null)],null),this.o))};$APP.l.W=function(a,b){return new L6(this.db,this.Td,b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l=P6.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "value":return this.value;case "datoms":return this.ra;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.pull-api.ResultFrame{",", ","}",c,$APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.vE,this.value],null),new $APP.M(null,2,5,$APP.O,[F4,this.ra],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,2,new $APP.M(null,2,5,$APP.O,[$APP.vE,F4],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};
$APP.l.aa=function(){return new P6(this.value,this.ra,this.s,this.o,this.C)};$APP.l.Z=function(){return 2+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=836381841^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.value,b.value)&&$APP.A.g(this.ra,b.ra)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,2,[$APP.vE,null,F4,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new P6(this.value,this.ra,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "value":case "datoms":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.vE,b):$APP.J.call(null,$APP.vE,b))?new P6(c,this.ra,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(F4,b):$APP.J.call(null,F4,b))?new P6(this.value,c,this.s,this.o,null):new P6(this.value,this.ra,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.We($APP.vE,this.value,null),new $APP.We(F4,this.ra,null)],null),this.o))};
$APP.l.W=function(a,b){return new P6(this.value,this.ra,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l=Q6.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "acc":return this.ia;case "attr":return this.ea;case "datoms":return this.ra;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.pull-api.MultivalAttrFrame{",", ","}",c,$APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[W9,this.ia],null),new $APP.M(null,2,5,$APP.O,[Y9,this.ea],null),new $APP.M(null,2,5,$APP.O,[F4,this.ra],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,3,new $APP.M(null,3,5,$APP.O,[W9,Y9,F4],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new Q6(this.ia,this.ea,this.ra,this.s,this.o,this.C)};$APP.l.Z=function(){return 3+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=1829867699^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.ia,b.ia)&&$APP.A.g(this.ea,b.ea)&&$APP.A.g(this.ra,b.ra)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,3,[W9,null,F4,null,Y9,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new Q6(this.ia,this.ea,this.ra,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "acc":case "attr":case "datoms":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(W9,b):$APP.J.call(null,W9,b))?new Q6(c,this.ea,this.ra,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(Y9,b):$APP.J.call(null,Y9,b))?new Q6(this.ia,c,this.ra,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(F4,b):$APP.J.call(null,F4,b))?new Q6(this.ia,this.ea,c,this.s,this.o,null):new Q6(this.ia,this.ea,this.ra,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.We(W9,this.ia,null),new $APP.We(Y9,this.ea,null),new $APP.We(F4,this.ra,null)],null),this.o))};$APP.l.W=function(a,b){return new Q6(this.ia,this.ea,this.ra,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};
$APP.l.yf=function(){for(var a=this,b=a.ia,c=a.ra;;){var d=I6(c);if(null==d||$APP.Ui.g(d.a,a.ea.name))return new $APP.M(null,1,5,$APP.O,[new P6(function(){var g=$APP.hg($APP.Uc(b)),h=a.ea.lb;return h.h?h.h(g):h.call(null,g)}(),function(){var g=c;return $APP.p(g)?g:$APP.Hd}(),null,null,null)],null);if($APP.p(function(){var g=a.ea.jb;return $APP.p(g)?$APP.de(b)>=a.ea.jb:g}()))for(var e=c;;){d=I6(e);if(null==d||$APP.Ui.g(d.a,a.ea.name))return new $APP.M(null,1,5,$APP.O,[new P6($APP.Uc(b),function(){var g=
e;return $APP.p(g)?g:$APP.Hd}(),null,null,null)],null);e=J6(e)}else{d=$APP.bh.g(b,d.v);var f=J6(c);b=d;c=f}}};$APP.l=R6.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "seen":return this.oa;case "recursion-limits":return this.sa;case "acc":return this.ia;case "pattern":return this.pattern;case "attr":return this.ea;case "datoms":return this.ra;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.pull-api.MultivalRefAttrFrame{",", ","}",c,$APP.S.g(new $APP.M(null,6,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[a$,this.oa],null),new $APP.M(null,2,5,$APP.O,[t$,this.sa],null),new $APP.M(null,2,5,$APP.O,[W9,this.ia],null),new $APP.M(null,2,5,$APP.O,[g6,this.pattern],null),new $APP.M(null,2,5,$APP.O,[Y9,this.ea],null),new $APP.M(null,2,5,$APP.O,[F4,this.ra],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,6,new $APP.M(null,6,5,$APP.O,[a$,t$,W9,g6,Y9,F4],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new R6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ra,this.s,this.o,this.C)};$APP.l.Z=function(){return 6+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=1769511936^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.oa,b.oa)&&$APP.A.g(this.sa,b.sa)&&$APP.A.g(this.ia,b.ia)&&$APP.A.g(this.pattern,b.pattern)&&$APP.A.g(this.ea,b.ea)&&$APP.A.g(this.ra,b.ra)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,6,[W9,null,a$,null,t$,null,F4,null,g6,null,Y9,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new R6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ra,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "datoms":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(a$,b):$APP.J.call(null,a$,b))?new R6(c,this.sa,this.ia,this.pattern,this.ea,this.ra,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(t$,b):$APP.J.call(null,t$,b))?new R6(this.oa,c,this.ia,this.pattern,this.ea,this.ra,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(W9,b):$APP.J.call(null,W9,b))?new R6(this.oa,this.sa,c,this.pattern,this.ea,this.ra,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(g6,b):$APP.J.call(null,g6,b))?new R6(this.oa,this.sa,this.ia,
c,this.ea,this.ra,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(Y9,b):$APP.J.call(null,Y9,b))?new R6(this.oa,this.sa,this.ia,this.pattern,c,this.ra,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(F4,b):$APP.J.call(null,F4,b))?new R6(this.oa,this.sa,this.ia,this.pattern,this.ea,c,this.s,this.o,null):new R6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ra,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,6,5,$APP.O,[new $APP.We(a$,this.oa,null),new $APP.We(t$,this.sa,null),new $APP.We(W9,this.ia,null),new $APP.We(g6,this.pattern,null),new $APP.We(Y9,this.ea,null),new $APP.We(F4,this.ra,null)],null),this.o))};$APP.l.W=function(a,b){return new R6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ra,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};
$APP.l.lg=function(a,b){a=this.oa;var c=this.sa,d=this.ia;b=b.value;b=null==b?d:$APP.bh.g(d,b);return new R6(a,c,b,this.pattern,this.ea,J6(this.ra),null,null,null)};
$APP.l.yf=function(a,b){var c=this;a=I6(c.ra);if(null==a||$APP.Ui.g(a.a,c.ea.name))return new $APP.M(null,1,5,$APP.O,[new P6(function(){var e=$APP.hg($APP.Uc(c.ia)),f=c.ea.lb;return f.h?f.h(e):f.call(null,e)}(),function(){var e=c.ra;return $APP.p(e)?e:$APP.Hd}(),null,null,null)],null);if($APP.p(function(){var e=c.ea.jb;return $APP.p(e)?$APP.de(c.ia)>=c.ea.jb:e}()))for(var d=c.ra;;){b=I6(d);if(null==b||$APP.Ui.g(b.a,c.ea.name))return new $APP.M(null,1,5,$APP.O,[new P6($APP.Uc(c.ia),function(){var e=
d;return $APP.p(e)?e:$APP.Hd}(),null,null,null)],null);d=J6(d)}else return a=$APP.p(c.ea.bc)?a.e:a.v,new $APP.M(null,2,5,$APP.O,[this,W6.ua?W6.ua(b,c.oa,c.sa,c.pattern,c.ea,a):W6.call(null,b,c.oa,c.sa,c.pattern,c.ea,a)],null)};$APP.l=S6.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};
$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "seen":return this.oa;case "recursion-limits":return this.sa;case "acc":return this.ia;case "pattern":return this.pattern;case "attr":return this.ea;case "attrs":return this.ma;case "datoms":return this.ra;case "id":return this.id;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.pull-api.AttrsFrame{",", ","}",c,$APP.S.g(new $APP.M(null,8,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[a$,this.oa],null),new $APP.M(null,2,5,$APP.O,[t$,this.sa],null),new $APP.M(null,2,5,$APP.O,[W9,this.ia],null),new $APP.M(null,2,5,$APP.O,[g6,this.pattern],null),new $APP.M(null,2,5,$APP.O,[Y9,this.ea],null),new $APP.M(null,2,5,$APP.O,[q6,this.ma],null),new $APP.M(null,2,5,$APP.O,[F4,this.ra],null),
new $APP.M(null,2,5,$APP.O,[$APP.br,this.id],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,8,new $APP.M(null,8,5,$APP.O,[a$,t$,W9,g6,Y9,q6,F4,$APP.br],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new S6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ma,this.ra,this.id,this.s,this.o,this.C)};$APP.l.Z=function(){return 8+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=1127179791^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.oa,b.oa)&&$APP.A.g(this.sa,b.sa)&&$APP.A.g(this.ia,b.ia)&&$APP.A.g(this.pattern,b.pattern)&&$APP.A.g(this.ea,b.ea)&&$APP.A.g(this.ma,b.ma)&&$APP.A.g(this.ra,b.ra)&&$APP.A.g(this.id,b.id)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,8,[W9,null,a$,null,$APP.br,null,t$,null,q6,null,F4,null,g6,null,Y9,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new S6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ma,this.ra,this.id,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "datoms":case "id":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(a$,b):$APP.J.call(null,a$,b))?new S6(c,this.sa,this.ia,this.pattern,this.ea,this.ma,this.ra,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(t$,b):$APP.J.call(null,t$,b))?new S6(this.oa,c,this.ia,this.pattern,this.ea,this.ma,this.ra,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(W9,b):$APP.J.call(null,W9,b))?new S6(this.oa,this.sa,c,this.pattern,this.ea,this.ma,this.ra,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(g6,b):$APP.J.call(null,
g6,b))?new S6(this.oa,this.sa,this.ia,c,this.ea,this.ma,this.ra,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(Y9,b):$APP.J.call(null,Y9,b))?new S6(this.oa,this.sa,this.ia,this.pattern,c,this.ma,this.ra,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(q6,b):$APP.J.call(null,q6,b))?new S6(this.oa,this.sa,this.ia,this.pattern,this.ea,c,this.ra,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(F4,b):$APP.J.call(null,F4,b))?new S6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ma,c,this.id,
this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.br,b):$APP.J.call(null,$APP.br,b))?new S6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ma,this.ra,c,this.s,this.o,null):new S6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ma,this.ra,this.id,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,8,5,$APP.O,[new $APP.We(a$,this.oa,null),new $APP.We(t$,this.sa,null),new $APP.We(W9,this.ia,null),new $APP.We(g6,this.pattern,null),new $APP.We(Y9,this.ea,null),new $APP.We(q6,this.ma,null),new $APP.We(F4,this.ra,null),new $APP.We($APP.br,this.id,null)],null),this.o))};$APP.l.W=function(a,b){return new S6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ma,this.ra,this.id,b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.lg=function(a,b){a=this.oa;var c=this.sa;var d=this.ia;var e=b.value;d=null==e?d:$APP.Wh.j(d,this.ea.as,e);e=this.pattern;var f=I6(this.ma),g=J6(this.ma);b=b.ra;b=$APP.p(b)?b:J6(this.ra);return new S6(a,c,d,e,f,g,$APP.hg(b),this.id,null,null,null)};
$APP.l.yf=function(a,b){var c=this,d=c.ia,e=c.ea;a=c.ma;for(var f=c.ra;;){if(null==f&&null==e)return new $APP.M(null,1,5,$APP.O,[function(){var x=c.oa,B=c.sa,F=d,P=c.pattern,U=I6(c.pattern.Kc),Z=J6(c.pattern.Kc),ba=c.id;return U6.Ca?U6.Ca(x,B,F,P,U,Z,ba):U6.call(null,x,B,F,P,U,Z,ba)}()],null);if(null!=e&&$APP.A.g(r5,e.name)){var g=$APP.Wh.j(d,e.as,function(){var x=e.lb;return x.h?x.h(c.id):x.call(null,c.id)}()),h=I6(a);a=J6(a);d=g;e=h}else{var n=I6(f),k=$APP.p(function(){var x=n;return $APP.p(x)?
e:x}())?$APP.Ye(e.name,n.a):null,u=function(){var x=null==e;if(x)return x;x=k;return $APP.p(x)?0<k:x}(),v=function(){var x=null==n;if(x)return x;x=k;return $APP.p(x)?0>k:x}();if($APP.p(function(){var x=c.pattern.fc;return $APP.p(x)?(x=null!=n)?u:x:x}()))h=m2(i4(b.db).kc,n.a,function(x,B,F,P,U){return function(){return A6(b.db,U.a)}}(d,e,a,f,n,k,u,v,this)),g=d,a=$APP.p(e)?K6(a,e):null,d=g,e=h;else if($APP.p(u))g=d,h=e,f=J6(f),d=g,e=h;else if(M6(b,dBa,c.id,e.name,null),$APP.p(function(){var x=v;return $APP.p(x)?
null==e:x}()))g=d,h=I6(a),a=J6(a),d=g,e=h;else if($APP.p(function(){var x=v;return $APP.p(x)?null!=$APP.In.h(e):x}()))g=$APP.Wh.j(d,e.as,$APP.In.h(e)),h=I6(a),a=J6(a),d=g,e=h;else if($APP.p(v))g=function(){var x=e.lb;return x.h?x.h(null):x.call(null,null)}(),null==g?(g=d,h=I6(a),a=J6(a),d=g,e=h):(g=$APP.Wh.j(d,e.as,g),h=I6(a),a=J6(a),d=g,e=h);else{if($APP.p(function(){var x=e.Vb;return $APP.p(x)?e.Yb:x}()))return new $APP.M(null,2,5,$APP.O,[new S6(c.oa,c.sa,d,c.pattern,e,a,f,c.id,null,null,null),
new R6(c.oa,c.sa,$APP.Sc($APP.ch),c.pattern,e,f,null,null,null)],null);if($APP.p(e.Vb))return new $APP.M(null,2,5,$APP.O,[new S6(c.oa,c.sa,d,c.pattern,e,a,f,c.id,null,null,null),new Q6($APP.Sc($APP.ch),e,f,null,null,null)],null);if($APP.p(e.Yb))return new $APP.M(null,2,5,$APP.O,[new S6(c.oa,c.sa,d,c.pattern,e,a,f,c.id,null,null,null),function(){var x=c.oa,B=c.sa,F=c.pattern,P=e,U=n.v;return W6.ua?W6.ua(b,x,B,F,P,U):W6.call(null,b,x,B,F,P,U)}()],null);g=$APP.Wh.j(d,e.as,function(){var x=n.v,B=e.lb;
return B.h?B.h(x):B.call(null,x)}());h=I6(a);a=J6(a);f=J6(f);d=g;e=h}}}};$APP.l=T6.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "seen":return this.oa;case "recursion-limits":return this.sa;case "acc":return this.ia;case "pattern":return this.pattern;case "attr":return this.ea;case "attrs":return this.ma;case "id":return this.id;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.pull-api.ReverseAttrsFrame{",", ","}",c,$APP.S.g(new $APP.M(null,7,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[a$,this.oa],null),new $APP.M(null,2,5,$APP.O,[t$,this.sa],null),new $APP.M(null,2,5,$APP.O,[W9,this.ia],null),new $APP.M(null,2,5,$APP.O,[g6,this.pattern],null),new $APP.M(null,2,5,$APP.O,[Y9,this.ea],null),new $APP.M(null,2,5,$APP.O,[q6,this.ma],null),new $APP.M(null,2,5,$APP.O,[$APP.br,
this.id],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,7,new $APP.M(null,7,5,$APP.O,[a$,t$,W9,g6,Y9,q6,$APP.br],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new T6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ma,this.id,this.s,this.o,this.C)};$APP.l.Z=function(){return 7+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=470210558^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.oa,b.oa)&&$APP.A.g(this.sa,b.sa)&&$APP.A.g(this.ia,b.ia)&&$APP.A.g(this.pattern,b.pattern)&&$APP.A.g(this.ea,b.ea)&&$APP.A.g(this.ma,b.ma)&&$APP.A.g(this.id,b.id)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,7,[W9,null,a$,null,$APP.br,null,t$,null,q6,null,g6,null,Y9,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new T6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ma,this.id,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "id":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(a$,b):$APP.J.call(null,a$,b))?new T6(c,this.sa,this.ia,this.pattern,this.ea,this.ma,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(t$,b):$APP.J.call(null,t$,b))?new T6(this.oa,c,this.ia,this.pattern,this.ea,this.ma,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(W9,b):$APP.J.call(null,W9,b))?new T6(this.oa,this.sa,c,this.pattern,this.ea,this.ma,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(g6,b):$APP.J.call(null,g6,b))?new T6(this.oa,
this.sa,this.ia,c,this.ea,this.ma,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(Y9,b):$APP.J.call(null,Y9,b))?new T6(this.oa,this.sa,this.ia,this.pattern,c,this.ma,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(q6,b):$APP.J.call(null,q6,b))?new T6(this.oa,this.sa,this.ia,this.pattern,this.ea,c,this.id,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.br,b):$APP.J.call(null,$APP.br,b))?new T6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ma,c,this.s,this.o,null):new T6(this.oa,this.sa,
this.ia,this.pattern,this.ea,this.ma,this.id,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,7,5,$APP.O,[new $APP.We(a$,this.oa,null),new $APP.We(t$,this.sa,null),new $APP.We(W9,this.ia,null),new $APP.We(g6,this.pattern,null),new $APP.We(Y9,this.ea,null),new $APP.We(q6,this.ma,null),new $APP.We($APP.br,this.id,null)],null),this.o))};$APP.l.W=function(a,b){return new T6(this.oa,this.sa,this.ia,this.pattern,this.ea,this.ma,this.id,b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.lg=function(a,b){a=this.oa;var c=this.sa,d=this.ia;b=b.value;b=null==b?d:$APP.Wh.j(d,this.ea.as,b);return new T6(a,c,b,this.pattern,I6(this.ma),J6(this.ma),this.id,null,null,null)};
$APP.l.yf=function(a,b){var c=this.ia;a=this.ea;for(var d=this.ma;;){if(null==a)return new $APP.M(null,1,5,$APP.O,[new P6($APP.hg($APP.Uc(c)),null,null,null,null)],null);var e=a.name,f=b.db;f=f instanceof X3?e3(f.Zb,w3.F(0,e,this.id,536870912),w3.F(2147483647,e,this.id,2147483647)):M3(f,new $APP.M(null,3,5,$APP.O,[null,e,this.id],null));M6(b,rBa,null,e,this.id);if($APP.ye(f)&&null!=$APP.In.h(a))c=$APP.Wh.j(c,a.as,$APP.In.h(a)),a=I6(d),d=e=J6(d);else if($APP.ye(f))a=I6(d),d=e=J6(d);else{if($APP.p(a.Tb)){e=
$APP.O;c=new T6(this.oa,this.sa,c,this.pattern,a,d,this.id,null,null,null);d=this.oa;var g=this.sa,h=this.pattern;f=I6(f).e;b=W6.ua?W6.ua(b,d,g,h,a,f):W6.call(null,b,d,g,h,a,f);b=new $APP.M(null,2,5,e,[c,b],null)}else b=new $APP.M(null,2,5,$APP.O,[new T6(this.oa,this.sa,c,this.pattern,a,d,this.id,null,null,null),new R6(this.oa,this.sa,$APP.Sc($APP.ch),this.pattern,a,f,null,null,null)],null);return b}}};
var I$=function I$(a){switch(arguments.length){case 3:return I$.j(arguments[0],arguments[1],arguments[2]);case 4:return I$.F(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};I$.j=function(a,b,c){return I$.F(a,b,c,$APP.fg)};I$.F=function(a,b,c,d){a=Z6(a,b,d);return X6(a,c)};I$.A=4;
var J$=function J$(a){switch(arguments.length){case 3:return J$.j(arguments[0],arguments[1],arguments[2]);case 4:return J$.F(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};J$.j=function(a,b,c){return J$.F(a,b,c,$APP.fg)};J$.F=function(a,b,c,d){var e=Z6(a,b,d);return $APP.Hq.g(function(f){return X6(e,f)},c)};J$.A=4;var K$=function K$(a){switch(arguments.length){case 1:return K$.h(arguments[0]);case 2:return K$.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};K$.h=function(a){return d7(a,$APP.fg)};K$.g=function(a,b){return d7(a,b)};K$.A=2;var L$=function L$(a){switch(arguments.length){case 1:return L$.h(arguments[0]);case 2:return L$.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};
L$.h=function(a){return L$.g(a,$APP.fg)};
L$.g=function(a,b){b=$APP.gg(b);var c=$APP.Te.j(b,KBa,$APP.HK);b=$APP.Te.j(b,WBa,Gza);var d=a7(a,"tx0"),e=function(){var k=a7(a,"schema");return c.h?c.h(k):c.call(null,k)}();(function(){var k=new $APP.Bd(function(){return A4},VAa,$APP.yi([$APP.Lv,$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[!0,u$,YBa,"datascript/db.cljc",23,1,726,726,$APP.R(new $APP.M(null,1,5,$APP.O,[d$],null)),null,$APP.p(A4)?A4.S:null]));return k.h?k.h(e):k.call(null,e)})();var f=$APP.Hq.g(b,a7(a,
"attrs")),g=$APP.Hq.g(b,a7(a,"keywords")),h=b7(function(k){var u=$6(k,0),v=$APP.C.g(f,$6(k,1)),x=$6(k,2);if("number"===typeof x)var B=x;else if("string"===typeof x)B=x;else if($APP.Ke(x))B=x;else if($APP.tb(x)||$APP.Fe(x))B=function(){var F=$6(x,0);if($APP.p($APP.Ll.g?$APP.Ll.g(0,F):$APP.Ll.call(null,0,F)))return $APP.C.g(g,$6(x,1));if($APP.p($APP.Ll.g?$APP.Ll.g(1,F):$APP.Ll.call(null,1,F)))return F=$6(x,1),c.h?c.h(F):c.call(null,F);if($APP.p($APP.Ll.g?$APP.Ll.g(2,F):$APP.Ll.call(null,2,F)))return Infinity;
if($APP.p($APP.Ll.g?$APP.Ll.g(3,F):$APP.Ll.call(null,3,F)))return-Infinity;if($APP.p($APP.Ll.g?$APP.Ll.g(4,F):$APP.Ll.call(null,4,F)))return NaN;throw $APP.Jm.g(["Unexpected value marker ",$APP.ck.l($APP.D([F]))," in ",$APP.ck.l($APP.D([$APP.ck.l($APP.D([x]))]))].join(""),new $APP.m(null,2,[$APP.kE,UBa,$APP.vE,x],null));}();else throw $APP.Jm.g(["Unexpected value type ",$APP.ck.l($APP.D([$APP.Ab(x)]))," (",$APP.ck.l($APP.D([$APP.ck.l($APP.D([x]))])),")"].join(""),new $APP.m(null,2,[$APP.kE,UBa,$APP.vE,
x],null));k=d+$6(k,3);return w3.F(u,v,B,k)},a7(a,"eavt"));b=function(){var k=a7(a,"aevt");return null==k?null:b7(function(u){return h[u]},k)}();var n=function(){var k=a7(a,"avet");return null==k?null:b7(function(u){return h[u]},k)}();return g4($APP.yi([Y3,b4,f4,$3,R3,a4,Z3,e4,d4,c4],[e,a7(a,"max-tx"),$APP.gk.h(0),f3(E3,b),f3(F3,n),a7(a,"max-eid"),f3(D3,h),o2(),o2(),function(){var k=$APP.ym.l($APP.D([new $APP.m(null,1,[Z4,new $APP.m(null,1,[j4,k4],null)],null),e])),u=new $APP.Bd(function(){return t4},
nCa,$APP.yi([$APP.Lv,$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[!0,u$,CBa,"datascript/db.cljc",15,1,694,694,$APP.R(new $APP.M(null,1,5,$APP.O,[d$],null)),":db/unique           \x3d\x3e #{attr ...}\n   :db.unique/identity  \x3d\x3e #{attr ...}\n   :db.unique/value     \x3d\x3e #{attr ...}\n   :db/index            \x3d\x3e #{attr ...}\n   :db.cardinality/many \x3d\x3e #{attr ...}\n   :db.type/ref         \x3d\x3e #{attr ...}\n   :db/isComponent      \x3d\x3e #{attr ...}\n   :db.type/tuple       \x3d\x3e #{attr ...}\n   :db/attrTuples       \x3d\x3e {attr \x3d\x3e {tuple-attr \x3d\x3e idx}}",
$APP.p(t4)?t4.S:null]));return u.h?u.h(k):u.call(null,k)}()]))};L$.A=2;$APP.l=o7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){return $APP.Te.j(this.o,b,c)};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,$APP.S.g($APP.ch,this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,0,$APP.ch,$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new o7(this.s,this.o,this.C)};$APP.l.Z=function(){return 0+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-528488587^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve($APP.aj,b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new o7(this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){return $APP.Ve(this.o,b)};$APP.l.R=function(a,b,c){return new o7(this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g($APP.ch,this.o))};$APP.l.W=function(a,b){return new o7(b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};
$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return c};$APP.l.ib=function(a,b){return b};$APP.l=p7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "symbol":return this.Ba;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.yn,this.Ba],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[$APP.yn],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new p7(this.Ba,this.s,this.o,this.C)};
$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=736891289^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Ba,b.Ba)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[$APP.yn,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new p7(this.Ba,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "symbol":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.yn,b):$APP.J.call(null,$APP.yn,b))?new p7(c,this.s,this.o,null):new p7(this.Ba,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We($APP.yn,this.Ba,null)],null),this.o))};$APP.l.W=function(a,b){return new p7(this.Ba,b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return j7(b,this.Ba,c)};$APP.l.ib=function(a,b){return y8.g?y8.g(b,this.Ba):y8.call(null,b,this.Ba)};$APP.l=q7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "symbol":return this.Ba;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.yn,this.Ba],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[$APP.yn],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new q7(this.Ba,this.s,this.o,this.C)};$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-1648766309^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Ba,b.Ba)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[$APP.yn,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new q7(this.Ba,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "symbol":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.yn,b):$APP.J.call(null,$APP.yn,b))?new q7(c,this.s,this.o,null):new q7(this.Ba,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We($APP.yn,this.Ba,null)],null),this.o))};$APP.l.W=function(a,b){return new q7(this.Ba,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;
$APP.l.hb=function(a,b,c){return j7(b,this.Ba,c)};$APP.l.ib=function(a,b){return y8.g?y8.g(b,this.Ba):y8.call(null,b,this.Ba)};$APP.l=r7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){return $APP.Te.j(this.o,b,c)};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,$APP.S.g($APP.ch,this.o))};$APP.l.fa=function(){return new $APP.Kh(this,0,$APP.ch,$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new r7(this.s,this.o,this.C)};$APP.l.Z=function(){return 0+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-350962559^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve($APP.aj,b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new r7(this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){return $APP.Ve(this.o,b)};$APP.l.R=function(a,b,c){return new r7(this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g($APP.ch,this.o))};$APP.l.W=function(a,b){return new r7(b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return c};$APP.l.ib=function(a,b){return b};$APP.l=s7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){return $APP.Te.j(this.o,b,c)};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,$APP.S.g($APP.ch,this.o))};$APP.l.fa=function(){return new $APP.Kh(this,0,$APP.ch,$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new s7(this.s,this.o,this.C)};$APP.l.Z=function(){return 0+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-1504050517^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve($APP.aj,b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new s7(this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){return $APP.Ve(this.o,b)};$APP.l.R=function(a,b,c){return new s7(this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g($APP.ch,this.o))};$APP.l.W=function(a,b){return new s7(b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return c};$APP.l.ib=function(a,b){return b};$APP.l=t7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "value":return this.value;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.vE,this.value],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[$APP.vE],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new t7(this.value,this.s,this.o,this.C)};$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-812884714^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.value,b.value)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[$APP.vE,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new t7(this.value,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "value":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.vE,b):$APP.J.call(null,$APP.vE,b))?new t7(c,this.s,this.o,null):new t7(this.value,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We($APP.vE,this.value,null)],null),this.o))};$APP.l.W=function(a,b){return new t7(this.value,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;
$APP.l.hb=function(a,b,c){return j7(b,this.value,c)};$APP.l.ib=function(a,b){return y8.g?y8.g(b,this.value):y8.call(null,b,this.value)};$APP.l=u7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "symbol":return this.Ba;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.yn,this.Ba],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[$APP.yn],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new u7(this.Ba,this.s,this.o,this.C)};
$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=1509921913^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Ba,b.Ba)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[$APP.yn,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new u7(this.Ba,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "symbol":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.yn,b):$APP.J.call(null,$APP.yn,b))?new u7(c,this.s,this.o,null):new u7(this.Ba,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We($APP.yn,this.Ba,null)],null),this.o))};$APP.l.W=function(a,b){return new u7(this.Ba,b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return j7(b,this.Ba,c)};$APP.l.ib=function(a,b){return y8.g?y8.g(b,this.Ba):y8.call(null,b,this.Ba)};$APP.l=C7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "required":return this.required;case "free":return this.td;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,$APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[F7,this.required],null),new $APP.M(null,2,5,$APP.O,[G7,this.td],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,2,new $APP.M(null,2,5,$APP.O,[F7,G7],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new C7(this.required,this.td,this.s,this.o,this.C)};$APP.l.Z=function(){return 2+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=892963297^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.required,b.required)&&$APP.A.g(this.td,b.td)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,2,[G7,null,F7,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new C7(this.required,this.td,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "required":case "free":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(F7,b):$APP.J.call(null,F7,b))?new C7(c,this.td,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(G7,b):$APP.J.call(null,G7,b))?new C7(this.required,c,this.s,this.o,null):new C7(this.required,this.td,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.We(F7,this.required,null),new $APP.We(G7,this.td,null)],null),this.o))};$APP.l.W=function(a,b){return new C7(this.required,this.td,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return j7(b,this.td,j7(b,this.required,c))};
$APP.l.ib=function(a,b){a=y8.g?y8.g(b,this.required):y8.call(null,b,this.required);b=this.td;return y8.g?y8.g(a,b):y8.call(null,a,b)};$APP.l=J7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){return $APP.Te.j(this.o,b,c)};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,$APP.S.g($APP.ch,this.o))};$APP.l.fa=function(){return new $APP.Kh(this,0,$APP.ch,$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new J7(this.s,this.o,this.C)};$APP.l.Z=function(){return 0+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-890522983^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve($APP.aj,b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new J7(this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){return $APP.Ve(this.o,b)};$APP.l.R=function(a,b,c){return new J7(this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g($APP.ch,this.o))};$APP.l.W=function(a,b){return new J7(b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return c};$APP.l.ib=function(a,b){return b};$APP.l=K7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "variable":return this.Gb;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[e9,this.Gb],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[e9],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new K7(this.Gb,this.s,this.o,this.C)};$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-1522792445^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Gb,b.Gb)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[e9,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new K7(this.Gb,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "variable":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(e9,b):$APP.J.call(null,e9,b))?new K7(c,this.s,this.o,null):new K7(this.Gb,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We(e9,this.Gb,null)],null),this.o))};$APP.l.W=function(a,b){return new K7(this.Gb,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return j7(b,this.Gb,c)};$APP.l.ib=function(a,b){return y8.g?y8.g(b,this.Gb):y8.call(null,b,this.Gb)};$APP.l=L7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};
$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "bindings":return this.ic;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.Yq,this.ic],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[$APP.Yq],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new L7(this.ic,this.s,this.o,this.C)};
$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-1637239347^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.ic,b.ic)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[$APP.Yq,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new L7(this.ic,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "bindings":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.Yq,b):$APP.J.call(null,$APP.Yq,b))?new L7(c,this.s,this.o,null):new L7(this.ic,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We($APP.Yq,this.ic,null)],null),this.o))};$APP.l.W=function(a,b){return new L7(this.ic,b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return j7(b,this.ic,c)};$APP.l.ib=function(a,b){return y8.g?y8.g(b,this.ic):y8.call(null,b,this.ic)};$APP.l=M7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "binding":return this.Db;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[h$,this.Db],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[h$],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new M7(this.Db,this.s,this.o,this.C)};$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-1930368089^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Db,b.Db)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[h$,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new M7(this.Db,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "binding":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(h$,b):$APP.J.call(null,h$,b))?new M7(c,this.s,this.o,null):new M7(this.Db,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We(h$,this.Db,null)],null),this.o))};$APP.l.W=function(a,b){return new M7(this.Db,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return j7(b,this.Db,c)};$APP.l.ib=function(a,b){return y8.g?y8.g(b,this.Db):y8.call(null,b,this.Db)};
p7.prototype.kg=function(){return new $APP.M(null,1,5,$APP.O,[this.Ba],null)};$APP.l=S7.prototype;$APP.l.kg=function(){return R7($APP.oe(this.ta))};$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "fn":return this.da;case "args":return this.ta;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,$APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.mp,this.da],null),new $APP.M(null,2,5,$APP.O,[$APP.qo,this.ta],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,2,new $APP.M(null,2,5,$APP.O,[$APP.mp,$APP.qo],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};
$APP.l.aa=function(){return new S7(this.da,this.ta,this.s,this.o,this.C)};$APP.l.Z=function(){return 2+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-91097383^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.da,b.da)&&$APP.A.g(this.ta,b.ta)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,2,[$APP.qo,null,$APP.mp,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new S7(this.da,this.ta,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "fn":case "args":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.mp,b):$APP.J.call(null,$APP.mp,b))?new S7(c,this.ta,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.qo,b):$APP.J.call(null,$APP.qo,b))?new S7(this.da,c,this.s,this.o,null):new S7(this.da,this.ta,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.We($APP.mp,this.da,null),new $APP.We($APP.qo,this.ta,null)],null),this.o))};
$APP.l.W=function(a,b){return new S7(this.da,this.ta,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return j7(b,this.ta,j7(b,this.da,c))};$APP.l.ib=function(a,b){a=y8.g?y8.g(b,this.da):y8.call(null,b,this.da);b=this.ta;return y8.g?y8.g(a,b):y8.call(null,a,b)};$APP.l=T7.prototype;$APP.l.kg=function(){return R7(this.Gb)};$APP.l.ca=function(a,b){return this.I(null,b,null)};
$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "source":return this.source;case "variable":return this.Gb;case "pattern":return this.pattern;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,$APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.xm,this.source],null),new $APP.M(null,2,5,$APP.O,[e9,this.Gb],null),new $APP.M(null,2,5,$APP.O,[g6,this.pattern],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,3,new $APP.M(null,3,5,$APP.O,[$APP.xm,e9,g6],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};
$APP.l.aa=function(){return new T7(this.source,this.Gb,this.pattern,this.s,this.o,this.C)};$APP.l.Z=function(){return 3+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-2108867663^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.source,b.source)&&$APP.A.g(this.Gb,b.Gb)&&$APP.A.g(this.pattern,b.pattern)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,3,[e9,null,$APP.xm,null,g6,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new T7(this.source,this.Gb,this.pattern,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "source":case "variable":case "pattern":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.xm,b):$APP.J.call(null,$APP.xm,b))?new T7(c,this.Gb,this.pattern,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(e9,b):$APP.J.call(null,e9,b))?new T7(this.source,c,this.pattern,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(g6,b):$APP.J.call(null,g6,b))?new T7(this.source,this.Gb,c,this.s,this.o,null):new T7(this.source,this.Gb,this.pattern,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.We($APP.xm,this.source,null),new $APP.We(e9,this.Gb,null),new $APP.We(g6,this.pattern,null)],null),this.o))};$APP.l.W=function(a,b){return new T7(this.source,this.Gb,this.pattern,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return j7(b,this.pattern,j7(b,this.Gb,j7(b,this.source,c)))};
$APP.l.ib=function(a,b){a=y8.g?y8.g(b,this.source):y8.call(null,b,this.source);b=this.Gb;a=y8.g?y8.g(a,b):y8.call(null,a,b);b=this.pattern;return y8.g?y8.g(a,b):y8.call(null,a,b)};$APP.l=V7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "elements":return this.elements;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[Z9,this.elements],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[Z9],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new V7(this.elements,this.s,this.o,this.C)};$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=744809563^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.elements,b.elements)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[Z9,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new V7(this.elements,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.xf=function(){return this.elements};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "elements":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(Z9,b):$APP.J.call(null,Z9,b))?new V7(c,this.s,this.o,null):new V7(this.elements,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We(Z9,this.elements,null)],null),this.o))};$APP.l.W=function(a,b){return new V7(this.elements,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;
$APP.l.hb=function(a,b,c){return j7(b,this.elements,c)};$APP.l.ib=function(a,b){return y8.g?y8.g(b,this.elements):y8.call(null,b,this.elements)};$APP.l=W7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "element":return this.element;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[b$,this.element],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[b$],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new W7(this.element,this.s,this.o,this.C)};
$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=124241361^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.element,b.element)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[b$,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new W7(this.element,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.xf=function(){return new $APP.M(null,1,5,$APP.O,[this.element],null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "element":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(b$,b):$APP.J.call(null,b$,b))?new W7(c,this.s,this.o,null):new W7(this.element,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We(b$,this.element,null)],null),this.o))};
$APP.l.W=function(a,b){return new W7(this.element,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return j7(b,this.element,c)};$APP.l.ib=function(a,b){return y8.g?y8.g(b,this.element):y8.call(null,b,this.element)};$APP.l=X7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};
$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "element":return this.element;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[b$,this.element],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[b$],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new X7(this.element,this.s,this.o,this.C)};
$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-661542332^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.element,b.element)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[b$,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new X7(this.element,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.xf=function(){return new $APP.M(null,1,5,$APP.O,[this.element],null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "element":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(b$,b):$APP.J.call(null,b$,b))?new X7(c,this.s,this.o,null):new X7(this.element,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We(b$,this.element,null)],null),this.o))};
$APP.l.W=function(a,b){return new X7(this.element,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return j7(b,this.element,c)};$APP.l.ib=function(a,b){return y8.g?y8.g(b,this.element):y8.call(null,b,this.element)};$APP.l=Y7.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};
$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "elements":return this.elements;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[Z9,this.elements],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[Z9],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new Y7(this.elements,this.s,this.o,this.C)};
$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=681530371^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.elements,b.elements)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[Z9,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new Y7(this.elements,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.xf=function(){return this.elements};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "elements":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(Z9,b):$APP.J.call(null,Z9,b))?new Y7(c,this.s,this.o,null):new Y7(this.elements,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We(Z9,this.elements,null)],null),this.o))};$APP.l.W=function(a,b){return new Y7(this.elements,b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return j7(b,this.elements,c)};$APP.l.ib=function(a,b){return y8.g?y8.g(b,this.elements):y8.call(null,b,this.elements)};$APP.l=e8.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "type":return this.type;case "symbols":return this.xd;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,$APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.Em,this.type],null),new $APP.M(null,2,5,$APP.O,[P8,this.xd],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,2,new $APP.M(null,2,5,$APP.O,[$APP.Em,P8],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new e8(this.type,this.xd,this.s,this.o,this.C)};$APP.l.Z=function(){return 2+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-2025547471^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.type,b.type)&&$APP.A.g(this.xd,b.xd)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,2,[$APP.Em,null,P8,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new e8(this.type,this.xd,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "type":case "symbols":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.Em,b):$APP.J.call(null,$APP.Em,b))?new e8(c,this.xd,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(P8,b):$APP.J.call(null,P8,b))?new e8(this.type,c,this.s,this.o,null):new e8(this.type,this.xd,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.We($APP.Em,this.type,null),new $APP.We(P8,this.xd,null)],null),this.o))};$APP.l.W=function(a,b){return new e8(this.type,this.xd,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return j7(b,this.xd,j7(b,this.type,c))};
$APP.l.ib=function(a,b){a=y8.g?y8.g(b,this.type):y8.call(null,b,this.type);b=this.xd;return y8.g?y8.g(a,b):y8.call(null,a,b)};$APP.l=g8.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "source":return this.source;case "pattern":return this.pattern;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,$APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.xm,this.source],null),new $APP.M(null,2,5,$APP.O,[g6,this.pattern],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,2,new $APP.M(null,2,5,$APP.O,[$APP.xm,g6],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new g8(this.source,this.pattern,this.s,this.o,this.C)};$APP.l.Z=function(){return 2+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=575220587^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.source,b.source)&&$APP.A.g(this.pattern,b.pattern)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,2,[$APP.xm,null,g6,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new g8(this.source,this.pattern,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "source":case "pattern":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.xm,b):$APP.J.call(null,$APP.xm,b))?new g8(c,this.pattern,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(g6,b):$APP.J.call(null,g6,b))?new g8(this.source,c,this.s,this.o,null):new g8(this.source,this.pattern,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.We($APP.xm,this.source,null),new $APP.We(g6,this.pattern,null)],null),this.o))};$APP.l.W=function(a,b){return new g8(this.source,this.pattern,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return j7(b,this.pattern,j7(b,this.source,c))};
$APP.l.ib=function(a,b){a=y8.g?y8.g(b,this.source):y8.call(null,b,this.source);b=this.pattern;return y8.g?y8.g(a,b):y8.call(null,a,b)};$APP.l=h8.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "fn":return this.da;case "args":return this.ta;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,$APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.mp,this.da],null),new $APP.M(null,2,5,$APP.O,[$APP.qo,this.ta],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,2,new $APP.M(null,2,5,$APP.O,[$APP.mp,$APP.qo],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new h8(this.da,this.ta,this.s,this.o,this.C)};$APP.l.Z=function(){return 2+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-1523376880^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.da,b.da)&&$APP.A.g(this.ta,b.ta)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,2,[$APP.qo,null,$APP.mp,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new h8(this.da,this.ta,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "fn":case "args":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.mp,b):$APP.J.call(null,$APP.mp,b))?new h8(c,this.ta,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.qo,b):$APP.J.call(null,$APP.qo,b))?new h8(this.da,c,this.s,this.o,null):new h8(this.da,this.ta,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.We($APP.mp,this.da,null),new $APP.We($APP.qo,this.ta,null)],null),this.o))};$APP.l.W=function(a,b){return new h8(this.da,this.ta,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return j7(b,this.ta,j7(b,this.da,c))};
$APP.l.ib=function(a,b){a=y8.g?y8.g(b,this.da):y8.call(null,b,this.da);b=this.ta;return y8.g?y8.g(a,b):y8.call(null,a,b)};$APP.l=i8.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "fn":return this.da;case "args":return this.ta;case "binding":return this.Db;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,$APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.mp,this.da],null),new $APP.M(null,2,5,$APP.O,[$APP.qo,this.ta],null),new $APP.M(null,2,5,$APP.O,[h$,this.Db],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,3,new $APP.M(null,3,5,$APP.O,[$APP.mp,$APP.qo,h$],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new i8(this.da,this.ta,this.Db,this.s,this.o,this.C)};$APP.l.Z=function(){return 3+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=589494199^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.da,b.da)&&$APP.A.g(this.ta,b.ta)&&$APP.A.g(this.Db,b.Db)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,3,[$APP.qo,null,$APP.mp,null,h$,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new i8(this.da,this.ta,this.Db,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "fn":case "args":case "binding":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.mp,b):$APP.J.call(null,$APP.mp,b))?new i8(c,this.ta,this.Db,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.qo,b):$APP.J.call(null,$APP.qo,b))?new i8(this.da,c,this.Db,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(h$,b):$APP.J.call(null,h$,b))?new i8(this.da,this.ta,c,this.s,this.o,null):new i8(this.da,this.ta,this.Db,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.We($APP.mp,this.da,null),new $APP.We($APP.qo,this.ta,null),new $APP.We(h$,this.Db,null)],null),this.o))};$APP.l.W=function(a,b){return new i8(this.da,this.ta,this.Db,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return j7(b,this.Db,j7(b,this.ta,j7(b,this.da,c)))};
$APP.l.ib=function(a,b){a=y8.g?y8.g(b,this.da):y8.call(null,b,this.da);b=this.ta;a=y8.g?y8.g(a,b):y8.call(null,a,b);b=this.Db;return y8.g?y8.g(a,b):y8.call(null,a,b)};$APP.l=j8.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "source":return this.source;case "name":return this.name;case "args":return this.ta;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,$APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.xm,this.source],null),new $APP.M(null,2,5,$APP.O,[$APP.V,this.name],null),new $APP.M(null,2,5,$APP.O,[$APP.qo,this.ta],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,3,new $APP.M(null,3,5,$APP.O,[$APP.xm,$APP.V,$APP.qo],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new j8(this.source,this.name,this.ta,this.s,this.o,this.C)};$APP.l.Z=function(){return 3+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-444662011^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.source,b.source)&&$APP.A.g(this.name,b.name)&&$APP.A.g(this.ta,b.ta)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,3,[$APP.qo,null,$APP.V,null,$APP.xm,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new j8(this.source,this.name,this.ta,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "source":case "name":case "args":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.xm,b):$APP.J.call(null,$APP.xm,b))?new j8(c,this.name,this.ta,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.V,b):$APP.J.call(null,$APP.V,b))?new j8(this.source,c,this.ta,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.qo,b):$APP.J.call(null,$APP.qo,b))?new j8(this.source,this.name,c,this.s,this.o,null):new j8(this.source,this.name,this.ta,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.We($APP.xm,this.source,null),new $APP.We($APP.V,this.name,null),new $APP.We($APP.qo,this.ta,null)],null),this.o))};$APP.l.W=function(a,b){return new j8(this.source,this.name,this.ta,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return j7(b,this.ta,j7(b,this.name,j7(b,this.source,c)))};
$APP.l.ib=function(a,b){a=y8.g?y8.g(b,this.source):y8.call(null,b,this.source);b=this.name;a=y8.g?y8.g(a,b):y8.call(null,a,b);b=this.ta;return y8.g?y8.g(a,b):y8.call(null,a,b)};$APP.l=k8.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "source":return this.source;case "vars":return this.Hb;case "clauses":return this.xa;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,$APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.xm,this.source],null),new $APP.M(null,2,5,$APP.O,[s8,this.Hb],null),new $APP.M(null,2,5,$APP.O,[$APP.uH,this.xa],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,3,new $APP.M(null,3,5,$APP.O,[$APP.xm,s8,$APP.uH],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new k8(this.source,this.Hb,this.xa,this.s,this.o,this.C)};$APP.l.Z=function(){return 3+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=1394671061^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.source,b.source)&&$APP.A.g(this.Hb,b.Hb)&&$APP.A.g(this.xa,b.xa)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,3,[$APP.xm,null,$APP.uH,null,s8,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new k8(this.source,this.Hb,this.xa,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "source":case "vars":case "clauses":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.xm,b):$APP.J.call(null,$APP.xm,b))?new k8(c,this.Hb,this.xa,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(s8,b):$APP.J.call(null,s8,b))?new k8(this.source,c,this.xa,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.uH,b):$APP.J.call(null,$APP.uH,b))?new k8(this.source,this.Hb,c,this.s,this.o,null):new k8(this.source,this.Hb,this.xa,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.We($APP.xm,this.source,null),new $APP.We(s8,this.Hb,null),new $APP.We($APP.uH,this.xa,null)],null),this.o))};$APP.l.W=function(a,b){return new k8(this.source,this.Hb,this.xa,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return j7(b,this.xa,j7(b,this.Hb,j7(b,this.source,c)))};
$APP.l.ib=function(a,b){a=y8.g?y8.g(b,this.source):y8.call(null,b,this.source);b=this.Hb;a=y8.g?y8.g(a,b):y8.call(null,a,b);b=this.xa;return y8.g?y8.g(a,b):y8.call(null,a,b)};$APP.l=l8.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "source":return this.source;case "rule-vars":return this.ad;case "clauses":return this.xa;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,$APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.xm,this.source],null),new $APP.M(null,2,5,$APP.O,[u8,this.ad],null),new $APP.M(null,2,5,$APP.O,[$APP.uH,this.xa],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,3,new $APP.M(null,3,5,$APP.O,[$APP.xm,u8,$APP.uH],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new l8(this.source,this.ad,this.xa,this.s,this.o,this.C)};$APP.l.Z=function(){return 3+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=1461934571^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.source,b.source)&&$APP.A.g(this.ad,b.ad)&&$APP.A.g(this.xa,b.xa)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,3,[u8,null,$APP.xm,null,$APP.uH,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new l8(this.source,this.ad,this.xa,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "source":case "rule-vars":case "clauses":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.xm,b):$APP.J.call(null,$APP.xm,b))?new l8(c,this.ad,this.xa,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(u8,b):$APP.J.call(null,u8,b))?new l8(this.source,c,this.xa,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.uH,b):$APP.J.call(null,$APP.uH,b))?new l8(this.source,this.ad,c,this.s,this.o,null):new l8(this.source,this.ad,this.xa,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.We($APP.xm,this.source,null),new $APP.We(u8,this.ad,null),new $APP.We($APP.uH,this.xa,null)],null),this.o))};$APP.l.W=function(a,b){return new l8(this.source,this.ad,this.xa,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return j7(b,this.xa,j7(b,this.ad,j7(b,this.source,c)))};
$APP.l.ib=function(a,b){a=y8.g?y8.g(b,this.source):y8.call(null,b,this.source);b=this.ad;a=y8.g?y8.g(a,b):y8.call(null,a,b);b=this.xa;return y8.g?y8.g(a,b):y8.call(null,a,b)};$APP.l=m8.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "clauses":return this.xa;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,$APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.uH,this.xa],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,1,new $APP.M(null,1,5,$APP.O,[$APP.uH],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new m8(this.xa,this.s,this.o,this.C)};$APP.l.Z=function(){return 1+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-131856804^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.xa,b.xa)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,1,[$APP.uH,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new m8(this.xa,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "clauses":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.uH,b):$APP.J.call(null,$APP.uH,b))?new m8(c,this.s,this.o,null):new m8(this.xa,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,1,5,$APP.O,[new $APP.We($APP.uH,this.xa,null)],null),this.o))};$APP.l.W=function(a,b){return new m8(this.xa,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;
$APP.l.hb=function(a,b,c){return j7(b,this.xa,c)};$APP.l.ib=function(a,b){return y8.g?y8.g(b,this.xa):y8.call(null,b,this.xa)};var y8=function y8(a,b){return b instanceof p7?$APP.Cf.g(a,b):b instanceof k8?$APP.Th.g(a,b.Hb):b instanceof l8?(b=b.ad,y8.g?y8.g(a,b):y8.call(null,a,b)):(null!=b?$APP.wd===b.gb||(b.qd?0:$APP.zb(e7,b)):$APP.zb(e7,b))?g7(b,a):$APP.Ce(b)?$APP.df.j(y8,a,b):a};$APP.l=C8.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};
$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "vars":return this.Hb;case "clauses":return this.xa;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,$APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[s8,this.Hb],null),new $APP.M(null,2,5,$APP.O,[$APP.uH,this.xa],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,2,new $APP.M(null,2,5,$APP.O,[s8,$APP.uH],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};
$APP.l.aa=function(){return new C8(this.Hb,this.xa,this.s,this.o,this.C)};$APP.l.Z=function(){return 2+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=1024755006^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Hb,b.Hb)&&$APP.A.g(this.xa,b.xa)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,2,[$APP.uH,null,s8,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new C8(this.Hb,this.xa,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "vars":case "clauses":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(s8,b):$APP.J.call(null,s8,b))?new C8(c,this.xa,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g($APP.uH,b):$APP.J.call(null,$APP.uH,b))?new C8(this.Hb,c,this.s,this.o,null):new C8(this.Hb,this.xa,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.We(s8,this.Hb,null),new $APP.We($APP.uH,this.xa,null)],null),this.o))};$APP.l.W=function(a,b){return new C8(this.Hb,this.xa,b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return j7(b,this.xa,j7(b,this.Hb,c))};$APP.l.ib=function(a,b){return y8(y8(b,this.Hb),this.xa)};$APP.l=D8.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "name":return this.name;case "branches":return this.od;default:return $APP.Te.j(this.o,b,c)}};
$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,$APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.V,this.name],null),new $APP.M(null,2,5,$APP.O,[r$,this.od],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,2,new $APP.M(null,2,5,$APP.O,[$APP.V,r$],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new D8(this.name,this.od,this.s,this.o,this.C)};$APP.l.Z=function(){return 2+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=-900273052^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.name,b.name)&&$APP.A.g(this.od,b.od)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,2,[$APP.V,null,r$,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new D8(this.name,this.od,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "name":case "branches":return!0;default:return $APP.Ve(this.o,b)}};$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g($APP.V,b):$APP.J.call(null,$APP.V,b))?new D8(c,this.od,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(r$,b):$APP.J.call(null,r$,b))?new D8(this.name,c,this.s,this.o,null):new D8(this.name,this.od,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.We($APP.V,this.name,null),new $APP.We(r$,this.od,null)],null),this.o))};$APP.l.W=function(a,b){return new D8(this.name,this.od,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return j7(b,this.od,j7(b,this.name,c))};$APP.l.ib=function(a,b){return y8(y8(b,this.name),this.od)};$APP.l=H8.prototype;
$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "qfind":return this.Pc;case "qwith":return this.Tc;case "qreturn-map":return this.Rc;case "qin":return this.Qc;case "qwhere":return this.Sc;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,$APP.S.g(new $APP.M(null,5,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[I8,this.Pc],null),new $APP.M(null,2,5,$APP.O,[J8,this.Tc],null),new $APP.M(null,2,5,$APP.O,[K8,this.Rc],null),new $APP.M(null,2,5,$APP.O,[L8,this.Qc],null),new $APP.M(null,2,5,$APP.O,[M8,this.Sc],null)],null),this.o))};
$APP.l.fa=function(){return new $APP.Kh(this,5,new $APP.M(null,5,5,$APP.O,[I8,J8,K8,L8,M8],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};$APP.l.aa=function(){return new H8(this.Pc,this.Tc,this.Rc,this.Qc,this.Sc,this.s,this.o,this.C)};$APP.l.Z=function(){return 5+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=181307977^$APP.Nd(this)};
$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Pc,b.Pc)&&$APP.A.g(this.Tc,b.Tc)&&$APP.A.g(this.Rc,b.Rc)&&$APP.A.g(this.Qc,b.Qc)&&$APP.A.g(this.Sc,b.Sc)&&$APP.A.g(this.o,b.o)};$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,5,[I8,null,M8,null,L8,null,J8,null,K8,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new H8(this.Pc,this.Tc,this.Rc,this.Qc,this.Sc,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};
$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "qfind":case "qwith":case "qreturn-map":case "qin":case "qwhere":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(I8,b):$APP.J.call(null,I8,b))?new H8(c,this.Tc,this.Rc,this.Qc,this.Sc,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(J8,b):$APP.J.call(null,J8,b))?new H8(this.Pc,c,this.Rc,this.Qc,this.Sc,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(K8,b):$APP.J.call(null,K8,b))?new H8(this.Pc,this.Tc,c,this.Qc,this.Sc,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(L8,b):$APP.J.call(null,L8,b))?new H8(this.Pc,this.Tc,this.Rc,c,this.Sc,this.s,this.o,null):$APP.p($APP.J.g?
$APP.J.g(M8,b):$APP.J.call(null,M8,b))?new H8(this.Pc,this.Tc,this.Rc,this.Qc,c,this.s,this.o,null):new H8(this.Pc,this.Tc,this.Rc,this.Qc,this.Sc,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,5,5,$APP.O,[new $APP.We(I8,this.Pc,null),new $APP.We(J8,this.Tc,null),new $APP.We(K8,this.Rc,null),new $APP.We(L8,this.Qc,null),new $APP.We(M8,this.Sc,null)],null),this.o))};
$APP.l.W=function(a,b){return new H8(this.Pc,this.Tc,this.Rc,this.Qc,this.Sc,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l.gb=$APP.wd;$APP.l.hb=function(a,b,c){return j7(b,this.Sc,j7(b,this.Qc,j7(b,this.Rc,j7(b,this.Tc,j7(b,this.Pc,c)))))};$APP.l.ib=function(a,b){return y8(y8(y8(y8(y8(b,this.Pc),this.Tc),this.Rc),this.Qc),this.Sc)};var tCa=o2();$APP.l=U8.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "rels":return this.Pd;case "sources":return this.sources;case "rules":return this.rules;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,$APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[h9,this.Pd],null),new $APP.M(null,2,5,$APP.O,[f9,this.sources],null),new $APP.M(null,2,5,$APP.O,[g9,this.rules],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,3,new $APP.M(null,3,5,$APP.O,[h9,f9,g9],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};
$APP.l.aa=function(){return new U8(this.Pd,this.sources,this.rules,this.s,this.o,this.C)};$APP.l.Z=function(){return 3+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=1014232958^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Pd,b.Pd)&&$APP.A.g(this.sources,b.sources)&&$APP.A.g(this.rules,b.rules)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,3,[f9,null,g9,null,h9,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new U8(this.Pd,this.sources,this.rules,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "rels":case "sources":case "rules":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(h9,b):$APP.J.call(null,h9,b))?new U8(c,this.sources,this.rules,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(f9,b):$APP.J.call(null,f9,b))?new U8(this.Pd,c,this.rules,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(g9,b):$APP.J.call(null,g9,b))?new U8(this.Pd,this.sources,c,this.s,this.o,null):new U8(this.Pd,this.sources,this.rules,this.s,$APP.Vi.j(this.o,b,c),null)};
$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,3,5,$APP.O,[new $APP.We(h9,this.Pd,null),new $APP.We(f9,this.sources,null),new $APP.We(g9,this.rules,null)],null),this.o))};$APP.l.W=function(a,b){return new U8(this.Pd,this.sources,this.rules,b,this.o,this.C)};$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};$APP.l=V8.prototype;$APP.l.ca=function(a,b){return this.I(null,b,null)};
$APP.l.I=function(a,b,c){switch(b instanceof $APP.H?b.P:null){case "attrs":return this.ma;case "tuples":return this.ce;default:return $APP.Te.j(this.o,b,c)}};$APP.l.na=function(a,b,c){return $APP.df.j(function(d,e){var f=$APP.C.j(e,0,null);e=$APP.C.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.l.T=function(a,b,c){return $APP.Aj(b,function(d){return $APP.Aj(b,$APP.Dj,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,$APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[q6,this.ma],null),new $APP.M(null,2,5,$APP.O,[p9,this.ce],null)],null),this.o))};$APP.l.fa=function(){return new $APP.Kh(this,2,new $APP.M(null,2,5,$APP.O,[q6,p9],null),$APP.p(this.o)?$APP.kd(this.o):$APP.lg())};$APP.l.U=function(){return this.s};
$APP.l.aa=function(){return new V8(this.ma,this.ce,this.s,this.o,this.C)};$APP.l.Z=function(){return 2+$APP.de(this.o)};$APP.l.V=function(){var a=this.C;return null!=a?a:this.C=a=1107093117^$APP.Nd(this)};$APP.l.O=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.ma,b.ma)&&$APP.A.g(this.ce,b.ce)&&$APP.A.g(this.o,b.o)};
$APP.l.pa=function(a,b){return $APP.Ve(new $APP.$i(null,new $APP.m(null,2,[p9,null,q6,null],null),null),b)?$APP.zm.g($APP.sc($APP.Th.g($APP.fg,this),this.s),b):new V8(this.ma,this.ce,this.s,$APP.hg($APP.zm.g(this.o,b)),null)};$APP.l.ha=function(a,b){switch(b instanceof $APP.H?b.P:null){case "attrs":case "tuples":return!0;default:return $APP.Ve(this.o,b)}};
$APP.l.R=function(a,b,c){return $APP.p($APP.J.g?$APP.J.g(q6,b):$APP.J.call(null,q6,b))?new V8(c,this.ce,this.s,this.o,null):$APP.p($APP.J.g?$APP.J.g(p9,b):$APP.J.call(null,p9,b))?new V8(this.ma,c,this.s,this.o,null):new V8(this.ma,this.ce,this.s,$APP.Vi.j(this.o,b,c),null)};$APP.l.Y=function(){return $APP.w($APP.S.g(new $APP.M(null,2,5,$APP.O,[new $APP.We(q6,this.ma,null),new $APP.We(p9,this.ce,null)],null),this.o))};$APP.l.W=function(a,b){return new V8(this.ma,this.ce,b,this.o,this.C)};
$APP.l.ba=function(a,b){return $APP.Fe(b)?this.R(null,$APP.qe(b,0),$APP.qe(b,1)):$APP.df.j($APP.Ob,this,b)};
var $8=function $8(a,b){return $APP.A.g($APP.uC,a)?!0:$APP.A.g(new $APP.M(null,1,5,$APP.O,[$APP.mC],null),a)?$APP.Ce(b):a instanceof $APP.t?$APP.A.g(b,a):$APP.Ce(a)?$APP.A.g($APP.oe(a),$APP.mC)?$APP.Ce(b)&&$APP.yg(function(d){var e=$APP.C.j(d,0,null);d=$APP.C.j(d,1,null);return $8.g?$8.g(e,d):$8.call(null,e,d)},$APP.Ej.j($APP.ly,$APP.fj(a),b)):$APP.Ce(b)&&$APP.A.g($APP.de(b),$APP.de(a))&&$APP.yg(function(d){var e=$APP.C.j(d,0,null);d=$APP.C.j(d,1,null);return $8.g?$8.g(e,d):$8.call(null,e,d)},$APP.Ej.j($APP.ly,
a,b)):a.h?a.h(b):a.call(null,b)},x9=function x9(a,b){var d=$APP.gg(a),e=$APP.Te.g(d,q6);d=$APP.Te.g(d,p9);var f=$APP.gg(b),g=$APP.Te.g(f,q6);f=$APP.Te.g(f,p9);if($APP.A.g(e,g))return new V8(e,$APP.Th.g($APP.ff(d),f),null,null,null);if($za(e,g)){if($APP.yg($APP.ub,$APP.Si(e))){var h=$APP.ff(function(){return function x(v){return new $APP.Nf(null,function(){for(;;){var B=$APP.w(v);if(B){if($APP.Ge(B)){var F=$APP.bd(B),P=$APP.de(F),U=$APP.Qf(P);a:for(var Z=0;;)if(Z<P){var ba=$APP.qe(F,Z),ca=$APP.C.j(ba,
0,null);ba=$APP.C.j(ba,1,null);$APP.Uf(U,new $APP.M(null,2,5,$APP.O,[ba,e.h?e.h(ca):e.call(null,ca)],null));Z+=1}else{F=!0;break a}return F?$APP.Tf($APP.Vf(U),x($APP.cd(B))):$APP.Tf($APP.Vf(U),null)}F=$APP.y(B);U=$APP.C.j(F,0,null);F=$APP.C.j(F,1,null);return $APP.Gf(new $APP.M(null,2,5,$APP.O,[F,e.h?e.h(U):e.call(null,U)],null),x($APP.Id(B)))}return null}},null,null)}(g)}()),n=$APP.df.g($APP.Wn,$APP.Si(e))+1;b=$APP.Uc($APP.df.j(function(u,v){for(var x=Array(n),B=$APP.w(h),F=null,P=0,U=0;;)if(U<P){var Z=
F.ga(null,U),ba=$APP.C.j(Z,0,null);Z=$APP.C.j(Z,1,null);x[Z]=v[ba];U+=1}else if(B=$APP.w(B))$APP.Ge(B)?(P=$APP.bd(B),B=$APP.cd(B),F=P,P=$APP.de(P)):(P=$APP.y(B),F=$APP.C.j(P,0,null),P=$APP.C.j(P,1,null),x[P]=v[F],B=$APP.z(B),F=null,P=0),U=0;else break;return $APP.bh.g(u,x)},$APP.Sc($APP.ff(d)),f));return new V8(e,b,null,null,null)}var k=$APP.hj($APP.Qi($APP.ym.l($APP.D([e,g]))),$APP.Xn.B());d=function(){var u=new V8(k,$APP.ch,null,null,null);return x9.g?x9.g(u,a):x9.call(null,u,a)}();return x9.g?
x9.g(d,b):x9.call(null,d,b)}throw $APP.Jm.g(["Can’t sum relations with different attrs: ",$APP.ck.l($APP.D([e]))," and ",$APP.ck.l($APP.D([g]))].join(""),new $APP.m(null,1,[$APP.kE,w9],null));},v9=function v9(a){switch(arguments.length){case 0:return v9.B();case 2:return v9.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};v9.B=function(){return new V8($APP.fg,new $APP.M(null,1,5,$APP.O,[[]],null),null,null,null)};
v9.g=function(a,b){var c=$APP.Qi(q6.h(a)),d=$APP.Qi(q6.h(b)),e=$APP.ef($APP.Ej.g(q6.h(a),c)),f=$APP.ef($APP.Ej.g(q6.h(b),d));return new V8($APP.hj($APP.S.g(c,d),$APP.Xn.B()),$APP.Uc($APP.df.j(function(g,h){return $APP.df.j(function(n,k){return $APP.bh.g(n,b9(h,e,k,f))},g,p9.h(b))},$APP.Sc($APP.ch),p9.h(a))),null,null,null)};v9.A=2;J7.prototype.zf=function(){return v9.B()};
K7.prototype.zf=function(a,b){return new V8($APP.eg([$APP.fr.g(this,new $APP.M(null,2,5,$APP.O,[e9,$APP.yn],null)),0]),new $APP.M(null,1,5,$APP.O,[$APP.Bt.h(new $APP.M(null,1,5,$APP.O,[b],null))],null),null,null,null)};
M7.prototype.zf=function(a,b){var c=this;if(h3(b))return $APP.ye(b)?c9(c):$APP.df.g(x9,$APP.Ej.g(function(d){return d9(c.Db,d)},b));throw $APP.Jm.g(["Cannot bind value ",$APP.ck.l($APP.D([b]))," to collection ",$APP.ck.l($APP.D([n7(c)]))].join(""),new $APP.m(null,3,[$APP.kE,q$,$APP.vE,b,h$,n7(c)],null));};
L7.prototype.zf=function(a,b){if(h3(b)){if($APP.de(b)<$APP.de(this.ic))throw $APP.Jm.g(["Not enough elements in a collection ",$APP.ck.l($APP.D([b]))," to bind tuple ",$APP.ck.l($APP.D([n7(this)]))].join(""),new $APP.m(null,3,[$APP.kE,q$,$APP.vE,b,h$,n7(this)],null));return $APP.df.g(v9,$APP.Ej.j(function(c,d){return d9(c,d)},this.ic,b))}throw $APP.Jm.g(["Cannot bind value ",$APP.ck.l($APP.D([b]))," to tuple ",$APP.ck.l($APP.D([n7(this)]))].join(""),new $APP.m(null,3,[$APP.kE,q$,$APP.vE,b,h$,n7(this)],
null));};var k9=null,l9=null,lAa=$APP.gk.h(0),A9=function A9(a){switch(arguments.length){case 2:return A9.g(arguments[0],arguments[1]);case 3:return A9.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};A9.g=function(a,b){return A9.j(a,b,b)};
A9.j=function(a,b,c){for(;;){var d=$8,e=b;if($APP.p(function(){var ba=new $APP.M(null,1,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.zd,$APP.mC],null)],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}()))return I9(H9(a),$APP.$g.g(Y8,$APP.ke(b)),b),iAa(a,b);if($APP.p(function(){var ba=new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[$APP.zd,$APP.mC],null),$APP.uC],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}()))return I9(H9(a),$APP.$g.g(Y8,$APP.ke(b)),b),jAa(a,b);if($APP.p(function(){var ba=
new $APP.M(null,2,5,$APP.O,[X8,$APP.mC],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}())){var f=$APP.w(b);c=$APP.y(f);f=$APP.z(f);var g=l9;l9=$APP.Te.g(f9.h(a),c);try{return A9.j(a,f,b)}finally{l9=g}}else{if($APP.p(function(){var ba=new $APP.M(null,2,5,$APP.O,[$APP.Mu,$APP.mC],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}())){var h=b,n=$APP.w(h),k=$APP.y(n),u=$APP.z(n);f=k;g=u;var v=uAa(H9(a),g,b),x=$APP.Ej.g(function(ba){return function(ca){return J9.g?J9.g(ba,ca):J9.call(null,ba,ca)}}(a,
b,c,h,n,k,u,f,g,v,d,e),g);b=$APP.Ej.g(function(){return function(ba){return $APP.df.g(q9,h9.h(ba))}}(a,b,c,h,n,k,u,f,g,v,x,d,e),x);return $APP.Vi.j($APP.y(x),h9,new $APP.M(null,1,5,$APP.O,[$APP.df.g(x9,b)],null))}if($APP.p(function(){var ba=new $APP.M(null,3,5,$APP.O,[B8,new $APP.M(null,2,5,$APP.O,[new $APP.M(null,1,5,$APP.O,[$APP.mC],null),$APP.mC],null),$APP.mC],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}())){g=$APP.w(b);f=$APP.y(g);g=$APP.z(g);h=$APP.y(g);f=$APP.z(g);h=$APP.w(h);g=$APP.y(h);
h=$APP.z(h);v=g;g=f;f=H9(a);I9(f,v,c);vAa(f,h,g);c=$APP.Mt.j(B8,$APP.S.g(v,h),g);f=b;b=c;c=f;continue}else{if($APP.p(function(){var ba=new $APP.M(null,3,5,$APP.O,[B8,new $APP.M(null,1,5,$APP.O,[$APP.mC],null),$APP.mC],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}())){k=b;u=$APP.w(k);var B=$APP.y(u),F=$APP.z(u);f=B;var P=$APP.y(F),U=$APP.z(F);h=P;g=U;var Z=$APP.ej(h);v=vAa(H9(a),Z,g);n=G9(a,Z);x=$APP.Ej.g(function(ba,ca,ia,oa,la,K,E,Q,I,N,fa,ha,ja,ra,ta){return function(va){return G9(J9.g?J9.g(ta,
va):J9.call(null,ta,va),ja)}}(a,b,c,k,u,B,F,f,P,U,h,g,Z,v,n,d,e),g);b=$APP.Ej.g(function(){return function(ba){return $APP.df.g(q9,h9.h(ba))}}(a,b,c,k,u,B,F,f,P,U,h,g,Z,v,n,x,d,e),x);b=$APP.df.g(x9,b);return $APP.Vn.F(a,h9,s9,b)}if($APP.p(function(){var ba=new $APP.M(null,2,5,$APP.O,[$APP.Gu,$APP.mC],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}()))return c=$APP.w(b),b=$APP.y(c),c=$APP.z(c),f=b,b=c,$APP.df.j(J9,a,b);if($APP.p(function(){var ba=new $APP.M(null,2,5,$APP.O,[$APP.tD,$APP.mC],null),
ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}())){f=$APP.w(b);b=$APP.y(f);g=$APP.z(f);f=b;b=g;f=H9(a);g=$APP.ej(z9(b));if($APP.ye($APP.gx.g(f,g)))throw $APP.Jm.g(["Insufficient bindings: none of ",$APP.ck.l($APP.D([g]))," is bound in ",$APP.ck.l($APP.D([c]))].join(""),new $APP.m(null,2,[$APP.kE,w9,$APP.MB,c],null));v=null;a=$APP.Vi.j(a,h9,new $APP.M(null,1,5,$APP.O,[$APP.df.g(q9,h9.h(a))],null));b=$APP.df.j(J9,a,b);b=r9($APP.y(h9.h(a)),$APP.df.g(q9,h9.h(b)));return $APP.Vi.j(a,h9,new $APP.M(null,
1,5,$APP.O,[b],null))}if($APP.p(function(){var ba=new $APP.M(null,3,5,$APP.O,[z8,new $APP.M(null,1,5,$APP.O,[$APP.mC],null),$APP.mC],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}()))return b=$APP.w(b),f=$APP.y(b),b=$APP.z(b),f=$APP.y(b),b=$APP.z(b),h=f,f=H9(a),v=I9(f,h,c),a=$APP.Vi.j(a,h9,new $APP.M(null,1,5,$APP.O,[$APP.df.g(q9,h9.h(a))],null)),n=G9(a,h),b=G9($APP.df.j(J9,n,b),h),b=r9($APP.y(h9.h(a)),$APP.df.g(q9,h9.h(b))),$APP.Vi.j(a,h9,new $APP.M(null,1,5,$APP.O,[b],null));if($APP.p(function(){var ba=
new $APP.M(null,1,5,$APP.O,[$APP.mC],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}())){c=l9;b=sAa(c,b);f=eAa(c,b);g=k9;k9=(null!=c?$APP.wd===c.qh||(c.qd?0:$APP.zb(U3,c)):$APP.zb(U3,c))?tAa(c,b):k9;try{return $APP.Vn.F(a,h9,s9,f)}finally{k9=g}}else throw Error(["No matching clause: ",$APP.q.h(e)].join(""));}}break}};A9.A=3;
var J9=function J9(a,b){if(kAa(a,b))if(X8($APP.y(b))){var d=l9;l9=$APP.Te.g(f9.h(a),$APP.y(b));try{var e=$APP.z(b);return J9.g?J9.g(a,e):J9.call(null,a,e)}finally{l9=d}}else return $APP.Vn.F(a,h9,s9,rAa(a,b));else return A9.g(a,b)};p7.prototype.Af=function(a,b){return u9(b,this.Ba)};q7.prototype.Af=function(a,b){return $APP.fr.g(b,new $APP.M(null,2,5,$APP.O,[f9,this.Ba],null))};u7.prototype.Af=function(){var a=$APP.Te.g(sCa,this.Ba);return $APP.p(a)?a:null};t7.prototype.Af=function(){return this.value};
V7.prototype.Bf=function(a,b,c){return null==b?c:DAa(b,c)};W7.prototype.Bf=function(a,b,c){return $APP.Th.j($APP.ch,$APP.Ej.h($APP.y),c)};X7.prototype.Bf=function(a,b,c){return $APP.je(c)};Y7.prototype.Bf=function(a,b,c){return null!=b?$APP.y(DAa(b,new $APP.M(null,1,5,$APP.O,[$APP.y(c)],null))):$APP.y(c)};var M$=function M$(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return M$.l(arguments[0],1<c.length?new $APP.Ed(c.slice(1),0,null):null)};
M$.l=function(a,b){var c=m2(tCa,a,function(){return Zza(a)}),d=I8.h(c),e=U7(d),f=$APP.Yg.l(R7,$APP.D([U7(d)])),g=$APP.de(e),h=J8.h(c);h=$APP.S.g(f,$APP.Ej.g($APP.yn,h));f=$APP.Ce(a)?N8(a):a;var n=S8.h(f);b=bAa(new U8($APP.ch,$APP.fg,$APP.fg,null,null,null),L8.h(c),b);h=yAa(wAa(b,n),h);f=$APP.p(T8.h(f))?$APP.Hq.g(function(k){return $APP.ff($APP.Ml.j(k,0,g))},h):h;f=$APP.p($APP.zg(Z7,e))?BAa(e,b,f):f;e=$APP.p($APP.zg($7,e))?EAa(e,b,f):f;return L9(d,K8.h(c),e)};M$.A=1;
M$.D=function(a){var b=$APP.y(a);a=$APP.z(a);return this.l(b,a)};N9.g=function(a,b){return N9.j(a,b,null)};N9.j=function(a,b,c){if(a instanceof h4)throw $APP.Jm.g("Filtered DB cannot be modified",new $APP.m(null,1,[$APP.kE,cCa],null));return A5(V4(new $APP.m(null,5,[Q4,a,R4,a,S4,$APP.ch,T4,$APP.fg,U4,c],null)),b)};N9.A=3;
var N$=function N$(a){switch(arguments.length){case 2:return N$.g(arguments[0],arguments[1]);case 3:return N$.j(arguments[0],arguments[1],arguments[2]);case 4:return N$.F(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return N$.N(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return N$.ua(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};
N$.g=function(a,b){return O3(a,b,$APP.ch)};N$.j=function(a,b,c){return O3(a,b,new $APP.M(null,1,5,$APP.O,[c],null))};N$.F=function(a,b,c,d){return O3(a,b,new $APP.M(null,2,5,$APP.O,[c,d],null))};N$.N=function(a,b,c,d,e){return O3(a,b,new $APP.M(null,3,5,$APP.O,[c,d,e],null))};N$.ua=function(a,b,c,d,e,f){return O3(a,b,new $APP.M(null,4,5,$APP.O,[c,d,e,f],null))};N$.A=6;
var O$=function O$(a){switch(arguments.length){case 1:return O$.h(arguments[0]);case 2:return O$.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};O$.h=function(a){return R9(G4.h?G4.h(a):G4.call(null,a))};O$.g=function(a,b){return R9(G4.g?G4.g(a,b):G4.call(null,a,b))};O$.A=2;
var P$=function P$(a){switch(arguments.length){case 0:return P$.B();case 1:return P$.h(arguments[0]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};P$.B=function(){return R9(w$.B?w$.B():w$.call(null))};P$.h=function(a){return R9(w$.h?w$.h(a):w$.call(null,a))};P$.A=1;
var Q$=function Q$(a){switch(arguments.length){case 2:return Q$.g(arguments[0],arguments[1]);case 3:return Q$.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};Q$.g=function(a,b){return Q$.j(a,b,null)};
Q$.j=function(a,b,c){b=FAa(a,b,c);a=Q9.h($APP.ue(a));a=null==a?null:$APP.r(a);a=$APP.w(a);c=null;for(var d=0,e=0;;)if(e<d){var f=c.ga(null,e);$APP.C.j(f,0,null);f=$APP.C.j(f,1,null);f.h?f.h(b):f.call(null,b);e+=1}else if(a=$APP.w(a))$APP.Ge(a)?(d=$APP.bd(a),a=$APP.cd(a),c=d,d=$APP.de(d)):(c=$APP.y(a),$APP.C.j(c,0,null),c=$APP.C.j(c,1,null),c.h?c.h(b):c.call(null,b),a=$APP.z(a),c=null,d=0),e=0;else break;return b};Q$.A=3;
var R$=function R$(a){switch(arguments.length){case 2:return R$.g(arguments[0],arguments[1]);case 3:return R$.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};R$.g=function(a,b){return R$.j(a,b,null)};
R$.j=function(a,b,c){c=V4(new $APP.m(null,4,[Q4,$APP.r(a),R4,b,S4,$APP.S.g($APP.Ej.g(function(n){return $APP.Vi.j(n,$APP.PD,!1)},N$.g($APP.r(a),Z3)),N$.g(b,Z3)),U4,c],null));$APP.Ig(a,b);for(var d=$APP.w(function(){var n=Q9.h($APP.ue(a));return null==n?null:$APP.r(n)}()),e=null,f=0,g=0;;)if(g<f){var h=e.ga(null,g);$APP.C.j(h,0,null);h=$APP.C.j(h,1,null);h.h?h.h(c):h.call(null,c);g+=1}else if(d=$APP.w(d))$APP.Ge(d)?(f=$APP.bd(d),d=$APP.cd(d),e=f,f=$APP.de(f)):(e=$APP.y(d),$APP.C.j(e,0,null),e=$APP.C.j(e,
1,null),e.h?e.h(c):e.call(null,c),d=$APP.z(d),e=null,f=0),g=0;else break;return b};R$.A=3;var S$=function S$(a){switch(arguments.length){case 2:return S$.g(arguments[0],arguments[1]);case 3:return S$.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};S$.g=function(a,b){return S$.j(a,$APP.Sy.B(),b)};S$.j=function(a,b,c){$APP.hk.F(Q9.h($APP.ue(a)),$APP.Vi,b,c);return b};S$.A=3;
for(var T$=$APP.w(new $APP.m(null,2,[HAa,y3,jCa,H4],null)),U$=null,V$=0,W$=0;;)if(W$<V$){var uCa=U$.ga(null,W$),vCa=$APP.C.j(uCa,0,null),wCa=$APP.C.j(uCa,1,null),xCa=vCa,yCa=wCa;$APP.Te.g($APP.r($APP.XH),xCa);$APP.hk.F($APP.XH,$APP.Vi,xCa,yCa);W$+=1}else{var zCa=$APP.w(T$);if(zCa){var X$=zCa;if($APP.Ge(X$)){var ACa=$APP.bd(X$),BCa=$APP.cd(X$),CCa=ACa,DCa=$APP.de(ACa);T$=BCa;U$=CCa;V$=DCa}else{var ECa=$APP.y(X$),FCa=$APP.C.j(ECa,0,null),GCa=$APP.C.j(ECa,1,null),HCa=FCa,ICa=GCa;$APP.Te.g($APP.r($APP.XH),
HCa);$APP.hk.F($APP.XH,$APP.Vi,HCa,ICa);T$=$APP.z(X$);U$=null;V$=0}W$=0}else break}$APP.gk.h(-1E6);var Y$=function Y$(a){switch(arguments.length){case 0:return Y$.B();case 1:return Y$.h(arguments[0]);default:throw Error(["Invalid arity: ",$APP.q.h(arguments.length)].join(""));}};Y$.B=function(){return Y$.h((new Date).getTime())};
Y$.h=function(a){return $APP.Nk([$APP.q.h(T9(a/1E3|0,8)),"-",$APP.q.h(T9($APP.jk(65536),4)),"-",$APP.q.h(T9($APP.jk(65536)&4095|16384,4)),"-",$APP.q.h(T9($APP.jk(65536)&16383|32768,4)),"-",$APP.q.h(T9($APP.jk(65536),4)),$APP.q.h(T9($APP.jk(65536),4)),$APP.q.h(T9($APP.jk(65536),4))].join(""))};Y$.A=1;var Z$=$APP.yq(i$,null),$$=$APP.yq(u$,null),JCa=$APP.yi([DBa,pCa,UAa,lBa,NBa,o$,OBa,RBa,rCa,HBa,jBa,bCa,I4,JBa,dCa,mCa,hCa,fBa,SBa,lCa,$APP.eG,s$,a8,BBa],[function(){var a=new $APP.Bd(function(){return N9},bBa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.lD,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,DBa,"datascript/core.cljc",11,new $APP.m(null,6,[$APP.MA,!1,$APP.Zt,3,$APP.fG,3,$APP.kF,new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[I4,f$],null),new $APP.M(null,3,5,$APP.O,[I4,f$,v$],
null)],null),$APP.Y,$APP.R(new $APP.M(null,2,5,$APP.O,[I4,f$],null),new $APP.M(null,3,5,$APP.O,[I4,f$,v$],null)),$APP.rG,$APP.R(null,null)],null),1,256,256,$APP.R(new $APP.M(null,2,5,$APP.O,[I4,f$],null),new $APP.M(null,3,5,$APP.O,[I4,f$,v$],null)),"Same as [[transact!]], but applies to an immutable database value. Returns transaction report (see [[transact!]]).",$APP.p(N9)?N9.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),
$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return J$},qCa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,pCa,"datascript/core.cljc",12,1,120,130,$APP.Hd,'Same as [[pull]], but accepts sequence of ids and returns sequence of maps.\n\n             Usage:\n\n             ```\n             (pull-many db [:db/id :name] [1 2])\n             ; \x3d\x3e [{:db/id 1, :name "Ivan"}\n             ;     {:db/id 2, :name "Oleg"}]\n             ```',
$APP.p(J$)?J$.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return R5},GBa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,UAa,"datascript/core.cljc",9,1,23,72,
$APP.Hd,"Retrieves an entity by its id from database. Entities are lazy map-like structures to navigate DataScript database content.\n\n             For `eid` pass entity id or lookup attr:\n             \n                 (entity db 1)\n                 (entity db [:unique-attr :value])\n            \n             If entity does not exist, `nil` is returned:\n\n                 (entity db 100500) ; \x3d\x3e nil\n\n             Creating an entity by id is very cheap, almost no-op, as attr access is on-demand:\n\n                 (entity db 1) ; \x3d\x3e {:db/id 1}\n\n             Entity attributes can be lazily accessed through key lookups:\n             \n                 (:attr (entity db 1)) ; \x3d\x3e :value\n                 (get (entity db 1) :attr) ; \x3d\x3e :value\n\n             Cardinality many attributes are returned sequences:\n\n                 (:attrs (entity db 1)) ; \x3d\x3e [:v1 :v2 :v3]\n\n             Reference attributes are returned as another entities:\n\n                 (:ref (entity db 1)) ; \x3d\x3e {:db/id 2}\n                 (:ns/ref (entity db 1)) ; \x3d\x3e {:db/id 2}\n\n             References can be walked backwards by prepending `_` to name part of an attribute:\n\n                 (:_ref (entity db 2)) ; \x3d\x3e [{:db/id 1}]\n                 (:ns/_ref (entity db 2)) ; \x3d\x3e [{:db/id 1}]\n             \n             Reverse reference lookup returns sequence of entities unless attribute is marked as `:db/isComponent`:\n\n                 (:_component-ref (entity db 2)) ; \x3d\x3e {:db/id 1}\n\n             Entity gotchas:\n               \n             - Entities print as map, but are not exactly maps (they have compatible get interface though).\n             - Entities are effectively immutable “views” into a particular version of a database.\n             - Entities retain reference to the whole database.\n             - You can’t change database through entities, only read.\n             - Creating an entity by id is very cheap, almost no-op (attributes are looked up on demand).\n             - Comparing entities just compares their ids. Be careful when comparing entities taken from different dbs or from different versions of the same db.\n             - Accessed entity attributes are cached on entity itself (except backward references).\n             - When printing, only cached attributes (the ones you have accessed before) are printed. See [[touch]].",
$APP.p(R5)?R5.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return M$},SAa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,lBa,"datascript/core.cljc",4,1,135,
147,$APP.Hd,'Executes a datalog query. See [docs.datomic.com/on-prem/query.html](https://docs.datomic.com/on-prem/query.html).\n\n          Usage:\n          \n          ```\n          (q \'[:find ?value\n               :where [_ :likes ?value]]\n             db)\n          ; \x3d\x3e #{["fries"] ["candy"] ["pie"] ["pizza"]}\n          ```',$APP.p(M$)?M$.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],
null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return S$},aCa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.lD,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,NBa,"datascript/core.cljc",14,new $APP.m(null,6,[$APP.MA,!1,$APP.Zt,3,$APP.fG,3,$APP.kF,new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[p$,$APP.yz],null),new $APP.M(null,3,5,$APP.O,[p$,
$APP.hA,$APP.yz],null)],null),$APP.Y,$APP.R(new $APP.M(null,2,5,$APP.O,[p$,$APP.yz],null),new $APP.M(null,3,5,$APP.O,[p$,$APP.hA,$APP.yz],null)),$APP.rG,$APP.R(null,null)],null),1,592,592,$APP.R(new $APP.M(null,2,5,$APP.O,[p$,$APP.yz],null),new $APP.M(null,3,5,$APP.O,[p$,$APP.hA,$APP.yz],null)),"Listen for changes on the given connection. Whenever a transaction is applied to the database via [[transact!]], the callback is called\n   with the transaction report. `key` is any opaque unique value.\n   \n   Idempotent. Calling [[listen!]] with the same key twice will override old callback with the new value.\n   \n   Returns the key under which this listener is registered. See also [[unlisten!]].",
$APP.p(S$)?S$.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return w3},VBa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,o$,"datascript/core.cljc",8,1,172,178,
$APP.Hd,"Low-level fn to create raw datoms.\n\n             Optionally with transaction id (number) and `added` flag (`true` for addition, `false` for retraction).\n\n             See also [[init-db]].",$APP.p(w3)?w3.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,
d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return O9},kCa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,OBa,"datascript/core.cljc",14,1,271,271,$APP.R(new $APP.M(null,2,5,$APP.O,[I4,f$],null)),"Applies transaction to an immutable db value, returning new immutable db value. Same as `(:db-after (with db tx-data))`.",$APP.p(O9)?O9.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,
a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return P9},ZBa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,RBa,"datascript/core.cljc",18,1,405,405,$APP.R(new $APP.M(null,4,5,$APP.O,[I4,oBa,$APP.bea,$APP.Cja],null)),'Returns part of `:avet` index between `[_ attr start]` and `[_ attr end]` in AVET sort order.\n  \n   Same properties as [[datoms]].\n   \n   `attr` must be a reference, unique attribute or marked as `:db/index true`.\n   \n   Usage:\n\n       (index-range db :likes "a" "zzzzzzzzz")\n       ; \x3d\x3e (#datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n        \n       (index-range db :likes "egg" "pineapple")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [2 :likes "pie"])\n           \n   Useful patterns:\n     \n       ; find all entities with age in a specific range (inclusive)\n       (-\x3e\x3e (index-range db :age 18 60) (map :e))',
$APP.p(P9)?P9.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return R9},eBa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,rCa,"datascript/core.cljc",19,1,444,
444,$APP.R(new $APP.M(null,1,5,$APP.O,[I4],null)),"Creates a mutable reference to a given immutable database. See [[create-conn]].",$APP.p(R9)?R9.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return R$},
aBa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.lD,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,HBa,"datascript/core.cljc",18,new $APP.m(null,6,[$APP.MA,!1,$APP.Zt,3,$APP.fG,3,$APP.kF,new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[p$,I4],null),new $APP.M(null,3,5,$APP.O,[p$,I4,v$],null)],null),$APP.Y,$APP.R(new $APP.M(null,2,5,$APP.O,[p$,I4],null),new $APP.M(null,3,5,$APP.O,[p$,I4,v$],null)),$APP.rG,$APP.R(null,null)],null),1,570,570,$APP.R(new $APP.M(null,2,5,$APP.O,[p$,I4],null),
new $APP.M(null,3,5,$APP.O,[p$,I4,v$],null)),"Forces underlying `conn` value to become `db`. Will generate a tx-report that will remove everything from old value and insert everything from the new one.",$APP.p(R$)?R$.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,
d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return Q$},yBa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.lD,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,jBa,"datascript/core.cljc",16,new $APP.m(null,6,[$APP.MA,!1,$APP.Zt,3,$APP.fG,3,$APP.kF,new $APP.M(null,2,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[p$,f$],null),new $APP.M(null,3,5,$APP.O,[p$,f$,v$],null)],null),$APP.Y,$APP.R(new $APP.M(null,2,5,$APP.O,[p$,f$],null),new $APP.M(null,3,5,$APP.O,[p$,f$,v$],null)),$APP.rG,$APP.R(null,
null)],null),1,476,476,$APP.R(new $APP.M(null,2,5,$APP.O,[p$,f$],null),new $APP.M(null,3,5,$APP.O,[p$,f$,v$],null)),'Applies transaction the underlying database value and atomically updates connection reference to point to the result of that transaction, new db value.\n  \n   Returns transaction report, a map:\n\n       { :db-before ...       ; db value before transaction\n         :db-after  ...       ; db value after transaction\n         :tx-data   [...]     ; plain datoms that were added/retracted from db-before\n         :tempids   {...}     ; map of tempid from tx-data \x3d\x3e assigned entid in db-after\n         :tx-meta   tx-meta } ; the exact value you passed as `tx-meta`\n\n  Note! `conn` will be updated in-place and is not returned from [[transact!]].\n  \n  Usage:\n\n      ; add a single datom to an existing entity (1)\n      (transact! conn [[:db/add 1 :name "Ivan"]])\n  \n      ; retract a single datom\n      (transact! conn [[:db/retract 1 :name "Ivan"]])\n  \n      ; retract single entity attribute\n      (transact! conn [[:db.fn/retractAttribute 1 :name]])\n  \n      ; ... or equivalently (since Datomic changed its API to support this):\n      (transact! conn [[:db/retract 1 :name]])\n      \n      ; retract all entity attributes (effectively deletes entity)\n      (transact! conn [[:db.fn/retractEntity 1]])\n  \n      ; create a new entity (`-1`, as any other negative value, is a tempid\n      ; that will be replaced with DataScript to a next unused eid)\n      (transact! conn [[:db/add -1 :name "Ivan"]])\n  \n      ; check assigned id (here `*1` is a result returned from previous `transact!` call)\n      (def report *1)\n      (:tempids report) ; \x3d\x3e {-1 296}\n  \n      ; check actual datoms inserted\n      (:tx-data report) ; \x3d\x3e [#datascript/Datom [296 :name "Ivan"]]\n  \n      ; tempid can also be a string\n      (transact! conn [[:db/add "ivan" :name "Ivan"]])\n      (:tempids *1) ; \x3d\x3e {"ivan" 297}\n  \n      ; reference another entity (must exist)\n      (transact! conn [[:db/add -1 :friend 296]])\n  \n      ; create an entity and set multiple attributes (in a single transaction\n      ; equal tempids will be replaced with the same yet unused entid)\n      (transact! conn [[:db/add -1 :name "Ivan"]\n                       [:db/add -1 :likes "fries"]\n                       [:db/add -1 :likes "pizza"]\n                       [:db/add -1 :friend 296]])\n  \n      ; create an entity and set multiple attributes (alternative map form)\n      (transact! conn [{:db/id  -1\n                        :name   "Ivan"\n                        :likes  ["fries" "pizza"]\n                        :friend 296}])\n      \n      ; update an entity (alternative map form). Can’t retract attributes in\n      ; map form. For cardinality many attrs, value (fish in this example)\n      ; will be added to the list of existing values\n      (transact! conn [{:db/id  296\n                        :name   "Oleg"\n                        :likes  ["fish"]}])\n\n      ; ref attributes can be specified as nested map, that will create nested entity as well\n      (transact! conn [{:db/id  -1\n                        :name   "Oleg"\n                        :friend {:db/id -2\n                                 :name "Sergey"}}])\n                                 \n      ; reverse attribute name can be used if you want created entity to become\n      ; a value in another entity reference\n      (transact! conn [{:db/id  -1\n                        :name   "Oleg"\n                        :_friend 296}])\n      ; equivalent to\n      (transact! conn [{:db/id  -1, :name   "Oleg"}\n                       {:db/id 296, :friend -1}])\n      ; equivalent to\n      (transact! conn [[:db/add  -1 :name   "Oleg"]\n                       [:db/add 296 :friend -1]])',
$APP.p(Q$)?Q$.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return Y$},IAa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.lD,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,bCa,"datascript/core.cljc",
13,new $APP.m(null,6,[$APP.MA,!1,$APP.Zt,1,$APP.fG,1,$APP.kF,new $APP.M(null,2,5,$APP.O,[$APP.ch,new $APP.M(null,1,5,$APP.O,[V9],null)],null),$APP.Y,$APP.R($APP.ch,new $APP.M(null,1,5,$APP.O,[V9],null)),$APP.rG,$APP.R(null,null)],null),1,728,728,$APP.R($APP.ch,new $APP.M(null,1,5,$APP.O,[V9],null)),"Generates a UUID that grow with time. Such UUIDs will always go to the end  of the index and that will minimize insertions in the middle.\n  \n   Consist of 64 bits of current UNIX timestamp (in seconds) and 64 random bits (2^64 different unique values per second).",
$APP.p(Y$)?Y$.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return S9},gBa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,I4,"datascript/core.cljc",9,1,654,654,
$APP.R(new $APP.M(null,1,5,$APP.O,[p$],null)),"Returns the underlying immutable database value from a connection.\n   \n   Exists for Datomic API compatibility. Prefer using `@conn` directly if possible.",$APP.p(S9)?S9.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,
b,d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return K$},kBa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,JBa,"datascript/core.cljc",15,1,195,207,$APP.Hd,"Converts db into a data structure (not string!) that can be fed to serializer\n             of your choice (e.g. `js/JSON.stringify` in CLJS, `cheshire.core/generate-string`\n             or `jsonista.core/write-value-as-string` in CLJ).\n\n             On JVM, `serializable` holds a global lock that prevents any two serializations\n             to run in parallel (an implementation constraint, be aware).\n\n             Options:\n\n             `:freeze-fn` Non-primitive values will be serialized using this. Optional.\n             `pr-str` by default.",
$APP.p(K$)?K$.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return O$},PBa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.lD,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,dCa,"datascript/core.cljc",
23,new $APP.m(null,6,[$APP.MA,!1,$APP.Zt,2,$APP.fG,2,$APP.kF,new $APP.M(null,2,5,$APP.O,[new $APP.M(null,1,5,$APP.O,[s$],null),new $APP.M(null,2,5,$APP.O,[s$,d$],null)],null),$APP.Y,$APP.R(new $APP.M(null,1,5,$APP.O,[s$],null),new $APP.M(null,2,5,$APP.O,[s$,d$],null)),$APP.rG,$APP.R(null,null)],null),1,450,450,$APP.R(new $APP.M(null,1,5,$APP.O,[s$],null),new $APP.M(null,2,5,$APP.O,[s$,d$],null)),"Creates an empty DB and a mutable reference to it. See [[create-conn]].",$APP.p(O$)?O$.S:null])),b=$APP.r(a),
c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return L$},RAa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,mCa,"datascript/core.cljc",20,1,210,218,$APP.Hd,"Creates db from a data structure (not string!) produced by serializable.\n\n             Opts:\n\n             `:thaw-fn` Non-primitive values will be deserialized using this.\n             Must match :freeze-fn from serializable. Optional. `clojure.edn/read-string`\n             by default.",
$APP.p(L$)?L$.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return w$},NAa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,hCa,"datascript/core.cljc",11,1,152,
164,$APP.Hd,"Creates an empty database with an optional schema.\n\n             Usage:\n             \n             ```\n             (empty-db) ; \x3d\x3e #datascript/DB {:schema {}, :datoms []}\n  \n             (empty-db {:likes {:db/cardinality :db.cardinality/many}})\n             ; \x3d\x3e #datascript/DB {:schema {:likes {:db/cardinality :db.cardinality/many}}\n             ;                    :datoms []}\n             ```",$APP.p(w$)?w$.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:
$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return G4},XAa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,fBa,"datascript/core.cljc",10,1,186,192,$APP.Hd,"Low-level fn for creating database quickly from a trusted sequence of datoms.\n\n             Does no validation on inputs, so `datoms` must be well-formed and match schema.\n\n             Used internally in db (de)serialization. See also [[datom]].",
$APP.p(G4)?G4.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return V5},YAa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,SBa,"datascript/core.cljc",8,1,91,100,
$APP.Hd,"Forces all entity attributes to be eagerly fetched and cached. Only usable for debug output.\n\n             Usage:\n\n             ```\n             (entity db 1) ; \x3d\x3e {:db/id 1}\n             (touch (entity db 1)) ; \x3d\x3e {:db/id 1, :dislikes [:pie], :likes [:pizza]}\n             ```",$APP.p(V5)?V5.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?
$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return 536870912},FBa,$APP.yi([$APP.ala,$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.Kn,$APP.CA,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[!0,i$,lCa,"datascript/core.cljc",26,1,!0,18,18,$APP.Hd,null,$APP.p(536870912)?(536870912).S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),
$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return M9},QAa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,$APP.eG,"datascript/core.cljc",13,1,235,235,$APP.R(new $APP.M(null,2,5,$APP.O,[I4,$APP.lH],null)),"Returns a view over database that has same interface but only includes datoms for which the `(pred db datom)` is true. Can be applied multiple times.\n   \n   Filtered DB gotchas:\n\n   - All operations on filtered database are proxied to original DB, then filter pred is applied.\n   - Not cached. You pay filter penalty every time.\n   - Supports entities, pull, queries, index access.\n   - Does not support [[with]] and [[db-with]].",
$APP.p(M9)?M9.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return N$},EBa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.lD,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,s$,"datascript/core.cljc",13,
new $APP.m(null,6,[$APP.MA,!1,$APP.Zt,6,$APP.fG,6,$APP.kF,new $APP.M(null,5,5,$APP.O,[new $APP.M(null,2,5,$APP.O,[I4,$APP.CG],null),new $APP.M(null,3,5,$APP.O,[I4,$APP.CG,k$],null),new $APP.M(null,4,5,$APP.O,[I4,$APP.CG,k$,l$],null),new $APP.M(null,5,5,$APP.O,[I4,$APP.CG,k$,l$,m$],null),new $APP.M(null,6,5,$APP.O,[I4,$APP.CG,k$,l$,m$,n$],null)],null),$APP.Y,$APP.R(new $APP.M(null,2,5,$APP.O,[I4,$APP.CG],null),new $APP.M(null,3,5,$APP.O,[I4,$APP.CG,k$],null),new $APP.M(null,4,5,$APP.O,[I4,$APP.CG,
k$,l$],null),new $APP.M(null,5,5,$APP.O,[I4,$APP.CG,k$,l$,m$],null),new $APP.M(null,6,5,$APP.O,[I4,$APP.CG,k$,l$,m$,n$],null)),$APP.rG,$APP.R(null,null,null,null,null)],null),1,280,280,$APP.R(new $APP.M(null,2,5,$APP.O,[I4,$APP.CG],null),new $APP.M(null,3,5,$APP.O,[I4,$APP.CG,k$],null),new $APP.M(null,4,5,$APP.O,[I4,$APP.CG,k$,l$],null),new $APP.M(null,5,5,$APP.O,[I4,$APP.CG,k$,l$,m$],null),new $APP.M(null,6,5,$APP.O,[I4,$APP.CG,k$,l$,m$,n$],null)),'Index lookup. Returns a sequence of datoms (lazy iterator over actual DB index) which components (e, a, v) match passed arguments.\n\n   Datoms are sorted in index sort order. Possible `index` values are: `:eavt`, `:aevt`, `:avet`.\n\n   Usage:\n\n       ; find all datoms for entity id \x3d\x3d 1 (any attrs and values)\n       ; sort by attribute, then value\n       (datoms db :eavt 1)\n       ; \x3d\x3e (#datascript/Datom [1 :friends 2]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [1 :name "Ivan"])\n  \n       ; find all datoms for entity id \x3d\x3d 1 and attribute \x3d\x3d :likes (any values)\n       ; sorted by value\n       (datoms db :eavt 1 :likes)\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"])\n       \n       ; find all datoms for entity id \x3d\x3d 1, attribute \x3d\x3d :likes and value \x3d\x3d "pizza"\n       (datoms db :eavt 1 :likes "pizza")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "pizza"])\n  \n       ; find all datoms for attribute \x3d\x3d :likes (any entity ids and values)\n       ; sorted by entity id, then value\n       (datoms db :aevt :likes)\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n  \n       ; find all datoms that have attribute \x3d\x3d `:likes` and value \x3d\x3d `"pizza"` (any entity id)\n       ; `:likes` must be a unique attr, reference or marked as `:db/index true`\n       (datoms db :avet :likes "pizza")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n  \n       ; find all datoms sorted by entity id, then attribute, then value\n       (datoms db :eavt) ; \x3d\x3e (...)\n\n   Useful patterns:\n\n       ; get all values of :db.cardinality/many attribute\n       (-\x3e\x3e (datoms db :eavt eid attr) (map :v))\n  \n       ; lookup entity ids by attribute value\n       (-\x3e\x3e (datoms db :avet attr value) (map :e))\n  \n       ; find all entities with a specific attribute\n       (-\x3e\x3e (datoms db :aevt attr) (map :e))\n  \n       ; find “singleton” entity by its attr\n       (-\x3e\x3e (datoms db :aevt attr) first :e)\n  \n       ; find N entities with lowest attr value (e.g. 10 earliest posts)\n       (-\x3e\x3e (datoms db :avet attr) (take N))\n  \n       ; find N entities with highest attr value (e.g. 10 latest posts)\n       (-\x3e\x3e (datoms db :avet attr) (reverse) (take N))\n\n   Gotchas:\n   \n   - Index lookup is usually more efficient than doing a query with a single clause.\n   - Resulting iterator is calculated in constant time and small constant memory overhead.\n   - Iterator supports efficient `first`, `next`, `reverse`, `seq` and is itself a sequence.\n   - Will not return datoms that are not part of the index (e.g. attributes with no `:db/index` in schema when querying `:avet` index).\n     - `:eavt` and `:aevt` contain all datoms.\n     - `:avet` only contains datoms for references, `:db/unique` and `:db/index` attributes.',
$APP.p(N$)?N$.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return I$},mBa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,a8,"datascript/core.cljc",7,1,105,117,
$APP.Hd,'Fetches data from database using recursive declarative description. See [docs.datomic.com/on-prem/pull.html](https://docs.datomic.com/on-prem/pull.html).\n\n             Unlike [[entity]], returns plain Clojure map (not lazy).\n\n             Usage:\n\n                 (pull db [:db/id, :name, :likes, {:friends [:db/id :name]}] 1)\n                 ; \x3d\x3e {:db/id   1,\n                 ;     :name    "Ivan"\n                 ;     :likes   [:pizza]\n                 ;     :friends [{:db/id 2, :name "Oleg"}]}',
$APP.p(I$)?I$.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),function(){var a=new $APP.Bd(function(){return P$},JAa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.lD,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[i$,BBa,"datascript/core.cljc",
18,new $APP.m(null,6,[$APP.MA,!1,$APP.Zt,1,$APP.fG,1,$APP.kF,new $APP.M(null,2,5,$APP.O,[$APP.ch,new $APP.M(null,1,5,$APP.O,[d$],null)],null),$APP.Y,$APP.R($APP.ch,new $APP.M(null,1,5,$APP.O,[d$],null)),$APP.rG,$APP.R(null,null)],null),1,456,456,$APP.R($APP.ch,new $APP.M(null,1,5,$APP.O,[d$],null)),"Creates a mutable reference (a “connection”) to an empty immutable database.\n\n   Connections are lightweight in-memory structures (~atoms) with direct support of transaction listeners ([[listen!]], [[unlisten!]]) and other handy DataScript APIs ([[transact!]], [[reset-conn!]], [[db]]).\n\n   To access underlying immutable DB value, deref: `@conn`.",
$APP.p(P$)?P$.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,Z$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}()]),KCa=new $APP.m(null,7,[sBa,function(){var a=new $APP.Bd(function(){return H4},LBa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[u$,sBa,"datascript/db.cljc",
21,1,885,885,$APP.R(new $APP.M(null,1,5,$APP.O,[new $APP.m(null,1,[$APP.qC,new $APP.M(null,2,5,$APP.O,[d$,s$],null)],null)],null)),null,$APP.p(H4)?H4.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,$$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),iBa,function(){var a=new $APP.Bd(function(){return y3},
pBa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.Kn,$APP.Hm,$APP.RH,$APP.Bn,$APP.Y,$APP.T,$APP.GG],[u$,iBa,"datascript/db.cljc",31,1,297,297,g$,$APP.R(new $APP.M(null,1,5,$APP.O,[$APP.nF],null)),null,$APP.p(y3)?y3.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,$$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):
$APP.dw(a,b,d)}(),PAa,function(){var a=new $APP.Bd(function(){return k3},cBa,$APP.yi([$APP.ps,$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[KAa,u$,PAa,"datascript/db.cljc",15,1,154,156,$APP.R(new $APP.M(null,1,5,$APP.O,[$APP.mF],null)),null,$APP.p(k3)?k3.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,$$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=
$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),MAa,function(){var a=new $APP.Bd(function(){return j3},zBa,$APP.yi([$APP.ps,$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.Kn,$APP.Hm,$APP.RH,$APP.Y,$APP.T,$APP.GG],[KAa,u$,MAa,"datascript/db.cljc",12,1,154,155,$APP.R(new $APP.M(null,1,5,$APP.O,[$APP.mF],null)),null,$APP.p(j3)?j3.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,$$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],
null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),o$,function(){var a=new $APP.Bd(function(){return w3},ZAa,$APP.yi([$APP.vq,$APP.V,$APP.Gm,$APP.aA,$APP.lD,$APP.Kn,$APP.Hm,$APP.RH,$APP.Bn,$APP.Y,$APP.T,$APP.GG],[u$,o$,"datascript/db.cljc",19,new $APP.m(null,6,[$APP.MA,!1,$APP.Zt,5,$APP.fG,5,$APP.kF,new $APP.M(null,3,5,$APP.O,[new $APP.M(null,3,5,$APP.O,[$APP.AC,$APP.xC,$APP.JC],null),new $APP.M(null,
4,5,$APP.O,[$APP.AC,$APP.xC,$APP.JC,e$],null),new $APP.M(null,5,5,$APP.O,[$APP.AC,$APP.xC,$APP.JC,e$,X9],null)],null),$APP.Y,$APP.R(new $APP.M(null,3,5,$APP.O,[$APP.AC,$APP.xC,$APP.JC],null),new $APP.M(null,4,5,$APP.O,[$APP.AC,$APP.xC,$APP.JC,e$],null),new $APP.M(null,5,5,$APP.O,[$APP.AC,$APP.xC,$APP.JC,e$,X9],null)),$APP.rG,$APP.R(null,null,null)],null),1,233,233,g$,$APP.R(new $APP.M(null,3,5,$APP.O,[$APP.AC,$APP.xC,$APP.JC],null),new $APP.M(null,4,5,$APP.O,[$APP.AC,$APP.xC,$APP.JC,e$],null),new $APP.M(null,
5,5,$APP.O,[$APP.AC,$APP.xC,$APP.JC,e$,X9],null)),null,$APP.p(w3)?w3.S:null])),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,$$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),qBa,function(){var a=new $APP.Bd(function(){return X3},eCa,new $APP.m(null,8,[$APP.vq,u$,$APP.T,null,$APP.Gm,"datascript/db.cljc",
$APP.Hm,499,$APP.Kn,22,$APP.V,qBa,$APP.GG,$APP.p(X3)?X3.S:null,$APP.Y,$APP.Hd],null)),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,$$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}(),g$,function(){var a=new $APP.Bd(function(){return l3},iCa,new $APP.m(null,8,[$APP.vq,u$,$APP.T,null,$APP.Gm,"datascript/db.cljc",
$APP.Hm,160,$APP.Kn,10,$APP.V,g$,$APP.GG,$APP.p(l3)?l3.S:null,$APP.Y,$APP.Hd],null)),b=$APP.r(a),c=$APP.ue(a);a=$APP.p(null)?null:$APP.V.h(c);var d=new $APP.m(null,4,[$APP.vq,$$,$APP.V,a,$APP.Y,$APP.Y.h(c),$APP.T,$APP.T.h(c)],null);return $APP.p($APP.tr.h(c))?$APP.ew(a,b,d):$APP.p(function(){var e=$APP.Bq.h(c);return $APP.p(e)?e:$APP.Vq.h(c)}())?$APP.fw(a,b,d):$APP.dw(a,b,d)}()],null);$APP.Aw(new $APP.m(null,1,[$APP.gr,new $APP.m(null,2,[i$,JCa,u$,KCa],null)],null));
}).call(this);